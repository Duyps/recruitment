(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function W1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fm={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function Z1(){if(SE)return Zl;SE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:u,ref:o!==void 0?o:null,props:c}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var AE;function eC(){return AE||(AE=1,Fm.exports=Z1()),Fm.exports}var g=eC(),Hm={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function tC(){if(wE)return Se;wE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,M={};function Q(V,ne,le){this.props=V,this.context=ne,this.refs=M,this.updater=le||z}Q.prototype.isReactComponent={},Q.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},Q.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=Q.prototype;function Z(V,ne,le){this.props=V,this.context=ne,this.refs=M,this.updater=le||z}var se=Z.prototype=new $;se.constructor=Z,P(se,Q.prototype),se.isPureReactComponent=!0;var re=Array.isArray;function ue(){}var R={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(V,ne,le){var fe=le.ref;return{$$typeof:i,type:V,key:ne,ref:fe!==void 0?fe:null,props:le}}function L(V,ne){return I(V.type,ne,V.props)}function j(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function B(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return ne[le]})}var N=/\/+/g;function at(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?B(""+V.key):ne.toString(36)}function Pt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ue,ue):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function J(V,ne,le,fe,Te){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Ie){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case i:case e:Pe=!0;break;case v:return Pe=V._init,J(Pe(V._payload),ne,le,fe,Te)}}if(Pe)return Te=Te(V),Pe=fe===""?"."+at(V,0):fe,re(Te)?(le="",Pe!=null&&(le=Pe.replace(N,"$&/")+"/"),J(Te,ne,le,"",function(Vr){return Vr})):Te!=null&&(j(Te)&&(Te=L(Te,le+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+Pe)),ne.push(Te)),1;Pe=0;var Ut=fe===""?".":fe+":";if(re(V))for(var ot=0;ot<V.length;ot++)fe=V[ot],Ie=Ut+at(fe,ot),Pe+=J(fe,ne,le,Ie,Te);else if(ot=x(V),typeof ot=="function")for(V=ot.call(V),ot=0;!(fe=V.next()).done;)fe=fe.value,Ie=Ut+at(fe,ot++),Pe+=J(fe,ne,le,Ie,Te);else if(Ie==="object"){if(typeof V.then=="function")return J(Pt(V),ne,le,fe,Te);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function oe(V,ne,le){if(V==null)return V;var fe=[],Te=0;return J(V,fe,"","",function(Ie){return ne.call(le,Ie,Te++)}),fe}function ye(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var ze=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ye={map:oe,forEach:function(V,ne,le){oe(V,function(){ne.apply(this,arguments)},le)},count:function(V){var ne=0;return oe(V,function(){ne++}),ne},toArray:function(V){return oe(V,function(ne){return ne})||[]},only:function(V){if(!j(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=b,Se.Children=Ye,Se.Component=Q,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=Z,Se.StrictMode=r,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,ne,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=P({},V.props),Te=V.key;if(ne!=null)for(Ie in ne.key!==void 0&&(Te=""+ne.key),ne)!C.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(fe[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)fe.children=le;else if(1<Ie){for(var Pe=Array(Ie),Ut=0;Ut<Ie;Ut++)Pe[Ut]=arguments[Ut+2];fe.children=Pe}return I(V.type,Te,fe)},Se.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Se.createElement=function(V,ne,le){var fe,Te={},Ie=null;if(ne!=null)for(fe in ne.key!==void 0&&(Ie=""+ne.key),ne)C.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Te[fe]=ne[fe]);var Pe=arguments.length-2;if(Pe===1)Te.children=le;else if(1<Pe){for(var Ut=Array(Pe),ot=0;ot<Pe;ot++)Ut[ot]=arguments[ot+2];Te.children=Ut}if(V&&V.defaultProps)for(fe in Pe=V.defaultProps,Pe)Te[fe]===void 0&&(Te[fe]=Pe[fe]);return I(V,Ie,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=j,Se.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ye}},Se.memo=function(V,ne){return{$$typeof:y,type:V,compare:ne===void 0?null:ne}},Se.startTransition=function(V){var ne=R.T,le={};R.T=le;try{var fe=V(),Te=R.S;Te!==null&&Te(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ue,ze)}catch(Ie){ze(Ie)}finally{ne!==null&&le.types!==null&&(ne.types=le.types),R.T=ne}},Se.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Se.use=function(V){return R.H.use(V)},Se.useActionState=function(V,ne,le){return R.H.useActionState(V,ne,le)},Se.useCallback=function(V,ne){return R.H.useCallback(V,ne)},Se.useContext=function(V){return R.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,ne){return R.H.useDeferredValue(V,ne)},Se.useEffect=function(V,ne){return R.H.useEffect(V,ne)},Se.useEffectEvent=function(V){return R.H.useEffectEvent(V)},Se.useId=function(){return R.H.useId()},Se.useImperativeHandle=function(V,ne,le){return R.H.useImperativeHandle(V,ne,le)},Se.useInsertionEffect=function(V,ne){return R.H.useInsertionEffect(V,ne)},Se.useLayoutEffect=function(V,ne){return R.H.useLayoutEffect(V,ne)},Se.useMemo=function(V,ne){return R.H.useMemo(V,ne)},Se.useOptimistic=function(V,ne){return R.H.useOptimistic(V,ne)},Se.useReducer=function(V,ne,le){return R.H.useReducer(V,ne,le)},Se.useRef=function(V){return R.H.useRef(V)},Se.useState=function(V){return R.H.useState(V)},Se.useSyncExternalStore=function(V,ne,le){return R.H.useSyncExternalStore(V,ne,le)},Se.useTransition=function(){return R.H.useTransition()},Se.version="19.2.0",Se}var CE;function Kp(){return CE||(CE=1,Hm.exports=tC()),Hm.exports}var O=Kp();const ya=W1(O);var Gm={exports:{}},ec={},Km={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function nC(){return RE||(RE=1,(function(i){function e(J,oe){var ye=J.length;J.push(oe);e:for(;0<ye;){var ze=ye-1>>>1,Ye=J[ze];if(0<o(Ye,oe))J[ze]=oe,J[ye]=Ye,ye=ze;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var oe=J[0],ye=J.pop();if(ye!==oe){J[0]=ye;e:for(var ze=0,Ye=J.length,V=Ye>>>1;ze<V;){var ne=2*(ze+1)-1,le=J[ne],fe=ne+1,Te=J[fe];if(0>o(le,ye))fe<Ye&&0>o(Te,le)?(J[ze]=Te,J[fe]=ye,ze=fe):(J[ze]=le,J[ne]=ye,ze=ne);else if(fe<Ye&&0>o(Te,ye))J[ze]=Te,J[fe]=ye,ze=fe;else break e}}return oe}function o(J,oe){var ye=J.sortIndex-oe.sortIndex;return ye!==0?ye:J.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();i.unstable_now=function(){return u.now()-m}}var p=[],y=[],v=1,b=null,A=3,x=!1,z=!1,P=!1,M=!1,Q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function se(J){for(var oe=n(y);oe!==null;){if(oe.callback===null)r(y);else if(oe.startTime<=J)r(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(y)}}function re(J){if(P=!1,se(J),!z)if(n(p)!==null)z=!0,ue||(ue=!0,B());else{var oe=n(y);oe!==null&&Pt(re,oe.startTime-J)}}var ue=!1,R=-1,C=5,I=-1;function L(){return M?!0:!(i.unstable_now()-I<C)}function j(){if(M=!1,ue){var J=i.unstable_now();I=J;var oe=!0;try{e:{z=!1,P&&(P=!1,$(R),R=-1),x=!0;var ye=A;try{t:{for(se(J),b=n(p);b!==null&&!(b.expirationTime>J&&L());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,A=b.priorityLevel;var Ye=ze(b.expirationTime<=J);if(J=i.unstable_now(),typeof Ye=="function"){b.callback=Ye,se(J),oe=!0;break t}b===n(p)&&r(p),se(J)}else r(p);b=n(p)}if(b!==null)oe=!0;else{var V=n(y);V!==null&&Pt(re,V.startTime-J),oe=!1}}break e}finally{b=null,A=ye,x=!1}oe=void 0}}finally{oe?B():ue=!1}}}var B;if(typeof Z=="function")B=function(){Z(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,at=N.port2;N.port1.onmessage=j,B=function(){at.postMessage(null)}}else B=function(){Q(j,0)};function Pt(J,oe){R=Q(function(){J(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(J){switch(A){case 1:case 2:case 3:var oe=3;break;default:oe=A}var ye=A;A=oe;try{return J()}finally{A=ye}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ye=A;A=J;try{return oe()}finally{A=ye}},i.unstable_scheduleCallback=function(J,oe,ye){var ze=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ze+ye:ze):ye=ze,J){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ye+Ye,J={id:v++,callback:oe,priorityLevel:J,startTime:ye,expirationTime:Ye,sortIndex:-1},ye>ze?(J.sortIndex=ye,e(y,J),n(p)===null&&J===n(y)&&(P?($(R),R=-1):P=!0,Pt(re,ye-ze))):(J.sortIndex=Ye,e(p,J),z||x||(z=!0,ue||(ue=!0,B()))),J},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(J){var oe=A;return function(){var ye=A;A=oe;try{return J.apply(this,arguments)}finally{A=ye}}}})(Ym)),Ym}var IE;function iC(){return IE||(IE=1,Km.exports=nC()),Km.exports}var Qm={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function sC(){if(xE)return sn;xE=1;var i=Kp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:v}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,v)},sn.flushSync=function(p){var y=u.T,v=r.p;try{if(u.T=null,r.p=2,p)return p()}finally{u.T=y,r.p=v,r.d.f()}},sn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},sn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},sn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,b=m(v,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:x}):v==="script"&&r.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},sn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,b=m(v,y.crossOrigin);r.d.L(p,v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},sn.requestFormReset=function(p){r.d.r(p)},sn.unstable_batchedUpdates=function(p,y){return p(y)},sn.useFormState=function(p,y,v){return u.H.useFormState(p,y,v)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var NE;function rC(){if(NE)return Qm.exports;NE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Qm.exports=sC(),Qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function aC(){if(DE)return ec;DE=1;var i=iC(),e=Kp(),n=rC();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function u(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function y(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,l=d;break}if(S===l){E=!0,l=f,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=f;break}if(S===l){E=!0,l=d,a=f;break}S=S.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function v(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=v(t),s!==null)return s;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case Q:return"Profiler";case M:return"StrictMode";case re:return"Suspense";case ue:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case Z:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case se:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return s=t.displayName||null,s!==null?s:at(t.type)||"Memo";case C:s=t._payload,t=t._init;try{return at(t(s))}catch{}}return null}var Pt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ze=[],Ye=-1;function V(t){return{current:t}}function ne(t){0>Ye||(t.current=ze[Ye],ze[Ye]=null,Ye--)}function le(t,s){Ye++,ze[Ye]=t.current,t.current=s}var fe=V(null),Te=V(null),Ie=V(null),Pe=V(null);function Ut(t,s){switch(le(Ie,s),le(Te,t),le(fe,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Kv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Kv(s),t=Yv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(fe),le(fe,t)}function ot(){ne(fe),ne(Te),ne(Ie)}function Vr(t){t.memoizedState!==null&&le(Pe,t);var s=fe.current,a=Yv(s,t.type);s!==a&&(le(Te,t),le(fe,a))}function Ma(t){Te.current===t&&(ne(fe),ne(Te)),Pe.current===t&&(ne(Pe),$l._currentValue=ye)}var Va,La;function bi(t){if(Va===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Va=s&&s[1]||"",La=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+t+La}var $o=!1;function Lr(t,s){if(!t||$o)return"";$o=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var G=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){G=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var D=E.split(`
`),H=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===H.length)for(l=D.length-1,f=H.length-1;1<=l&&0<=f&&D[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==H[f]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{$o=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bi(a):""}function Xo(t,s){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return t.child!==s&&s!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Lr(t.type,!1);case 11:return Lr(t.type.render,!1);case 1:return Lr(t.type,!0);case 31:return bi("Activity");default:return""}}function Jo(t){try{var s="",a=null;do s+=Xo(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,zt=i.unstable_scheduleCallback,Os=i.unstable_cancelCallback,Gf=i.unstable_shouldYield,Gc=i.unstable_requestPaint,cn=i.unstable_now,Pr=i.unstable_getCurrentPriorityLevel,Wo=i.unstable_ImmediatePriority,Zo=i.unstable_UserBlockingPriority,js=i.unstable_NormalPriority,Kf=i.unstable_LowPriority,Kc=i.unstable_IdlePriority,Yc=i.log,Qc=i.unstable_setDisableYieldValue,ii=null,Yt=null;function Un(t){if(typeof Yc=="function"&&Qc(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ii,t)}catch{}}var _t=Math.clz32?Math.clz32:Xc,$c=Math.log,Pa=Math.LN2;function Xc(t){return t>>>=0,t===0?32:31-($c(t)/Pa|0)|0}var Si=256,Ur=262144,Ct=4194304;function Ai(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wi(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=Ai(l):(E&=S,E!==0?f=Ai(E):a||(a=S&~t,a!==0&&(f=Ai(a))))):(S=l&~d,S!==0?f=Ai(S):E!==0?f=Ai(E):a||(a=l&~t,a!==0&&(f=Ai(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function si(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Yf(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jc(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function Ci(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function zr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qf(t,s,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(a=E&~a;0<a;){var X=31-_t(a),ee=1<<X;S[X]=0,D[X]=-1;var G=H[X];if(G!==null)for(H[X]=null,X=0;X<G.length;X++){var Y=G[X];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Br(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~s))}function Br(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-_t(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function el(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-_t(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function tl(t,s){var a=s&-s;return a=(a&42)!==0?1:qr(a),(a&(t.suspendedLanes|s))!==0?0:a}function qr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ts(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wc(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:gE(t.type))}function ri(t,s){var a=oe.p;try{return oe.p=t,s()}finally{oe.p=a}}var ai=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ai,Ft="__reactProps$"+ai,Ri="__reactContainer$"+ai,Ua="__reactEvents$"+ai,$f="__reactListeners$"+ai,Zc="__reactHandles$"+ai,eu="__reactResources$"+ai,Ii="__reactMarker$"+ai;function za(t){delete t[Rt],delete t[Ft],delete t[Ua],delete t[$f],delete t[Zc]}function xi(t){var s=t[Rt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ri]||a[Rt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=eE(t);t!==null;){if(a=t[Rt])return a;t=eE(t)}return s}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Rt]||t[Ri]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function wn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Ni(t){var s=t[eu];return s||(s=t[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function It(t){t[Ii]=!0}var nl=new Set,il={};function Di(t,s){Oi(t,s),Oi(t+"Capture",s)}function Oi(t,s){for(il[t]=s,t=0;t<s.length;t++)nl.add(s[t])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},al={};function tu(t){return wt.call(al,t)?!0:wt.call(rl,t)?!1:sl.test(t)?al[t]=!0:(rl[t]=!0,!1)}function Ba(t,s,a){if(tu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Cn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function xt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ol(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,d.call(this,E)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Qe(t){if(!t._valueTracker){var s=ks(t)?"checked":"value";t._valueTracker=ol(t,s,""+t[s])}}function Fr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=ks(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function ji(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hr=/[\n"\\]/g;function mn(t){return t.replace(Hr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qa(t,s,a,l,f,d,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),s!=null?E==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ht(s)):t.value!==""+Ht(s)&&(t.value=""+Ht(s)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),s!=null?ll(t,E,Ht(s)):a!=null?ll(t,E,Ht(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ht(S):t.removeAttribute("name")}function nu(t,s,a,l,f,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Qe(t);return}a=a!=null?""+Ht(a):"",s=s!=null?""+Ht(s):a,S||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Qe(t)}function ll(t,s,a){s==="number"&&ji(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ms(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function iu(t,s,a){if(s!=null&&(s=""+Ht(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Ht(a):""}function Vs(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Pt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Ht(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function pn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||su.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function ul(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&cl(t,f,l)}else for(var d in s)s.hasOwnProperty(d)&&cl(t,d,s[d])}function Fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return Ls.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var hl=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ps=null,ki=null;function Gr(t){var s=zn(t);if(s&&(t=s.stateNode)){var a=t[Ft]||null;e:switch(t=s.stateNode,s.type){case"input":if(qa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[Ft]||null;if(!f)throw Error(r(90));qa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Fr(l)}break e;case"textarea":iu(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ms(t,!!a.multiple,s,!1)}}}var Ga=!1;function Us(t,s,a){if(Ga)return t(s,a);Ga=!0;try{var l=t(s);return l}finally{if(Ga=!1,(Ps!==null||ki!==null)&&(Wu(),Ps&&(s=Ps,t=ki,ki=Ps=null,Gr(s),t)))for(s=0;s<t.length;s++)Gr(t[s])}}function li(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Ft]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kr=!1;if(qn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Kr=!1}var Mi=null,fl=null,Yr=null;function dl(){if(Yr)return Yr;var t,s=fl,a=s.length,l,f="value"in Mi?Mi.value:Mi.textContent,d=f.length;for(t=0;t<a&&s[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&s[a-l]===f[d-l];l++);return Yr=f.slice(t,1<l?1-l:void 0)}function Qr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function ci(){return!1}function Qt(t){function s(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ns:ci,this.isPropagationStopped=ci,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),s}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Qt(is),zs=b({},is,{view:0,detail:0}),ml=Qt(zs),Bs,Ka,Li,Ya=b({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(Bs=t.screenX-Li.screenX,Ka=t.screenY-Li.screenY):Ka=Bs=0,Li=t),Bs)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),pl=Qt(Ya),$r=b({},Ya,{dataTransfer:0}),au=Qt($r),ou=b({},zs,{relatedTarget:0}),Xr=Qt(ou),gl=b({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=Qt(gl),Qa=b({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cu=Qt(Qa),uu=b({},is,{data:0}),Pi=Qt(uu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=du[t])?!!s[t]:!1}function qs(){return mu}var un=b({},zs,{key:function(t){if(t.key){var s=hu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(t){return t.type==="keypress"?Qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pu=Qt(un),gu=b({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=Qt(gu),h=b({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),_=Qt(h),T=b({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Qt(T),q=b({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Qt(q),ae=b({},is,{newState:0,oldState:0}),Ce=Qt(ae),vt=[9,13,27,32],He=qn&&"CompositionEvent"in window,lt=null;qn&&"documentMode"in document&&(lt=document.documentMode);var Fn=qn&&"TextEvent"in window&&!lt,Ui=qn&&(!He||lt&&8<lt&&11>=lt),ui=" ",hi=!1;function Jr(t,s){switch(t){case"keyup":return vt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function bw(t,s){switch(t){case"compositionend":return $a(s);case"keypress":return s.which!==32?null:(hi=!0,ui);case"textInput":return t=s.data,t===ui&&hi?null:t;default:return null}}function Sw(t,s){if(Xa)return t==="compositionend"||!He&&Jr(t,s)?(t=dl(),Yr=fl=Mi=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ui&&s.locale!=="ko"?null:s.data;default:return null}}var Aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iy(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Aw[t.type]:s==="textarea"}function sy(t,s,a,l){Ps?ki?ki.push(l):ki=[l]:Ps=l,s=rh(s,"onChange"),0<s.length&&(a=new Vi("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var yl=null,_l=null;function ww(t){zv(t,0)}function yu(t){var s=wn(t);if(Fr(s))return t}function ry(t,s){if(t==="change")return s}var ay=!1;if(qn){var Xf;if(qn){var Jf="oninput"in document;if(!Jf){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Jf=typeof oy.oninput=="function"}Xf=Jf}else Xf=!1;ay=Xf&&(!document.documentMode||9<document.documentMode)}function ly(){yl&&(yl.detachEvent("onpropertychange",cy),_l=yl=null)}function cy(t){if(t.propertyName==="value"&&yu(_l)){var s=[];sy(s,_l,t,Bn(t)),Us(ww,s)}}function Cw(t,s,a){t==="focusin"?(ly(),yl=s,_l=a,yl.attachEvent("onpropertychange",cy)):t==="focusout"&&ly()}function Rw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(_l)}function Iw(t,s){if(t==="click")return yu(s)}function xw(t,s){if(t==="input"||t==="change")return yu(s)}function Nw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Rn=typeof Object.is=="function"?Object.is:Nw;function vl(t,s){if(Rn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!wt.call(s,f)||!Rn(t[f],s[f]))return!1}return!0}function uy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hy(t,s){var a=uy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=uy(a)}}function fy(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?fy(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function dy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=ji(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=ji(t.document)}return s}function Wf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Dw=qn&&"documentMode"in document&&11>=document.documentMode,Ja=null,Zf=null,El=null,ed=!1;function my(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ed||Ja==null||Ja!==ji(l)||(l=Ja,"selectionStart"in l&&Wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),El&&vl(El,l)||(El=l,l=rh(Zf,"onSelect"),0<l.length&&(s=new Vi("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Ja)))}function Wr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Wa={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},td={},py={};qn&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Zr(t){if(td[t])return td[t];if(!Wa[t])return t;var s=Wa[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in py)return td[t]=s[a];return t}var gy=Zr("animationend"),yy=Zr("animationiteration"),_y=Zr("animationstart"),Ow=Zr("transitionrun"),jw=Zr("transitionstart"),kw=Zr("transitioncancel"),vy=Zr("transitionend"),Ey=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function fi(t,s){Ey.set(t,s),Di(s,[t])}var _u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Za=0,id=0;function vu(){for(var t=Za,s=id=Za=0;s<t;){var a=Hn[s];Hn[s++]=null;var l=Hn[s];Hn[s++]=null;var f=Hn[s];Hn[s++]=null;var d=Hn[s];if(Hn[s++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Ty(a,f,d)}}function Eu(t,s,a,l){Hn[Za++]=t,Hn[Za++]=s,Hn[Za++]=a,Hn[Za++]=l,id|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sd(t,s,a,l){return Eu(t,s,a,l),Tu(t)}function ea(t,s){return Eu(t,null,null,s),Tu(t)}function Ty(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&s!==null&&(f=31-_t(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Tu(t){if(50<ql)throw ql=0,dm=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var eo={};function Mw(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,s,a,l){return new Mw(t,s,a,l)}function rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rs(t,s){var a=t.alternate;return a===null?(a=In(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function by(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function bu(t,s,a,l,f,d){var E=0;if(l=t,typeof t=="function")rd(t)&&(E=1);else if(typeof t=="string")E=z1(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=In(31,a,s,f),t.elementType=I,t.lanes=d,t;case P:return ta(a.children,f,d,s);case M:E=8,f|=24;break;case Q:return t=In(12,a,s,f|2),t.elementType=Q,t.lanes=d,t;case re:return t=In(13,a,s,f),t.elementType=re,t.lanes=d,t;case ue:return t=In(19,a,s,f),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:E=10;break e;case $:E=9;break e;case se:E=11;break e;case R:E=14;break e;case C:E=16,l=null;break e}E=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=In(E,a,s,f),s.elementType=t,s.type=l,s.lanes=d,s}function ta(t,s,a,l){return t=In(7,t,l,s),t.lanes=a,t}function ad(t,s,a){return t=In(6,t,null,s),t.lanes=a,t}function Sy(t){var s=In(18,null,null,0);return s.stateNode=t,s}function od(t,s,a){return s=In(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Ay=new WeakMap;function Gn(t,s){if(typeof t=="object"&&t!==null){var a=Ay.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Jo(s)},Ay.set(t,s),s)}return{value:t,source:s,stack:Jo(s)}}var to=[],no=0,Su=null,Tl=0,Kn=[],Yn=0,Fs=null,zi=1,Bi="";function as(t,s){to[no++]=Tl,to[no++]=Su,Su=t,Tl=s}function wy(t,s,a){Kn[Yn++]=zi,Kn[Yn++]=Bi,Kn[Yn++]=Fs,Fs=t;var l=zi;t=Bi;var f=32-_t(l)-1;l&=~(1<<f),a+=1;var d=32-_t(s)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,zi=1<<32-_t(s)+f|a<<f|l,Bi=d+t}else zi=1<<d|a<<f|l,Bi=t}function ld(t){t.return!==null&&(as(t,1),wy(t,1,0))}function cd(t){for(;t===Su;)Su=to[--no],to[no]=null,Tl=to[--no],to[no]=null;for(;t===Fs;)Fs=Kn[--Yn],Kn[Yn]=null,Bi=Kn[--Yn],Kn[Yn]=null,zi=Kn[--Yn],Kn[Yn]=null}function Cy(t,s){Kn[Yn++]=zi,Kn[Yn++]=Bi,Kn[Yn++]=Fs,zi=s.id,Bi=s.overflow,Fs=t}var $t=null,it=null,Le=!1,Hs=null,Qn=!1,ud=Error(r(519));function Gs(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Gn(s,t)),ud}function Ry(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Rt]=t,s[Ft]=l,a){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(a=0;a<Hl.length;a++)De(Hl[a],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),nu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),Vs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Hv(s.textContent,a)?(l.popover!=null&&(De("beforetoggle",s),De("toggle",s)),l.onScroll!=null&&De("scroll",s),l.onScrollEnd!=null&&De("scrollend",s),l.onClick!=null&&(s.onclick=oi),s=!0):s=!1,s||Gs(t,!0)}function Iy(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:$t=$t.return}}function io(t){if(t!==$t)return!1;if(!Le)return Iy(t),Le=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Im(t.type,t.memoizedProps)),a=!a),a&&it&&Gs(t),Iy(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=Zv(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=Zv(t)}else s===27?(s=it,rr(t.type)?(t=jm,jm=null,it=t):it=s):it=$t?Xn(t.stateNode.nextSibling):null;return!0}function na(){it=$t=null,Le=!1}function hd(){var t=Hs;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),Hs=null),t}function bl(t){Hs===null?Hs=[t]:Hs.push(t)}var fd=V(null),ia=null,os=null;function Ks(t,s,a){le(fd,s._currentValue),s._currentValue=a}function ls(t){t._currentValue=fd.current,ne(fd)}function dd(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function md(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var D=0;D<s.length;D++)if(S.context===s[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),dd(d.return,a,t),l||(E=null);break e}d=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),dd(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function so(t,s,a,l){t=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var S=f.type;Rn(f.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(f===Pe.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}f=f.return}t!==null&&md(s,t,a,l),s.flags|=262144}function Au(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){ia=t,os=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return xy(ia,t)}function wu(t,s){return ia===null&&sa(t),xy(t,s)}function xy(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},os===null){if(t===null)throw Error(r(308));os=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else os=os.next=s;return a}var Vw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Lw=i.unstable_scheduleCallback,Pw=i.unstable_NormalPriority,Nt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new Vw,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&Lw(Pw,function(){t.controller.abort()})}var Al=null,gd=0,ro=0,ao=null;function Uw(t,s){if(Al===null){var a=Al=[];gd=0,ro=vm(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gd++,s.then(Ny,Ny),s}function Ny(){if(--gd===0&&Al!==null){ao!==null&&(ao.status="fulfilled");var t=Al;Al=null,ro=0,ao=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function zw(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Dy=J.S;J.S=function(t,s){mv=cn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Uw(t,s),Dy!==null&&Dy(t,s)};var ra=V(null);function yd(){var t=ra.current;return t!==null?t:tt.pooledCache}function Cu(t,s){s===null?le(ra,ra.current):le(ra,s.pool)}function Oy(){var t=yd();return t===null?null:{parent:Nt._currentValue,pool:t}}var oo=Error(r(460)),_d=Error(r(474)),Ru=Error(r(542)),Iu={then:function(){}};function jy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ky(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(oi,oi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Vy(t),t;default:if(typeof s.status=="string")s.then(oi,oi);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Vy(t),t}throw oa=s,oo}}function aa(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(oa=a,oo):a}}var oa=null;function My(){if(oa===null)throw Error(r(459));var t=oa;return oa=null,t}function Vy(t){if(t===oo||t===Ru)throw Error(r(483))}var lo=null,wl=0;function xu(t){var s=wl;return wl+=1,lo===null&&(lo=[]),ky(lo,t,s)}function Cl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Nu(t,s){throw s.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Ly(t){function s(U,k){if(t){var F=U.deletions;F===null?(U.deletions=[k],U.flags|=16):F.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)s(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function f(U,k){return U=rs(U,k),U.index=0,U.sibling=null,U}function d(U,k,F){return U.index=F,t?(F=U.alternate,F!==null?(F=F.index,F<k?(U.flags|=67108866,k):F):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,k,F,W){return k===null||k.tag!==6?(k=ad(F,U.mode,W),k.return=U,k):(k=f(k,F),k.return=U,k)}function D(U,k,F,W){var pe=F.type;return pe===P?X(U,k,F.props.children,W,F.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===C&&aa(pe)===k.type)?(k=f(k,F.props),Cl(k,F),k.return=U,k):(k=bu(F.type,F.key,F.props,null,U.mode,W),Cl(k,F),k.return=U,k)}function H(U,k,F,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=od(F,U.mode,W),k.return=U,k):(k=f(k,F.children||[]),k.return=U,k)}function X(U,k,F,W,pe){return k===null||k.tag!==7?(k=ta(F,U.mode,W,pe),k.return=U,k):(k=f(k,F),k.return=U,k)}function ee(U,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ad(""+k,U.mode,F),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return F=bu(k.type,k.key,k.props,null,U.mode,F),Cl(F,k),F.return=U,F;case z:return k=od(k,U.mode,F),k.return=U,k;case C:return k=aa(k),ee(U,k,F)}if(Pt(k)||B(k))return k=ta(k,U.mode,F,null),k.return=U,k;if(typeof k.then=="function")return ee(U,xu(k),F);if(k.$$typeof===Z)return ee(U,wu(U,k),F);Nu(U,k)}return null}function G(U,k,F,W){var pe=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pe!==null?null:S(U,k,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return F.key===pe?D(U,k,F,W):null;case z:return F.key===pe?H(U,k,F,W):null;case C:return F=aa(F),G(U,k,F,W)}if(Pt(F)||B(F))return pe!==null?null:X(U,k,F,W,null);if(typeof F.then=="function")return G(U,k,xu(F),W);if(F.$$typeof===Z)return G(U,k,wu(U,F),W);Nu(U,F)}return null}function Y(U,k,F,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(F)||null,S(k,U,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return U=U.get(W.key===null?F:W.key)||null,D(k,U,W,pe);case z:return U=U.get(W.key===null?F:W.key)||null,H(k,U,W,pe);case C:return W=aa(W),Y(U,k,F,W,pe)}if(Pt(W)||B(W))return U=U.get(F)||null,X(k,U,W,pe,null);if(typeof W.then=="function")return Y(U,k,F,xu(W),pe);if(W.$$typeof===Z)return Y(U,k,F,wu(k,W),pe);Nu(k,W)}return null}function de(U,k,F,W){for(var pe=null,qe=null,me=k,xe=k=0,je=null;me!==null&&xe<F.length;xe++){me.index>xe?(je=me,me=null):je=me.sibling;var Fe=G(U,me,F[xe],W);if(Fe===null){me===null&&(me=je);break}t&&me&&Fe.alternate===null&&s(U,me),k=d(Fe,k,xe),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe,me=je}if(xe===F.length)return a(U,me),Le&&as(U,xe),pe;if(me===null){for(;xe<F.length;xe++)me=ee(U,F[xe],W),me!==null&&(k=d(me,k,xe),qe===null?pe=me:qe.sibling=me,qe=me);return Le&&as(U,xe),pe}for(me=l(me);xe<F.length;xe++)je=Y(me,U,xe,F[xe],W),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?xe:je.key),k=d(je,k,xe),qe===null?pe=je:qe.sibling=je,qe=je);return t&&me.forEach(function(ur){return s(U,ur)}),Le&&as(U,xe),pe}function _e(U,k,F,W){if(F==null)throw Error(r(151));for(var pe=null,qe=null,me=k,xe=k=0,je=null,Fe=F.next();me!==null&&!Fe.done;xe++,Fe=F.next()){me.index>xe?(je=me,me=null):je=me.sibling;var ur=G(U,me,Fe.value,W);if(ur===null){me===null&&(me=je);break}t&&me&&ur.alternate===null&&s(U,me),k=d(ur,k,xe),qe===null?pe=ur:qe.sibling=ur,qe=ur,me=je}if(Fe.done)return a(U,me),Le&&as(U,xe),pe;if(me===null){for(;!Fe.done;xe++,Fe=F.next())Fe=ee(U,Fe.value,W),Fe!==null&&(k=d(Fe,k,xe),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe);return Le&&as(U,xe),pe}for(me=l(me);!Fe.done;xe++,Fe=F.next())Fe=Y(me,U,xe,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?xe:Fe.key),k=d(Fe,k,xe),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe);return t&&me.forEach(function(J1){return s(U,J1)}),Le&&as(U,xe),pe}function et(U,k,F,W){if(typeof F=="object"&&F!==null&&F.type===P&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case x:e:{for(var pe=F.key;k!==null;){if(k.key===pe){if(pe=F.type,pe===P){if(k.tag===7){a(U,k.sibling),W=f(k,F.props.children),W.return=U,U=W;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===C&&aa(pe)===k.type){a(U,k.sibling),W=f(k,F.props),Cl(W,F),W.return=U,U=W;break e}a(U,k);break}else s(U,k);k=k.sibling}F.type===P?(W=ta(F.props.children,U.mode,W,F.key),W.return=U,U=W):(W=bu(F.type,F.key,F.props,null,U.mode,W),Cl(W,F),W.return=U,U=W)}return E(U);case z:e:{for(pe=F.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){a(U,k.sibling),W=f(k,F.children||[]),W.return=U,U=W;break e}else{a(U,k);break}else s(U,k);k=k.sibling}W=od(F,U.mode,W),W.return=U,U=W}return E(U);case C:return F=aa(F),et(U,k,F,W)}if(Pt(F))return de(U,k,F,W);if(B(F)){if(pe=B(F),typeof pe!="function")throw Error(r(150));return F=pe.call(F),_e(U,k,F,W)}if(typeof F.then=="function")return et(U,k,xu(F),W);if(F.$$typeof===Z)return et(U,k,wu(U,F),W);Nu(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(a(U,k.sibling),W=f(k,F),W.return=U,U=W):(a(U,k),W=ad(F,U.mode,W),W.return=U,U=W),E(U)):a(U,k)}return function(U,k,F,W){try{wl=0;var pe=et(U,k,F,W);return lo=null,pe}catch(me){if(me===oo||me===Ru)throw me;var qe=In(29,me,null,U.mode);return qe.lanes=W,qe.return=U,qe}finally{}}}var la=Ly(!0),Py=Ly(!1),Ys=!1;function vd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $s(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Tu(t),Ty(t,null,a),s}return Eu(t,l,s,a),Tu(t)}function Rl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,el(t,a)}}function Td(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var bd=!1;function Il(){if(bd){var t=ao;if(t!==null)throw t}}function xl(t,s,a,l){bd=!1;var f=t.updateQueue;Ys=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,H=D.next;D.next=null,E===null?d=H:E.next=H,E=D;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==E&&(S===null?X.firstBaseUpdate=H:S.next=H,X.lastBaseUpdate=D))}if(d!==null){var ee=f.baseState;E=0,X=H=D=null,S=d;do{var G=S.lane&-536870913,Y=G!==S.lane;if(Y?(Oe&G)===G:(l&G)===G){G!==0&&G===ro&&(bd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var de=t,_e=S;G=s;var et=a;switch(_e.tag){case 1:if(de=_e.payload,typeof de=="function"){ee=de.call(et,ee,G);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=_e.payload,G=typeof de=="function"?de.call(et,ee,G):de,G==null)break e;ee=b({},ee,G);break e;case 2:Ys=!0}}G=S.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(H=X=Y,D=ee):X=X.next=Y,E|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(D=ee),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),er|=E,t.lanes=E,t.memoizedState=ee}}function Uy(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function zy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Uy(a[t],s)}var co=V(null),Du=V(0);function By(t,s){t=ys,le(Du,t),le(co,s),ys=t|s.baseLanes}function Sd(){le(Du,ys),le(co,co.current)}function Ad(){ys=Du.current,ne(co),ne(Du)}var xn=V(null),$n=null;function Xs(t){var s=t.alternate;le(Et,Et.current&1),le(xn,t),$n===null&&(s===null||co.current!==null||s.memoizedState!==null)&&($n=t)}function wd(t){le(Et,Et.current),le(xn,t),$n===null&&($n=t)}function qy(t){t.tag===22?(le(Et,Et.current),le(xn,t),$n===null&&($n=t)):Js()}function Js(){le(Et,Et.current),le(xn,xn.current)}function Nn(t){ne(xn),$n===t&&($n=null),ne(Et)}var Et=V(0);function Ou(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dm(a)||Om(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cs=0,Re=null,We=null,Dt=null,ju=!1,uo=!1,ca=!1,ku=0,Nl=0,ho=null,Bw=0;function mt(){throw Error(r(321))}function Cd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Rn(t[a],s[a]))return!1;return!0}function Rd(t,s,a,l,f,d){return cs=d,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=t===null||t.memoizedState===null?w_:qd,ca=!1,d=a(l,f),ca=!1,uo&&(d=Hy(s,a,l,f)),Fy(t),d}function Fy(t){J.H=jl;var s=We!==null&&We.next!==null;if(cs=0,Dt=We=Re=null,ju=!1,Nl=0,ho=null,s)throw Error(r(300));t===null||Ot||(t=t.dependencies,t!==null&&Au(t)&&(Ot=!0))}function Hy(t,s,a,l){Re=t;var f=0;do{if(uo&&(ho=null),Nl=0,uo=!1,25<=f)throw Error(r(301));if(f+=1,Dt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=C_,d=s(a,l)}while(uo);return d}function qw(){var t=J.H,s=t.useState()[0];return s=typeof s.then=="function"?Dl(s):s,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),s}function Id(){var t=ku!==0;return ku=0,t}function xd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Nd(t){if(ju){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}ju=!1}cs=0,Dt=We=Re=null,uo=!1,Nl=ku=0,ho=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Re.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Tt(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var s=Dt===null?Re.memoizedState:Dt.next;if(s!==null)Dt=s,We=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Dt===null?Re.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var s=Nl;return Nl+=1,ho===null&&(ho=[]),t=ky(ho,t,s),s=Re,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?w_:qd),t}function Vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===Z)return Xt(t)}throw Error(r(438,String(t)))}function Dd(t){var s=null,a=Re.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Mu(),Re.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=L;return s.index++,a}function us(t,s){return typeof s=="function"?s(t):s}function Lu(t){var s=Tt();return Od(s,We,t)}function Od(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}s.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{s=f.next;var S=E=null,D=null,H=s,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Oe&ee)===ee:(cs&ee)===ee){var G=H.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===ro&&(X=!0);else if((cs&G)===G){H=H.next,G===ro&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(S=D=ee,E=d):D=D.next=ee,Re.lanes|=G,er|=G;ee=H.action,ca&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else G={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(S=D=G,E=d):D=D.next=G,Re.lanes|=ee,er|=ee;H=H.next}while(H!==null&&H!==s);if(D===null?E=d:D.next=S,!Rn(d,t.memoizedState)&&(Ot=!0,X&&(a=ao,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jd(t){var s=Tt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);Rn(d,s.memoizedState)||(Ot=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Gy(t,s,a){var l=Re,f=Tt(),d=Le;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!Rn((We||f).memoizedState,a);if(E&&(f.memoizedState=a,Ot=!0),f=f.queue,Vd(Qy.bind(null,l,f,t),[t]),f.getSnapshot!==s||E||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,fo(9,{destroy:void 0},Yy.bind(null,l,f,a,s),null),tt===null)throw Error(r(349));d||(cs&127)!==0||Ky(l,s,a)}return a}function Ky(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Re.updateQueue,s===null?(s=Mu(),Re.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Yy(t,s,a,l){s.value=a,s.getSnapshot=l,$y(s)&&Xy(t)}function Qy(t,s,a){return a(function(){$y(s)&&Xy(t)})}function $y(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Rn(t,a)}catch{return!0}}function Xy(t){var s=ea(t,2);s!==null&&En(s,t,2)}function kd(t){var s=hn();if(typeof t=="function"){var a=t;if(t=a(),ca){Un(!0);try{a()}finally{Un(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},s}function Jy(t,s,a,l){return t.baseState=a,Od(t,We,typeof l=="function"?l:us)}function Fw(t,s,a,l,f){if(zu(t))throw Error(r(485));if(t=s.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Wy(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Wy(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var d=J.T,E={};J.T=E;try{var S=a(f,l),D=J.S;D!==null&&D(E,S),Zy(t,s,S)}catch(H){Md(t,s,H)}finally{d!==null&&E.types!==null&&(d.types=E.types),J.T=d}}else try{d=a(f,l),Zy(t,s,d)}catch(H){Md(t,s,H)}}function Zy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){e_(t,s,l)},function(l){return Md(t,s,l)}):e_(t,s,a)}function e_(t,s,a){s.status="fulfilled",s.value=a,t_(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Wy(t,a)))}function Md(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,t_(s),s=s.next;while(s!==l)}t.action=null}function t_(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function n_(t,s){return s}function i_(t,s){if(Le){var a=tt.formState;if(a!==null){e:{var l=Re;if(Le){if(it){t:{for(var f=it,d=Qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Xn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=Xn(f.nextSibling),l=f.data==="F!";break e}}Gs(l)}l=!1}l&&(s=a[0])}}return a=hn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n_,lastRenderedState:s},a.queue=l,a=b_.bind(null,Re,l),l.dispatch=a,l=kd(!1),d=Bd.bind(null,Re,!1,l.queue),l=hn(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=Fw.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function s_(t){var s=Tt();return r_(s,We,t)}function r_(t,s,a){if(s=Od(t,s,n_)[0],t=Lu(us)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Dl(s)}catch(E){throw E===oo?Ru:E}else l=s;s=Tt();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Re.flags|=2048,fo(9,{destroy:void 0},Hw.bind(null,f,a),null)),[l,d,t]}function Hw(t,s){t.action=s}function a_(t){var s=Tt(),a=We;if(a!==null)return r_(s,a,t);Tt(),s=s.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function fo(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Re.updateQueue,s===null&&(s=Mu(),Re.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function o_(){return Tt().memoizedState}function Pu(t,s,a,l){var f=hn();Re.flags|=t,f.memoizedState=fo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Uu(t,s,a,l){var f=Tt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&Cd(l,We.memoizedState.deps)?f.memoizedState=fo(s,d,a,l):(Re.flags|=t,f.memoizedState=fo(1|s,d,a,l))}function l_(t,s){Pu(8390656,8,t,s)}function Vd(t,s){Uu(2048,8,t,s)}function Gw(t){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=Mu(),Re.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function c_(t){var s=Tt().memoizedState;return Gw({ref:s,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function u_(t,s){return Uu(4,2,t,s)}function h_(t,s){return Uu(4,4,t,s)}function f_(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function d_(t,s,a){a=a!=null?a.concat([t]):null,Uu(4,4,f_.bind(null,s,t),a)}function Ld(){}function m_(t,s){var a=Tt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Cd(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function p_(t,s){var a=Tt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Cd(s,l[1]))return l[0];if(l=t(),ca){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,s],l}function Pd(t,s,a){return a===void 0||(cs&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=gv(),Re.lanes|=t,er|=t,a)}function g_(t,s,a,l){return Rn(a,s)?a:co.current!==null?(t=Pd(t,a,l),Rn(t,s)||(Ot=!0),t):(cs&42)===0||(cs&1073741824)!==0&&(Oe&261930)===0?(Ot=!0,t.memoizedState=a):(t=gv(),Re.lanes|=t,er|=t,s)}function y_(t,s,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var E=J.T,S={};J.T=S,Bd(t,!1,s,a);try{var D=f(),H=J.S;if(H!==null&&H(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=zw(D,l);Ol(t,s,X,jn(t))}else Ol(t,s,l,jn(t))}catch(ee){Ol(t,s,{then:function(){},status:"rejected",reason:ee},jn())}finally{oe.p=d,E!==null&&S.types!==null&&(E.types=S.types),J.T=E}}function Kw(){}function Ud(t,s,a,l){if(t.tag!==5)throw Error(r(476));var f=__(t).queue;y_(t,f,s,ye,a===null?Kw:function(){return v_(t),a(l)})}function __(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function v_(t){var s=__(t);s.next===null&&(s=t.alternate.memoizedState),Ol(t,s.next.queue,{},jn())}function zd(){return Xt($l)}function E_(){return Tt().memoizedState}function T_(){return Tt().memoizedState}function Yw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=jn();t=Qs(a);var l=$s(s,t,a);l!==null&&(En(l,s,a),Rl(l,s,a)),s={cache:pd()},t.payload=s;return}s=s.return}}function Qw(t,s,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zu(t)?S_(s,a):(a=sd(t,s,a,l),a!==null&&(En(a,t,l),A_(a,s,l)))}function b_(t,s,a){var l=jn();Ol(t,s,a,l)}function Ol(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zu(t))S_(s,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var E=s.lastRenderedState,S=d(E,a);if(f.hasEagerState=!0,f.eagerState=S,Rn(S,E))return Eu(t,s,f,0),tt===null&&vu(),!1}catch{}finally{}if(a=sd(t,s,f,l),a!==null)return En(a,t,l),A_(a,s,l),!0}return!1}function Bd(t,s,a,l){if(l={lane:2,revertLane:vm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zu(t)){if(s)throw Error(r(479))}else s=sd(t,a,l,2),s!==null&&En(s,t,2)}function zu(t){var s=t.alternate;return t===Re||s!==null&&s===Re}function S_(t,s){uo=ju=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function A_(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,el(t,a)}}var jl={readContext:Xt,use:Vu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};jl.useEffectEvent=mt;var w_={readContext:Xt,use:Vu,useCallback:function(t,s){return hn().memoizedState=[t,s===void 0?null:s],t},useContext:Xt,useEffect:l_,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Pu(4194308,4,f_.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Pu(4194308,4,t,s)},useInsertionEffect:function(t,s){Pu(4,2,t,s)},useMemo:function(t,s){var a=hn();s=s===void 0?null:s;var l=t();if(ca){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=hn();if(a!==void 0){var f=a(s);if(ca){Un(!0);try{a(s)}finally{Un(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Qw.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var s=hn();return t={current:t},s.memoizedState=t},useState:function(t){t=kd(t);var s=t.queue,a=b_.bind(null,Re,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Ld,useDeferredValue:function(t,s){var a=hn();return Pd(a,t,s)},useTransition:function(){var t=kd(!1);return t=y_.bind(null,Re,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Re,f=hn();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),tt===null)throw Error(r(349));(Oe&127)!==0||Ky(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,l_(Qy.bind(null,l,d,t),[t]),l.flags|=2048,fo(9,{destroy:void 0},Yy.bind(null,l,d,a,s),null),a},useId:function(){var t=hn(),s=tt.identifierPrefix;if(Le){var a=Bi,l=zi;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=ku++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Bw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:zd,useFormState:i_,useActionState:i_,useOptimistic:function(t){var s=hn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Bd.bind(null,Re,!0,a),a.dispatch=s,[t,s]},useMemoCache:Dd,useCacheRefresh:function(){return hn().memoizedState=Yw.bind(null,Re)},useEffectEvent:function(t){var s=hn(),a={impl:t};return s.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qd={readContext:Xt,use:Vu,useCallback:m_,useContext:Xt,useEffect:Vd,useImperativeHandle:d_,useInsertionEffect:u_,useLayoutEffect:h_,useMemo:p_,useReducer:Lu,useRef:o_,useState:function(){return Lu(us)},useDebugValue:Ld,useDeferredValue:function(t,s){var a=Tt();return g_(a,We.memoizedState,t,s)},useTransition:function(){var t=Lu(us)[0],s=Tt().memoizedState;return[typeof t=="boolean"?t:Dl(t),s]},useSyncExternalStore:Gy,useId:E_,useHostTransitionStatus:zd,useFormState:s_,useActionState:s_,useOptimistic:function(t,s){var a=Tt();return Jy(a,We,t,s)},useMemoCache:Dd,useCacheRefresh:T_};qd.useEffectEvent=c_;var C_={readContext:Xt,use:Vu,useCallback:m_,useContext:Xt,useEffect:Vd,useImperativeHandle:d_,useInsertionEffect:u_,useLayoutEffect:h_,useMemo:p_,useReducer:jd,useRef:o_,useState:function(){return jd(us)},useDebugValue:Ld,useDeferredValue:function(t,s){var a=Tt();return We===null?Pd(a,t,s):g_(a,We.memoizedState,t,s)},useTransition:function(){var t=jd(us)[0],s=Tt().memoizedState;return[typeof t=="boolean"?t:Dl(t),s]},useSyncExternalStore:Gy,useId:E_,useHostTransitionStatus:zd,useFormState:a_,useActionState:a_,useOptimistic:function(t,s){var a=Tt();return We!==null?Jy(a,We,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Dd,useCacheRefresh:T_};C_.useEffectEvent=c_;function Fd(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hd={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=jn(),f=Qs(l);f.payload=s,a!=null&&(f.callback=a),s=$s(t,f,l),s!==null&&(En(s,t,l),Rl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=jn(),f=Qs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=$s(t,f,l),s!==null&&(En(s,t,l),Rl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=jn(),l=Qs(a);l.tag=2,s!=null&&(l.callback=s),s=$s(t,l,a),s!==null&&(En(s,t,a),Rl(s,t,a))}};function R_(t,s,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):s.prototype&&s.prototype.isPureReactComponent?!vl(a,l)||!vl(f,d):!0}function I_(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Hd.enqueueReplaceState(s,s.state,null)}function ua(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function x_(t){_u(t)}function N_(t){console.error(t)}function D_(t){_u(t)}function Bu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function O_(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gd(t,s,a){return a=Qs(a),a.tag=3,a.payload={element:null},a.callback=function(){Bu(t,s)},a}function j_(t){return t=Qs(t),t.tag=3,t}function k_(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){O_(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){O_(s,a,l),typeof f!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function $w(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&so(s,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?Zu():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Iu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),gm(t,l,f)),!1;case 22:return a.flags|=65536,l===Iu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),gm(t,l,f)),!1}throw Error(r(435,a.tag))}return gm(t,l,f),Zu(),!1}if(Le)return s=xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==ud&&(t=Error(r(422),{cause:l}),bl(Gn(t,a)))):(l!==ud&&(s=Error(r(423),{cause:l}),bl(Gn(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Gn(l,a),f=Gd(t.stateNode,l,f),Td(t,f),pt!==4&&(pt=2)),!1;var d=Error(r(520),{cause:l});if(d=Gn(d,a),Bl===null?Bl=[d]:Bl.push(d),pt!==4&&(pt=2),s===null)return!0;l=Gn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Gd(a.stateNode,l,t),Td(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(tr===null||!tr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=j_(f),k_(f,t,a,l),Td(a,f),!1}a=a.return}while(a!==null);return!1}var Kd=Error(r(461)),Ot=!1;function Jt(t,s,a,l){s.child=t===null?Py(s,null,a,l):la(s,t.child,a,l)}function M_(t,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return sa(s),l=Rd(t,s,a,E,d,f),S=Id(),t!==null&&!Ot?(xd(t,s,f),hs(t,s,f)):(Le&&S&&ld(s),s.flags|=1,Jt(t,s,l,f),s.child)}function V_(t,s,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!rd(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,L_(t,s,d,l,f)):(t=bu(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!em(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(E,l)&&t.ref===s.ref)return hs(t,s,f)}return s.flags|=1,t=rs(d,l),t.ref=s.ref,t.return=s,s.child=t}function L_(t,s,a,l,f){if(t!==null){var d=t.memoizedProps;if(vl(d,l)&&t.ref===s.ref)if(Ot=!1,s.pendingProps=l=d,em(t,f))(t.flags&131072)!==0&&(Ot=!0);else return s.lanes=t.lanes,hs(t,s,f)}return Yd(t,s,a,l,f)}function P_(t,s,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return U_(t,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cu(s,d!==null?d.cachePool:null),d!==null?By(s,d):Sd(),qy(s);else return l=s.lanes=536870912,U_(t,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Cu(s,d.cachePool),By(s,d),Js(),s.memoizedState=null):(t!==null&&Cu(s,null),Sd(),Js());return Jt(t,s,f,a),s.child}function kl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function U_(t,s,a,l,f){var d=yd();return d=d===null?null:{parent:Nt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&Cu(s,null),Sd(),qy(s),t!==null&&so(t,s,l,!0),s.childLanes=f,null}function qu(t,s){return s=Hu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function z_(t,s,a){return la(s,t.child,null,a),t=qu(s,s.pendingProps),t.flags|=2,Nn(s),s.memoizedState=null,t}function Xw(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=qu(s,l),s.lanes=536870912,kl(null,t);if(wd(s),(t=it)?(t=Wv(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Fs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=Sy(t),a.return=s,s.child=a,$t=s,it=null)):t=null,t===null)throw Gs(s);return s.lanes=536870912,null}return qu(s,l)}var d=t.memoizedState;if(d!==null){var E=d.dehydrated;if(wd(s),f)if(s.flags&256)s.flags&=-257,s=z_(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ot||so(t,s,a,!1),f=(a&t.childLanes)!==0,Ot||f){if(l=tt,l!==null&&(E=tl(l,a),E!==0&&E!==d.retryLane))throw d.retryLane=E,ea(t,E),En(l,t,E),Kd;Zu(),s=z_(t,s,a)}else t=d.treeContext,it=Xn(E.nextSibling),$t=s,Le=!0,Hs=null,Qn=!1,t!==null&&Cy(s,t),s=qu(s,l),s.flags|=4096;return s}return t=rs(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Fu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Yd(t,s,a,l,f){return sa(s),a=Rd(t,s,a,l,void 0,f),l=Id(),t!==null&&!Ot?(xd(t,s,f),hs(t,s,f)):(Le&&l&&ld(s),s.flags|=1,Jt(t,s,a,f),s.child)}function B_(t,s,a,l,f,d){return sa(s),s.updateQueue=null,a=Hy(s,l,a,f),Fy(t),l=Id(),t!==null&&!Ot?(xd(t,s,d),hs(t,s,d)):(Le&&l&&ld(s),s.flags|=1,Jt(t,s,a,d),s.child)}function q_(t,s,a,l,f){if(sa(s),s.stateNode===null){var d=eo,E=a.contextType;typeof E=="object"&&E!==null&&(d=Xt(E)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},vd(s),E=a.contextType,d.context=typeof E=="object"&&E!==null?Xt(E):eo,d.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Fd(s,a,E,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Hd.enqueueReplaceState(d,d.state,null),xl(s,l,d,f),Il(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){d=s.stateNode;var S=s.memoizedProps,D=ua(a,S);d.props=D;var H=d.context,X=a.contextType;E=eo,typeof X=="object"&&X!==null&&(E=Xt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==E)&&I_(s,d,l,E),Ys=!1;var G=s.memoizedState;d.state=G,xl(s,l,d,f),Il(),H=s.memoizedState,S||G!==H||Ys?(typeof ee=="function"&&(Fd(s,a,ee,l),H=s.memoizedState),(D=Ys||R_(s,a,D,l,G,H,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),d.props=l,d.state=H,d.context=E,l=D):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Ed(t,s),E=s.memoizedProps,X=ua(a,E),d.props=X,ee=s.pendingProps,G=d.context,H=a.contextType,D=eo,typeof H=="object"&&H!==null&&(D=Xt(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||G!==D)&&I_(s,d,l,D),Ys=!1,G=s.memoizedState,d.state=G,xl(s,l,d,f),Il();var Y=s.memoizedState;E!==ee||G!==Y||Ys||t!==null&&t.dependencies!==null&&Au(t.dependencies)?(typeof S=="function"&&(Fd(s,a,S,l),Y=s.memoizedState),(X=Ys||R_(s,a,X,l,G,Y,D)||t!==null&&t.dependencies!==null&&Au(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),l=!1)}return d=l,Fu(t,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&l?(s.child=la(s,t.child,null,f),s.child=la(s,null,a,f)):Jt(t,s,a,f),s.memoizedState=d.state,t=s.child):t=hs(t,s,f),t}function F_(t,s,a,l){return na(),s.flags|=256,Jt(t,s,a,l),s.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $d(t){return{baseLanes:t,cachePool:Oy()}}function Xd(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=On),t}function H_(t,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,t===null){if(Le){if(f?Xs(s):Js(),(t=it)?(t=Wv(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Fs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=Sy(t),a.return=s,s.child=a,$t=s,it=null)):t=null,t===null)throw Gs(s);return Om(t)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Js(),f=s.mode,S=Hu({mode:"hidden",children:S},f),l=ta(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=$d(a),l.childLanes=Xd(t,E,a),s.memoizedState=Qd,kl(null,l)):(Xs(s),Jd(s,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)s.flags&256?(Xs(s),s.flags&=-257,s=Wd(t,s,a)):s.memoizedState!==null?(Js(),s.child=t.child,s.flags|=128,s=null):(Js(),S=l.fallback,f=s.mode,l=Hu({mode:"visible",children:l.children},f),S=ta(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,la(s,t.child,null,a),l=s.child,l.memoizedState=$d(a),l.childLanes=Xd(t,E,a),s.memoizedState=Qd,s=kl(null,l));else if(Xs(s),Om(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(r(419)),l.stack="",l.digest=E,bl({value:l,source:null,stack:null}),s=Wd(t,s,a)}else if(Ot||so(t,s,a,!1),E=(a&t.childLanes)!==0,Ot||E){if(E=tt,E!==null&&(l=tl(E,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ea(t,l),En(E,t,l),Kd;Dm(S)||Zu(),s=Wd(t,s,a)}else Dm(S)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,it=Xn(S.nextSibling),$t=s,Le=!0,Hs=null,Qn=!1,t!==null&&Cy(s,t),s=Jd(s,l.children),s.flags|=4096);return s}return f?(Js(),S=l.fallback,f=s.mode,D=t.child,H=D.sibling,l=rs(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?S=rs(H,S):(S=ta(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,kl(null,l),l=s.child,S=t.child.memoizedState,S===null?S=$d(a):(f=S.cachePool,f!==null?(D=Nt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Oy(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Xd(t,E,a),s.memoizedState=Qd,kl(t.child,l)):(Xs(s),a=t.child,t=a.sibling,a=rs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(E=s.deletions,E===null?(s.deletions=[t],s.flags|=16):E.push(t)),s.child=a,s.memoizedState=null,a)}function Jd(t,s){return s=Hu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Hu(t,s){return t=In(22,t,null,s),t.lanes=0,t}function Wd(t,s,a){return la(s,t.child,null,a),t=Jd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function G_(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),dd(t.return,s,a)}function Zd(t,s,a,l,f,d){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=f,E.treeForkCount=d)}function K_(t,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var E=Et.current,S=(E&2)!==0;if(S?(E=E&1|2,s.flags|=128):E&=1,le(Et,E),Jt(t,s,l,a),l=Le?Tl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G_(t,a,s);else if(t.tag===19)G_(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Ou(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Zd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Ou(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Zd(s,!0,a,null,d,l);break;case"together":Zd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function hs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),er|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(so(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=rs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=rs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function em(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Au(t)))}function Jw(t,s,a){switch(s.tag){case 3:Ut(s,s.stateNode.containerInfo),Ks(s,Nt,t.memoizedState.cache),na();break;case 27:case 5:Vr(s);break;case 4:Ut(s,s.stateNode.containerInfo);break;case 10:Ks(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,wd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Xs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?H_(t,s,a):(Xs(s),t=hs(t,s,a),t!==null?t.sibling:null);Xs(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(so(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return K_(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Et,Et.current),l)break;return null;case 22:return s.lanes=0,P_(t,s,a,s.pendingProps);case 24:Ks(s,Nt,t.memoizedState.cache)}return hs(t,s,a)}function Y_(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ot=!0;else{if(!em(t,a)&&(s.flags&128)===0)return Ot=!1,Jw(t,s,a);Ot=(t.flags&131072)!==0}else Ot=!1,Le&&(s.flags&1048576)!==0&&wy(s,Tl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=aa(s.elementType),s.type=t,typeof t=="function")rd(t)?(l=ua(t,l),s.tag=1,s=q_(null,s,t,l,a)):(s.tag=0,s=Yd(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===se){s.tag=11,s=M_(null,s,t,l,a);break e}else if(f===R){s.tag=14,s=V_(null,s,t,l,a);break e}}throw s=at(t)||t,Error(r(306,s,""))}}return s;case 0:return Yd(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ua(l,s.pendingProps),q_(t,s,l,f,a);case 3:e:{if(Ut(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Ed(t,s),xl(s,l,null,a);var E=s.memoizedState;if(l=E.cache,Ks(s,Nt,l),l!==d.cache&&md(s,[Nt],a,!0),Il(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=F_(t,s,l,a);break e}else if(l!==f){f=Gn(Error(r(424)),s),bl(f),s=F_(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Xn(t.firstChild),$t=s,Le=!0,Hs=null,Qn=!0,a=Py(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(na(),l===f){s=hs(t,s,a);break e}Jt(t,s,l,a)}s=s.child}return s;case 26:return Fu(t,s),t===null?(a=sE(s.type,null,s.pendingProps,null))?s.memoizedState=a:Le||(a=s.type,t=s.pendingProps,l=ah(Ie.current).createElement(a),l[Rt]=s,l[Ft]=t,Wt(l,a,t),It(l),s.stateNode=l):s.memoizedState=sE(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Vr(s),t===null&&Le&&(l=s.stateNode=tE(s.type,s.pendingProps,Ie.current),$t=s,Qn=!0,f=it,rr(s.type)?(jm=f,it=Xn(l.firstChild)):it=f),Jt(t,s,s.pendingProps.children,a),Fu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Le&&((f=l=it)&&(l=R1(l,s.type,s.pendingProps,Qn),l!==null?(s.stateNode=l,$t=s,it=Xn(l.firstChild),Qn=!1,f=!0):f=!1),f||Gs(s)),Vr(s),f=s.type,d=s.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Im(f,d)?l=null:E!==null&&Im(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Rd(t,s,qw,null,null,a),$l._currentValue=f),Fu(t,s),Jt(t,s,l,a),s.child;case 6:return t===null&&Le&&((t=a=it)&&(a=I1(a,s.pendingProps,Qn),a!==null?(s.stateNode=a,$t=s,it=null,t=!0):t=!1),t||Gs(s)),null;case 13:return H_(t,s,a);case 4:return Ut(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=la(s,null,l,a):Jt(t,s,l,a),s.child;case 11:return M_(t,s,s.type,s.pendingProps,a);case 7:return Jt(t,s,s.pendingProps,a),s.child;case 8:return Jt(t,s,s.pendingProps.children,a),s.child;case 12:return Jt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ks(s,s.type,l.value),Jt(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,sa(s),f=Xt(f),l=l(f),s.flags|=1,Jt(t,s,l,a),s.child;case 14:return V_(t,s,s.type,s.pendingProps,a);case 15:return L_(t,s,s.type,s.pendingProps,a);case 19:return K_(t,s,a);case 31:return Xw(t,s,a);case 22:return P_(t,s,a,s.pendingProps);case 24:return sa(s),l=Xt(Nt),t===null?(f=yd(),f===null&&(f=tt,d=pd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},vd(s),Ks(s,Nt,f)):((t.lanes&a)!==0&&(Ed(t,s),xl(s,null,null,a),Il()),f=t.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ks(s,Nt,l)):(l=d.cache,Ks(s,Nt,l),l!==f.cache&&md(s,[Nt],a,!0))),Jt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function fs(t){t.flags|=4}function tm(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Ev())t.flags|=8192;else throw oa=Iu,_d}else t.flags&=-16777217}function Q_(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cE(s))if(Ev())t.flags|=8192;else throw oa=Iu,_d}function Gu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Jc():536870912,t.lanes|=s,yo|=s)}function Ml(t,s){if(!Le)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function Ww(t,s,a){var l=s.pendingProps;switch(cd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return st(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ls(Nt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(io(s)?fs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hd())),st(s),null;case 26:var f=s.type,d=s.memoizedState;return t===null?(fs(s),d!==null?(st(s),Q_(s,d)):(st(s),tm(s,f,null,l,a))):d?d!==t.memoizedState?(fs(s),st(s),Q_(s,d)):(st(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&fs(s),st(s),tm(s,f,t,l,a)),null;case 27:if(Ma(s),a=Ie.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&fs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return st(s),null}t=fe.current,io(s)?Ry(s):(t=tE(f,l,a),s.stateNode=t,fs(s))}return st(s),null;case 5:if(Ma(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&fs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return st(s),null}if(d=fe.current,io(s))Ry(s);else{var E=ah(Ie.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?E.createElement(f,{is:l.is}):E.createElement(f)}}d[Rt]=s,d[Ft]=l;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=d;e:switch(Wt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fs(s)}}return st(s),tm(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&fs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=Ie.current,io(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=$t,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Rt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Hv(t.nodeValue,a)),t||Gs(s,!0)}else t=ah(t).createTextNode(l),t[Rt]=s,s.stateNode=t}return st(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=io(s),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Rt]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;st(s),t=!1}else a=hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Nn(s),s):(Nn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return st(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=io(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Rt]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;st(s),f=!1}else f=hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Nn(s),s):(Nn(s),null)}return Nn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Gu(s,s.updateQueue),st(s),null);case 4:return ot(),t===null&&Sm(s.stateNode.containerInfo),st(s),null;case 10:return ls(s.type),st(s),null;case 19:if(ne(Et),l=s.memoizedState,l===null)return st(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Ml(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=Ou(t),d!==null){for(s.flags|=128,Ml(l,!1),t=d.updateQueue,s.updateQueue=t,Gu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)by(a,t),a=a.sibling;return le(Et,Et.current&1|2),Le&&as(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&cn()>Xu&&(s.flags|=128,f=!0,Ml(l,!1),s.lanes=4194304)}else{if(!f)if(t=Ou(d),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,Gu(s,t),Ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return st(s),null}else 2*cn()-l.renderingStartTime>Xu&&a!==536870912&&(s.flags|=128,f=!0,Ml(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(t=l.last,t!==null?t.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=cn(),t.sibling=null,a=Et.current,le(Et,f?a&1|2:a&1),Le&&as(s,l.treeForkCount),t):(st(s),null);case 22:case 23:return Nn(s),Ad(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),a=s.updateQueue,a!==null&&Gu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&ne(ra),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ls(Nt),st(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Zw(t,s){switch(cd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ls(Nt),ot(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ma(s),null;case 31:if(s.memoizedState!==null){if(Nn(s),s.alternate===null)throw Error(r(340));na()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Nn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));na()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ne(Et),null;case 4:return ot(),null;case 10:return ls(s.type),null;case 22:case 23:return Nn(s),Ad(),t!==null&&ne(ra),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ls(Nt),null;case 25:return null;default:return null}}function $_(t,s){switch(cd(s),s.tag){case 3:ls(Nt),ot();break;case 26:case 27:case 5:Ma(s);break;case 4:ot();break;case 31:s.memoizedState!==null&&Nn(s);break;case 13:Nn(s);break;case 19:ne(Et);break;case 10:ls(s.type);break;case 22:case 23:Nn(s),Ad(),t!==null&&ne(ra);break;case 24:ls(Nt)}}function Vl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(S){Xe(s,s.return,S)}}function Ws(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=s;var D=a,H=S;try{H()}catch(X){Xe(f,D,X)}}}l=l.next}while(l!==d)}}catch(X){Xe(s,s.return,X)}}function X_(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{zy(s,a)}catch(l){Xe(t,t.return,l)}}}function J_(t,s,a){a.props=ua(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,s,l)}}function Ll(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,s,f)}}function qi(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,s,f)}else a.current=null}function W_(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function nm(t,s,a){try{var l=t.stateNode;T1(l,t.type,a,s),l[Ft]=s}catch(f){Xe(t,t.return,f)}}function Z_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function im(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sm(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=oi));else if(l!==4&&(l===27&&rr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(sm(t,s,a),t=t.sibling;t!==null;)sm(t,s,a),t=t.sibling}function Ku(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&rr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ku(t,s,a),t=t.sibling;t!==null;)Ku(t,s,a),t=t.sibling}function ev(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Wt(s,l,a),s[Rt]=t,s[Ft]=a}catch(d){Xe(t,t.return,d)}}var ds=!1,jt=!1,rm=!1,tv=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function e1(t,s){if(t=t.containerInfo,Cm=dh,t=dy(t),Wf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,S=-1,D=-1,H=0,X=0,ee=t,G=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(S=E+f),ee!==d||l!==0&&ee.nodeType!==3||(D=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)G=ee,ee=Y;for(;;){if(ee===t)break t;if(G===a&&++H===f&&(S=E),G===d&&++X===l&&(D=E),(Y=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Y}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rm={focusedElem:t,selectionRange:a},dh=!1,Gt=s;Gt!==null;)if(s=Gt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Gt=t;else for(;Gt!==null;){switch(s=Gt,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=ua(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Gt=t;break}Gt=s.return}}function nv(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ps(t,a),l&4&&Vl(5,a);break;case 1:if(ps(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(E){Xe(a,a.return,E)}else{var f=ua(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Xe(a,a.return,E)}}l&64&&X_(a),l&512&&Ll(a,a.return);break;case 3:if(ps(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{zy(t,s)}catch(E){Xe(a,a.return,E)}}break;case 27:s===null&&l&4&&ev(a);case 26:case 5:ps(t,a),s===null&&l&4&&W_(a),l&512&&Ll(a,a.return);break;case 12:ps(t,a);break;case 31:ps(t,a),l&4&&rv(t,a);break;case 13:ps(t,a),l&4&&av(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=c1.bind(null,a),x1(t,a))));break;case 22:if(l=a.memoizedState!==null||ds,!l){s=s!==null&&s.memoizedState!==null||jt,f=ds;var d=jt;ds=l,(jt=s)&&!d?gs(t,a,(a.subtreeFlags&8772)!==0):ps(t,a),ds=f,jt=d}break;case 30:break;default:ps(t,a)}}function iv(t){var s=t.alternate;s!==null&&(t.alternate=null,iv(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&za(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,gn=!1;function ms(t,s,a){for(a=a.child;a!==null;)sv(t,s,a),a=a.sibling}function sv(t,s,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ii,a)}catch{}switch(a.tag){case 26:jt||qi(a,s),ms(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||qi(a,s);var l=ct,f=gn;rr(a.type)&&(ct=a.stateNode,gn=!1),ms(t,s,a),Kl(a.stateNode),ct=l,gn=f;break;case 5:jt||qi(a,s);case 6:if(l=ct,f=gn,ct=null,ms(t,s,a),ct=l,gn=f,ct!==null)if(gn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Xe(a,s,d)}else try{ct.removeChild(a.stateNode)}catch(d){Xe(a,s,d)}break;case 18:ct!==null&&(gn?(t=ct,Xv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),wo(t)):Xv(ct,a.stateNode));break;case 4:l=ct,f=gn,ct=a.stateNode.containerInfo,gn=!0,ms(t,s,a),ct=l,gn=f;break;case 0:case 11:case 14:case 15:Ws(2,a,s),jt||Ws(4,a,s),ms(t,s,a);break;case 1:jt||(qi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&J_(a,s,l)),ms(t,s,a);break;case 21:ms(t,s,a);break;case 22:jt=(l=jt)||a.memoizedState!==null,ms(t,s,a),jt=l;break;default:ms(t,s,a)}}function rv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wo(t)}catch(a){Xe(s,s.return,a)}}}function av(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wo(t)}catch(a){Xe(s,s.return,a)}}function t1(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new tv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new tv),s;default:throw Error(r(435,t.tag))}}function Yu(t,s){var a=t1(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=u1.bind(null,t,l);l.then(f,f)}})}function yn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(rr(S.type)){ct=S.stateNode,gn=!1;break e}break;case 5:ct=S.stateNode,gn=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,gn=!0;break e}S=S.return}if(ct===null)throw Error(r(160));sv(d,E,f),ct=null,gn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ov(s,t),s=s.sibling}var di=null;function ov(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(s,t),_n(t),l&4&&(Ws(3,t,t.return),Vl(3,t),Ws(5,t,t.return));break;case 1:yn(s,t),_n(t),l&512&&(jt||a===null||qi(a,a.return)),l&64&&ds&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=di;if(yn(s,t),_n(t),l&512&&(jt||a===null||qi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ii]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Wt(d,l,a),d[Rt]=t,It(d),l=d;break e;case"link":var E=oE("link","href",f).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}d=f.createElement(l),Wt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=oE("meta","content",f).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}d=f.createElement(l),Wt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Rt]=t,It(d),l=d}t.stateNode=l}else lE(f,t.type,t.stateNode);else t.stateNode=aE(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?lE(f,t.type,t.stateNode):aE(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&nm(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(s,t),_n(t),l&512&&(jt||a===null||qi(a,a.return)),a!==null&&l&4&&nm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(s,t),_n(t),l&512&&(jt||a===null||qi(a,a.return)),t.flags&32){f=t.stateNode;try{pn(f,"")}catch(de){Xe(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,nm(t,f,a!==null?a.memoizedProps:f)),l&1024&&(rm=!0);break;case 6:if(yn(s,t),_n(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Xe(t,t.return,de)}}break;case 3:if(ch=null,f=di,di=oh(s.containerInfo),yn(s,t),di=f,_n(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wo(s.containerInfo)}catch(de){Xe(t,t.return,de)}rm&&(rm=!1,lv(t));break;case 4:l=di,di=oh(t.stateNode.containerInfo),yn(s,t),_n(t),di=l;break;case 12:yn(s,t),_n(t);break;case 31:yn(s,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yu(t,l)));break;case 13:yn(s,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($u=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yu(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=ds,X=jt;if(ds=H||f,jt=X||D,yn(s,t),jt=X,ds=H,_n(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||ds||jt||ha(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(d=D.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=D.stateNode;var ee=D.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(de){Xe(D,D.return,de)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(de){Xe(D,D.return,de)}}}else if(s.tag===18){if(a===null){D=s;try{var Y=D.stateNode;f?Jv(Y,!0):Jv(D.stateNode,!1)}catch(de){Xe(D,D.return,de)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yu(t,a))));break;case 19:yn(s,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yu(t,l)));break;case 30:break;case 21:break;default:yn(s,t),_n(t)}}function _n(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Z_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=im(t);Ku(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(pn(E,""),a.flags&=-33);var S=im(t);Ku(t,S,E);break;case 3:case 4:var D=a.stateNode.containerInfo,H=im(t);sm(t,H,D);break;default:throw Error(r(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function lv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;lv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ps(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)nv(t,s.alternate,s),s=s.sibling}function ha(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ws(4,s,s.return),ha(s);break;case 1:qi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&J_(s,s.return,a),ha(s);break;case 27:Kl(s.stateNode);case 26:case 5:qi(s,s.return),ha(s);break;case 22:s.memoizedState===null&&ha(s);break;case 30:ha(s);break;default:ha(s)}t=t.sibling}}function gs(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,d=s,E=d.flags;switch(d.tag){case 0:case 11:case 15:gs(f,d,a),Vl(4,d);break;case 1:if(gs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Xe(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Uy(D[f],S)}catch(H){Xe(l,l.return,H)}}a&&E&64&&X_(d),Ll(d,d.return);break;case 27:ev(d);case 26:case 5:gs(f,d,a),a&&l===null&&E&4&&W_(d),Ll(d,d.return);break;case 12:gs(f,d,a);break;case 31:gs(f,d,a),a&&E&4&&rv(f,d);break;case 13:gs(f,d,a),a&&E&4&&av(f,d);break;case 22:d.memoizedState===null&&gs(f,d,a),Ll(d,d.return);break;case 30:break;default:gs(f,d,a)}s=s.sibling}}function am(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Sl(a))}function om(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Sl(t))}function mi(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cv(t,s,a,l),s=s.sibling}function cv(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:mi(t,s,a,l),f&2048&&Vl(9,s);break;case 1:mi(t,s,a,l);break;case 3:mi(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Sl(t)));break;case 12:if(f&2048){mi(t,s,a,l),t=s.stateNode;try{var d=s.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xe(s,s.return,D)}}else mi(t,s,a,l);break;case 31:mi(t,s,a,l);break;case 13:mi(t,s,a,l);break;case 23:break;case 22:d=s.stateNode,E=s.alternate,s.memoizedState!==null?d._visibility&2?mi(t,s,a,l):Pl(t,s):d._visibility&2?mi(t,s,a,l):(d._visibility|=2,mo(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&am(E,s);break;case 24:mi(t,s,a,l),f&2048&&om(s.alternate,s);break;default:mi(t,s,a,l)}}function mo(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,E=s,S=a,D=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:mo(d,E,S,D,f),Vl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?mo(d,E,S,D,f):Pl(d,E):(X._visibility|=2,mo(d,E,S,D,f)),f&&H&2048&&am(E.alternate,E);break;case 24:mo(d,E,S,D,f),f&&H&2048&&om(E.alternate,E);break;default:mo(d,E,S,D,f)}s=s.sibling}}function Pl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:Pl(a,l),f&2048&&am(l.alternate,l);break;case 24:Pl(a,l),f&2048&&om(l.alternate,l);break;default:Pl(a,l)}s=s.sibling}}var Ul=8192;function po(t,s,a){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)uv(t,s,a),t=t.sibling}function uv(t,s,a){switch(t.tag){case 26:po(t,s,a),t.flags&Ul&&t.memoizedState!==null&&B1(a,di,t.memoizedState,t.memoizedProps);break;case 5:po(t,s,a);break;case 3:case 4:var l=di;di=oh(t.stateNode.containerInfo),po(t,s,a),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ul,Ul=16777216,po(t,s,a),Ul=l):po(t,s,a));break;default:po(t,s,a)}}function hv(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function zl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Gt=l,dv(l,t)}hv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fv(t),t=t.sibling}function fv(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&Ws(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Qu(t)):zl(t);break;default:zl(t)}}function Qu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Gt=l,dv(l,t)}hv(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ws(8,s,s.return),Qu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Qu(s));break;default:Qu(s)}t=t.sibling}}function dv(t,s){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:Ws(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=t;Gt!==null;){l=Gt;var f=l.sibling,d=l.return;if(iv(l),l===a){Gt=null;break e}if(f!==null){f.return=d,Gt=f;break e}Gt=d}}}var n1={getCacheForType:function(t){var s=Xt(Nt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Xt(Nt).controller.signal}},i1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Ne=null,Oe=0,$e=0,Dn=null,Zs=!1,go=!1,lm=!1,ys=0,pt=0,er=0,fa=0,cm=0,On=0,yo=0,Bl=null,vn=null,um=!1,$u=0,mv=0,Xu=1/0,Ju=null,tr=null,Bt=0,nr=null,_o=null,_s=0,hm=0,fm=null,pv=null,ql=0,dm=null;function jn(){return(Ge&2)!==0&&Oe!==0?Oe&-Oe:J.T!==null?vm():Wc()}function gv(){if(On===0)if((Oe&536870912)===0||Le){var t=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),On=t}else On=536870912;return t=xn.current,t!==null&&(t.flags|=32),On}function En(t,s,a){(t===tt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(vo(t,0),ir(t,Oe,On,!1)),zr(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(fa|=a),pt===4&&ir(t,Oe,On,!1)),Fi(t))}function yv(t,s,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||si(t,s),f=l?a1(t,s):pm(t,s,!0),d=l;do{if(f===0){go&&!l&&ir(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!s1(a)){f=pm(t,s,!1),d=!1;continue}if(f===2){if(d=s,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=t;f=Bl;var D=S.current.memoizedState.isDehydrated;if(D&&(vo(S,E).flags|=256),E=pm(S,E,!1),E!==2){if(lm&&!D){S.errorRecoveryDisabledLanes|=d,fa|=d,f=4;break e}d=vn,vn=f,d!==null&&(vn===null?vn=d:vn.push.apply(vn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){vo(t,0),ir(t,s,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ir(l,s,On,!Zs);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=$u+300-cn(),10<f)){if(ir(l,s,On,!Zs),wi(l,0,!0)!==0)break e;_s=s,l.timeoutHandle=Qv(_v.bind(null,l,a,vn,Ju,um,s,On,fa,yo,Zs,d,"Throttled",-0,0),f);break e}_v(l,a,vn,Ju,um,s,On,fa,yo,Zs,d,null,-0,0)}}break}while(!0);Fi(t)}function _v(t,s,a,l,f,d,E,S,D,H,X,ee,G,Y){if(t.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},uv(s,d,ee);var de=(d&62914560)===d?$u-cn():(d&4194048)===d?mv-cn():0;if(de=q1(ee,de),de!==null){_s=d,t.cancelPendingCommit=de(Cv.bind(null,t,s,d,a,l,f,E,S,D,X,ee,null,G,Y)),ir(t,d,E,!H);return}}Cv(t,s,d,a,l,f,E,S,D)}function s1(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Rn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ir(t,s,a,l){s&=~cm,s&=~fa,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var d=31-_t(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Br(t,a,s)}function Wu(){return(Ge&6)===0?(Fl(0),!1):!0}function mm(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,os=ia=null,Nd(t),lo=null,wl=0,t=Ne;for(;t!==null;)$_(t.alternate,t),t=t.return;Ne=null}}function vo(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,A1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_s=0,mm(),tt=t,Ne=a=rs(t.current,null),Oe=s,$e=0,Dn=null,Zs=!1,go=si(t,s),lm=!1,yo=On=cm=fa=er=pt=0,vn=Bl=null,um=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-_t(l),d=1<<f;s|=t[f],l&=~d}return ys=s,vu(),a}function vv(t,s){Re=null,J.H=jl,s===oo||s===Ru?(s=My(),$e=3):s===_d?(s=My(),$e=4):$e=s===Kd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dn=s,Ne===null&&(pt=1,Bu(t,Gn(s,t.current)))}function Ev(){var t=xn.current;return t===null?!0:(Oe&4194048)===Oe?$n===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===$n:!1}function Tv(){var t=J.H;return J.H=jl,t===null?jl:t}function bv(){var t=J.A;return J.A=n1,t}function Zu(){pt=4,Zs||(Oe&4194048)!==Oe&&xn.current!==null||(go=!0),(er&134217727)===0&&(fa&134217727)===0||tt===null||ir(tt,Oe,On,!1)}function pm(t,s,a){var l=Ge;Ge|=2;var f=Tv(),d=bv();(tt!==t||Oe!==s)&&(Ju=null,vo(t,s)),s=!1;var E=pt;e:do try{if($e!==0&&Ne!==null){var S=Ne,D=Dn;switch($e){case 8:mm(),E=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(s=!0);var H=$e;if($e=0,Dn=null,Eo(t,S,D,H),a&&go){E=0;break e}break;default:H=$e,$e=0,Dn=null,Eo(t,S,D,H)}}r1(),E=pt;break}catch(X){vv(t,X)}while(!0);return s&&t.shellSuspendCounter++,os=ia=null,Ge=l,J.H=f,J.A=d,Ne===null&&(tt=null,Oe=0,vu()),E}function r1(){for(;Ne!==null;)Sv(Ne)}function a1(t,s){var a=Ge;Ge|=2;var l=Tv(),f=bv();tt!==t||Oe!==s?(Ju=null,Xu=cn()+500,vo(t,s)):go=si(t,s);e:do try{if($e!==0&&Ne!==null){s=Ne;var d=Dn;t:switch($e){case 1:$e=0,Dn=null,Eo(t,s,d,1);break;case 2:case 9:if(jy(d)){$e=0,Dn=null,Av(s);break}s=function(){$e!==2&&$e!==9||tt!==t||($e=7),Fi(t)},d.then(s,s);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:jy(d)?($e=0,Dn=null,Av(s)):($e=0,Dn=null,Eo(t,s,d,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var S=Ne;if(E?cE(E):S.stateNode.complete){$e=0,Dn=null;var D=S.sibling;if(D!==null)Ne=D;else{var H=S.return;H!==null?(Ne=H,eh(H)):Ne=null}break t}}$e=0,Dn=null,Eo(t,s,d,5);break;case 6:$e=0,Dn=null,Eo(t,s,d,6);break;case 8:mm(),pt=6;break e;default:throw Error(r(462))}}o1();break}catch(X){vv(t,X)}while(!0);return os=ia=null,J.H=l,J.A=f,Ge=a,Ne!==null?0:(tt=null,Oe=0,vu(),pt)}function o1(){for(;Ne!==null&&!Gf();)Sv(Ne)}function Sv(t){var s=Y_(t.alternate,t,ys);t.memoizedProps=t.pendingProps,s===null?eh(t):Ne=s}function Av(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=B_(a,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=B_(a,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:Nd(s);default:$_(a,s),s=Ne=by(s,ys),s=Y_(a,s,ys)}t.memoizedProps=t.pendingProps,s===null?eh(t):Ne=s}function Eo(t,s,a,l){os=ia=null,Nd(s),lo=null,wl=0;var f=s.return;try{if($w(t,f,s,a,Oe)){pt=1,Bu(t,Gn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;pt=1,Bu(t,Gn(a,t.current)),Ne=null;return}s.flags&32768?(Le||l===1?t=!0:go||(Oe&536870912)!==0?t=!1:(Zs=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),wv(s,t)):eh(s)}function eh(t){var s=t;do{if((s.flags&32768)!==0){wv(s,Zs);return}t=s.return;var a=Ww(s.alternate,s,ys);if(a!==null){Ne=a;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=t}while(s!==null);pt===0&&(pt=5)}function wv(t,s){do{var a=Zw(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);pt=6,Ne=null}function Cv(t,s,a,l,f,d,E,S,D){t.cancelPendingCommit=null;do th();while(Bt!==0);if((Ge&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=id,Qf(t,a,d,E,S,D),t===tt&&(Ne=tt=null,Oe=0),_o=s,nr=t,_s=a,hm=d,fm=f,pv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,h1(js,function(){return Dv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,f=oe.p,oe.p=2,E=Ge,Ge|=4;try{e1(t,s,a)}finally{Ge=E,oe.p=f,J.T=l}}Bt=1,Rv(),Iv(),xv()}}function Rv(){if(Bt===1){Bt=0;var t=nr,s=_o,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=oe.p;oe.p=2;var f=Ge;Ge|=4;try{ov(s,t);var d=Rm,E=dy(t.containerInfo),S=d.focusedElem,D=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&fy(S.ownerDocument.documentElement,S)){if(D!==null&&Wf(S)){var H=D.start,X=D.end;if(X===void 0&&(X=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(X,S.value.length);else{var ee=S.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Y=G.getSelection(),de=S.textContent.length,_e=Math.min(D.start,de),et=D.end===void 0?_e:Math.min(D.end,de);!Y.extend&&_e>et&&(E=et,et=_e,_e=E);var U=hy(S,_e),k=hy(S,et);if(U&&k&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var F=ee.createRange();F.setStart(U.node,U.offset),Y.removeAllRanges(),_e>et?(Y.addRange(F),Y.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),Y.addRange(F))}}}}for(ee=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var W=ee[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}dh=!!Cm,Rm=Cm=null}finally{Ge=f,oe.p=l,J.T=a}}t.current=s,Bt=2}}function Iv(){if(Bt===2){Bt=0;var t=nr,s=_o,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=oe.p;oe.p=2;var f=Ge;Ge|=4;try{nv(t,s.alternate,s)}finally{Ge=f,oe.p=l,J.T=a}}Bt=3}}function xv(){if(Bt===4||Bt===3){Bt=0,Gc();var t=nr,s=_o,a=_s,l=pv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Bt=5:(Bt=0,_o=nr=null,Nv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(tr=null),ts(a),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ii,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=J.T,f=oe.p,oe.p=2,J.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];d(S.value,{componentStack:S.stack})}}finally{J.T=s,oe.p=f}}(_s&3)!==0&&th(),Fi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===dm?ql++:(ql=0,dm=t):ql=0,Fl(0)}}function Nv(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Sl(s)))}function th(){return Rv(),Iv(),xv(),Dv()}function Dv(){if(Bt!==5)return!1;var t=nr,s=hm;hm=0;var a=ts(_s),l=J.T,f=oe.p;try{oe.p=32>a?32:a,J.T=null,a=fm,fm=null;var d=nr,E=_s;if(Bt=0,_o=nr=null,_s=0,(Ge&6)!==0)throw Error(r(331));var S=Ge;if(Ge|=4,fv(d.current),cv(d,d.current,E,a),Ge=S,Fl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ii,d)}catch{}return!0}finally{oe.p=f,J.T=l,Nv(t,s)}}function Ov(t,s,a){s=Gn(a,s),s=Gd(t.stateNode,s,2),t=$s(t,s,2),t!==null&&(zr(t,2),Fi(t))}function Xe(t,s,a){if(t.tag===3)Ov(t,t,a);else for(;s!==null;){if(s.tag===3){Ov(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){t=Gn(a,t),a=j_(2),l=$s(s,a,2),l!==null&&(k_(a,l,s,t),zr(l,2),Fi(l));break}}s=s.return}}function gm(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new i1;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(lm=!0,f.add(a),t=l1.bind(null,t,s,a),s.then(t,t))}function l1(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Oe&a)===a&&(pt===4||pt===3&&(Oe&62914560)===Oe&&300>cn()-$u?(Ge&2)===0&&vo(t,0):cm|=a,yo===Oe&&(yo=0)),Fi(t)}function jv(t,s){s===0&&(s=Jc()),t=ea(t,s),t!==null&&(zr(t,s),Fi(t))}function c1(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),jv(t,a)}function u1(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),jv(t,a)}function h1(t,s){return zt(t,s)}var nh=null,To=null,ym=!1,ih=!1,_m=!1,sr=0;function Fi(t){t!==To&&t.next===null&&(To===null?nh=To=t:To=To.next=t),ih=!0,ym||(ym=!0,d1())}function Fl(t,s){if(!_m&&ih){_m=!0;do for(var a=!1,l=nh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-_t(42|t)+1)-1,d&=f&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Lv(l,d))}else d=Oe,d=wi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||si(l,d)||(a=!0,Lv(l,d));l=l.next}while(a);_m=!1}}function f1(){kv()}function kv(){ih=ym=!1;var t=0;sr!==0&&S1()&&(t=sr);for(var s=cn(),a=null,l=nh;l!==null;){var f=l.next,d=Mv(l,s);d===0?(l.next=null,a===null?nh=f:a.next=f,f===null&&(To=a)):(a=l,(t!==0||(d&3)!==0)&&(ih=!0)),l=f}Bt!==0&&Bt!==5||Fl(t),sr!==0&&(sr=0)}function Mv(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-_t(d),S=1<<E,D=f[E];D===-1?((S&a)===0||(S&l)!==0)&&(f[E]=Yf(S,s)):D<=s&&(t.expiredLanes|=S),d&=~S}if(s=tt,a=Oe,a=wi(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Os(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||si(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Os(l),ts(a)){case 2:case 8:a=Zo;break;case 32:a=js;break;case 268435456:a=Kc;break;default:a=js}return l=Vv.bind(null,t),a=zt(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Os(l),t.callbackPriority=2,t.callbackNode=null,2}function Vv(t,s){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(th()&&t.callbackNode!==a)return null;var l=Oe;return l=wi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(yv(t,l,s),Mv(t,cn()),t.callbackNode!=null&&t.callbackNode===a?Vv.bind(null,t):null)}function Lv(t,s){if(th())return null;yv(t,s,!0)}function d1(){w1(function(){(Ge&6)!==0?zt(Wo,f1):kv()})}function vm(){if(sr===0){var t=ro;t===0&&(t=Si,Si<<=1,(Si&261888)===0&&(Si=256)),sr=t}return sr}function Pv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function Uv(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function m1(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=Pv((f[Ft]||null).action),E=l.submitter;E&&(s=(s=E[Ft]||null)?Pv(s.formAction):E.getAttribute("formAction"),s!==null&&(d=s,E=null));var S=new Vi("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sr!==0){var D=E?Uv(f,E):new FormData(f);Ud(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=E?Uv(f,E):new FormData(f),Ud(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Em=0;Em<nd.length;Em++){var Tm=nd[Em],p1=Tm.toLowerCase(),g1=Tm[0].toUpperCase()+Tm.slice(1);fi(p1,"on"+g1)}fi(gy,"onAnimationEnd"),fi(yy,"onAnimationIteration"),fi(_y,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(Ow,"onTransitionRun"),fi(jw,"onTransitionStart"),fi(kw,"onTransitionCancel"),fi(vy,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function zv(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var E=l.length-1;0<=E;E--){var S=l[E],D=S.instance,H=S.currentTarget;if(S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=H;try{d(f)}catch(X){_u(X)}f.currentTarget=null,d=D}else for(E=0;E<l.length;E++){if(S=l[E],D=S.instance,H=S.currentTarget,S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=H;try{d(f)}catch(X){_u(X)}f.currentTarget=null,d=D}}}}function De(t,s){var a=s[Ua];a===void 0&&(a=s[Ua]=new Set);var l=t+"__bubble";a.has(l)||(Bv(s,t,2,!1),a.add(l))}function bm(t,s,a){var l=0;s&&(l|=4),Bv(a,t,l,s)}var sh="_reactListening"+Math.random().toString(36).slice(2);function Sm(t){if(!t[sh]){t[sh]=!0,nl.forEach(function(a){a!=="selectionchange"&&(y1.has(a)||bm(a,!1,t),bm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[sh]||(s[sh]=!0,bm("selectionchange",!1,s))}}function Bv(t,s,a,l){switch(gE(s)){case 2:var f=G1;break;case 8:f=K1;break;default:f=Pm}a=f.bind(null,s,a,t),f=void 0,!Kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function Am(t,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=xi(S),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=d=E;continue e}S=S.parentNode}}l=l.return}Us(function(){var H=d,X=Bn(a),ee=[];e:{var G=Ey.get(t);if(G!==void 0){var Y=Vi,de=t;switch(t){case"keypress":if(Qr(a)===0)break e;case"keydown":case"keyup":Y=pu;break;case"focusin":de="focus",Y=Xr;break;case"focusout":de="blur",Y=Xr;break;case"beforeblur":case"afterblur":Y=Xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_;break;case gy:case yy:case _y:Y=lu;break;case vy:Y=w;break;case"scroll":case"scrollend":Y=ml;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ss;break;case"toggle":case"beforetoggle":Y=Ce}var _e=(s&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),U=_e?G!==null?G+"Capture":null:G;_e=[];for(var k=H,F;k!==null;){var W=k;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||U===null||(W=li(k,U),W!=null&&_e.push(Gl(k,W,F))),et)break;k=k.return}0<_e.length&&(G=new Y(G,de,null,a,X),ee.push({event:G,listeners:_e}))}}if((s&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&a!==hl&&(de=a.relatedTarget||a.fromElement)&&(xi(de)||de[Ri]))break e;if((Y||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(de=a.relatedTarget||a.toElement,Y=H,de=de?xi(de):null,de!==null&&(et=c(de),_e=de.tag,de!==et||_e!==5&&_e!==27&&_e!==6)&&(de=null)):(Y=null,de=H),Y!==de)){if(_e=pl,W="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ss,W="onPointerLeave",U="onPointerEnter",k="pointer"),et=Y==null?G:wn(Y),F=de==null?G:wn(de),G=new _e(W,k+"leave",Y,a,X),G.target=et,G.relatedTarget=F,W=null,xi(X)===H&&(_e=new _e(U,k+"enter",de,a,X),_e.target=F,_e.relatedTarget=et,W=_e),et=W,Y&&de)t:{for(_e=_1,U=Y,k=de,F=0,W=U;W;W=_e(W))F++;W=0;for(var pe=k;pe;pe=_e(pe))W++;for(;0<F-W;)U=_e(U),F--;for(;0<W-F;)k=_e(k),W--;for(;F--;){if(U===k||k!==null&&U===k.alternate){_e=U;break t}U=_e(U),k=_e(k)}_e=null}else _e=null;Y!==null&&qv(ee,G,Y,_e,!1),de!==null&&et!==null&&qv(ee,et,de,_e,!0)}}e:{if(G=H?wn(H):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var qe=ry;else if(iy(G))if(ay)qe=xw;else{qe=Rw;var me=Cw}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Fa(H.elementType)&&(qe=ry):qe=Iw;if(qe&&(qe=qe(t,H))){sy(ee,qe,a,X);break e}me&&me(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&ll(G,"number",G.value)}switch(me=H?wn(H):window,t){case"focusin":(iy(me)||me.contentEditable==="true")&&(Ja=me,Zf=H,El=null);break;case"focusout":El=Zf=Ja=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,my(ee,a,X);break;case"selectionchange":if(Dw)break;case"keydown":case"keyup":my(ee,a,X)}var xe;if(He)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Xa?Jr(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Ui&&a.locale!=="ko"&&(Xa||je!=="onCompositionStart"?je==="onCompositionEnd"&&Xa&&(xe=dl()):(Mi=X,fl="value"in Mi?Mi.value:Mi.textContent,Xa=!0)),me=rh(H,je),0<me.length&&(je=new Pi(je,t,null,a,X),ee.push({event:je,listeners:me}),xe?je.data=xe:(xe=$a(a),xe!==null&&(je.data=xe)))),(xe=Fn?bw(t,a):Sw(t,a))&&(je=rh(H,"onBeforeInput"),0<je.length&&(me=new Pi("onBeforeInput","beforeinput",null,a,X),ee.push({event:me,listeners:je}),me.data=xe)),m1(ee,t,H,a,X)}zv(ee,s)})}function Gl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function rh(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=li(t,a),f!=null&&l.unshift(Gl(t,f,d)),f=li(t,s),f!=null&&l.push(Gl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function _1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qv(t,s,a,l,f){for(var d=s._reactName,E=[];a!==null&&a!==l;){var S=a,D=S.alternate,H=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||H===null||(D=H,f?(H=li(a,d),H!=null&&E.unshift(Gl(a,H,D))):f||(H=li(a,d),H!=null&&E.push(Gl(a,H,D)))),a=a.return}E.length!==0&&t.push({event:s,listeners:E})}var v1=/\r\n?/g,E1=/\u0000|\uFFFD/g;function Fv(t){return(typeof t=="string"?t:""+t).replace(v1,`
`).replace(E1,"")}function Hv(t,s){return s=Fv(s),Fv(t)===s}function Ze(t,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&pn(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,a,l);break;case"style":ul(t,l,d);break;case"data":if(s!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Ze(t,s,"name",f.name,f,null),Ze(t,s,"formEncType",f.formEncType,f,null),Ze(t,s,"formMethod",f.formMethod,f,null),Ze(t,s,"formTarget",f.formTarget,f,null)):(Ze(t,s,"encType",f.encType,f,null),Ze(t,s,"method",f.method,f,null),Ze(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=oi);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Ba(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ru.get(a)||a,Ba(t,a,l))}}function wm(t,s,a,l,f,d){switch(a){case"style":ul(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=t[Ft]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ba(t,a,l)}}}function Wt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(t,s,d,E,a,null)}}f&&Ze(t,s,"srcSet",a.srcSet,a,null),l&&Ze(t,s,"src",a.src,a,null);return;case"input":De("invalid",t);var S=d=E=f=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":E=X;break;case"checked":D=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:Ze(t,s,l,X,a,null)}}nu(t,d,S,D,H,E,f,!1);return;case"select":De("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:Ze(t,s,f,S,a,null)}s=d,a=E,t.multiple=!!l,s!=null?Ms(t,!!l,s,!1):a!=null&&Ms(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Ze(t,s,E,S,a,null)}Vs(t,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,s,D,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Hl.length;l++)De(Hl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(t,s,H,l,a,null)}return;default:if(Fa(s)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&wm(t,s,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,s,S,l,a,null))}function T1(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,S=null,D=null,H=null,X=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(Y)||Ze(t,s,Y,null,l,ee)}}for(var G in l){var Y=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Y!=null||ee!=null))switch(G){case"type":d=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":X=Y;break;case"value":E=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==ee&&Ze(t,s,G,Y,l,ee)}}qa(t,E,S,D,H,X,d,f);return;case"select":Y=E=S=G=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||Ze(t,s,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==D&&Ze(t,s,f,d,l,D)}s=S,a=E,l=Y,G!=null?Ms(t,!!a,G,!1):!!l!=!!a&&(s!=null?Ms(t,!!a,s,!0):Ms(t,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,s,S,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Ze(t,s,E,f,l,d)}iu(t,G,Y);return;case"option":for(var de in a)if(G=a[de],a.hasOwnProperty(de)&&G!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:Ze(t,s,de,null,l,G)}for(D in l)if(G=l[D],Y=a[D],l.hasOwnProperty(D)&&G!==Y&&(G!=null||Y!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(t,s,D,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&Ze(t,s,_e,null,l,G);for(H in l)if(G=l[H],Y=a[H],l.hasOwnProperty(H)&&G!==Y&&(G!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:Ze(t,s,H,G,l,Y)}return;default:if(Fa(s)){for(var et in a)G=a[et],a.hasOwnProperty(et)&&G!==void 0&&!l.hasOwnProperty(et)&&wm(t,s,et,void 0,l,G);for(X in l)G=l[X],Y=a[X],!l.hasOwnProperty(X)||G===Y||G===void 0&&Y===void 0||wm(t,s,X,G,l,Y);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&Ze(t,s,U,null,l,G);for(ee in l)G=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||G===Y||G==null&&Y==null||Ze(t,s,ee,G,l,Y)}function Gv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,E=f.initiatorType,S=f.duration;if(d&&S&&Gv(E)){for(E=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],H=D.startTime;if(H>S)break;var X=D.transferSize,ee=D.initiatorType;X&&Gv(ee)&&(D=D.responseEnd,E+=X*(D<S?1:(S-H)/(D-H)))}if(--l,s+=8*(d+E)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Cm=null,Rm=null;function ah(t){return t.nodeType===9?t:t.ownerDocument}function Kv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Im(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xm=null;function S1(){var t=window.event;return t&&t.type==="popstate"?t===xm?!1:(xm=t,!0):(xm=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,A1=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(t){return $v.resolve(null).then(t).catch(C1)}:Qv;function C1(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function Xv(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),wo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Kl(a);for(var d=a.firstChild;d;){var E=d.nextSibling,S=d.nodeName;d[Ii]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=E}}else a==="body"&&Kl(t.ownerDocument.body);a=f}while(a);wo(s)}function Jv(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Nm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nm(a),za(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function R1(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ii])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function I1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function Wv(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Xn(t.nextSibling),t===null))return null;return t}function Dm(t){return t.data==="$?"||t.data==="$~"}function Om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function x1(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var jm=null;function Zv(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Xn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function eE(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function tE(t,s,a){switch(s=ah(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Kl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);za(t)}var Jn=new Map,nE=new Set;function oh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vs=oe.d;oe.d={f:N1,r:D1,D:O1,C:j1,L:k1,m:M1,X:L1,S:V1,M:P1};function N1(){var t=vs.f(),s=Wu();return t||s}function D1(t){var s=zn(t);s!==null&&s.tag===5&&s.type==="form"?v_(s):vs.r(t)}var bo=typeof document>"u"?null:document;function iE(t,s,a){var l=bo;if(l&&typeof s=="string"&&s){var f=mn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),nE.has(f)||(nE.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Wt(s,"link",t),It(s),l.head.appendChild(s)))}}function O1(t){vs.D(t),iE("dns-prefetch",t,null)}function j1(t,s){vs.C(t,s),iE("preconnect",t,s)}function k1(t,s,a){vs.L(t,s,a);var l=bo;if(l&&t&&s){var f='link[rel="preload"][as="'+mn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+mn(a.imageSizes)+'"]')):f+='[href="'+mn(t)+'"]';var d=f;switch(s){case"style":d=So(t);break;case"script":d=Ao(t)}Jn.has(d)||(t=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Jn.set(d,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(Yl(d))||s==="script"&&l.querySelector(Ql(d))||(s=l.createElement("link"),Wt(s,"link",t),It(s),l.head.appendChild(s)))}}function M1(t,s){vs.m(t,s);var a=bo;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ao(t)}if(!Jn.has(d)&&(t=b({rel:"modulepreload",href:t},s),Jn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(d)))return}l=a.createElement("link"),Wt(l,"link",t),It(l),a.head.appendChild(l)}}}function V1(t,s,a){vs.S(t,s,a);var l=bo;if(l&&t){var f=Ni(l).hoistableStyles,d=So(t);s=s||"default";var E=f.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(Yl(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Jn.get(d))&&km(t,a);var D=E=l.createElement("link");It(D),Wt(D,"link",t),D._p=new Promise(function(H,X){D.onload=H,D.onerror=X}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,lh(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(d,E)}}}function L1(t,s){vs.X(t,s);var a=bo;if(a&&t){var l=Ni(a).hoistableScripts,f=Ao(t),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(t=b({src:t,async:!0},s),(s=Jn.get(f))&&Mm(t,s),d=a.createElement("script"),It(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function P1(t,s){vs.M(t,s);var a=bo;if(a&&t){var l=Ni(a).hoistableScripts,f=Ao(t),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(t=b({src:t,async:!0,type:"module"},s),(s=Jn.get(f))&&Mm(t,s),d=a.createElement("script"),It(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function sE(t,s,a,l){var f=(f=Ie.current)?oh(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=So(a.href),a=Ni(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=So(a.href);var d=Ni(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(Yl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(t,a),d||U1(f,t,a,E.state))),s&&l===null)throw Error(r(528,""));return E}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ao(a),a=Ni(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function So(t){return'href="'+mn(t)+'"'}function Yl(t){return'link[rel="stylesheet"]['+t+"]"}function rE(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function U1(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Wt(s,"link",a),It(s),t.head.appendChild(s))}function Ao(t){return'[src="'+mn(t)+'"]'}function Ql(t){return"script[async]"+t}function aE(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+mn(a.href)+'"]');if(l)return s.instance=l,It(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),Wt(l,"style",f),lh(l,a.precedence,t),s.instance=l;case"stylesheet":f=So(a.href);var d=t.querySelector(Yl(f));if(d)return s.state.loading|=4,s.instance=d,It(d),d;l=rE(a),(f=Jn.get(f))&&km(l,f),d=(t.ownerDocument||t).createElement("link"),It(d);var E=d;return E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Wt(d,"link",l),s.state.loading|=4,lh(d,a.precedence,t),s.instance=d;case"script":return d=Ao(a.src),(f=t.querySelector(Ql(d)))?(s.instance=f,It(f),f):(l=a,(f=Jn.get(d))&&(l=b({},a),Mm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),It(f),Wt(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,lh(l,a.precedence,t));return s.instance}function lh(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function km(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Mm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var ch=null;function oE(t,s,a){if(ch===null){var l=new Map,f=ch=new Map;f.set(a,l)}else f=ch,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ii]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(s)||"";E=t+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function lE(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function z1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function cE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function B1(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=So(l.href),d=s.querySelector(Yl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=uh.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,It(d);return}d=s.ownerDocument||s,l=rE(l),(f=Jn.get(f))&&km(l,f),d=d.createElement("link"),It(d);var E=d;E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Wt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=uh.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Vm=0;function q1(t,s){return t.stylesheets&&t.count===0&&fh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&fh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&Vm===0&&(Vm=62500*b1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&fh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Vm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hh=null;function fh(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hh=new Map,s.forEach(F1,t),hh=null,uh.call(t))}function F1(t,s){if(!(s.state.loading&4)){var a=hh.get(t);if(a)var l=a.get(null);else{a=new Map,hh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=s.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=uh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var $l={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function H1(t,s,a,l,f,d,E,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function uE(t,s,a,l,f,d,E,S,D,H,X,ee){return t=new H1(t,s,a,E,D,H,X,ee,S),s=1,d===!0&&(s|=24),d=In(3,null,null,s),t.current=d,d.stateNode=t,s=pd(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},vd(d),t}function hE(t){return t?(t=eo,t):eo}function fE(t,s,a,l,f,d){f=hE(f),l.context===null?l.context=f:l.pendingContext=f,l=Qs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=$s(t,l,s),a!==null&&(En(a,t,s),Rl(a,t,s))}function dE(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Lm(t,s){dE(t,s),(t=t.alternate)&&dE(t,s)}function mE(t){if(t.tag===13||t.tag===31){var s=ea(t,67108864);s!==null&&En(s,t,67108864),Lm(t,67108864)}}function pE(t){if(t.tag===13||t.tag===31){var s=jn();s=qr(s);var a=ea(t,s);a!==null&&En(a,t,s),Lm(t,s)}}var dh=!0;function G1(t,s,a,l){var f=J.T;J.T=null;var d=oe.p;try{oe.p=2,Pm(t,s,a,l)}finally{oe.p=d,J.T=f}}function K1(t,s,a,l){var f=J.T;J.T=null;var d=oe.p;try{oe.p=8,Pm(t,s,a,l)}finally{oe.p=d,J.T=f}}function Pm(t,s,a,l){if(dh){var f=Um(l);if(f===null)Am(t,s,l,mh,a),yE(t,l);else if(Q1(f,t,s,a,l))l.stopPropagation();else if(yE(t,l),s&4&&-1<Y1.indexOf(t)){for(;f!==null;){var d=zn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Ai(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var D=1<<31-_t(E);S.entanglements[1]|=D,E&=~D}Fi(d),(Ge&6)===0&&(Xu=cn()+500,Fl(0))}}break;case 31:case 13:S=ea(d,2),S!==null&&En(S,d,2),Wu(),Lm(d,2)}if(d=Um(l),d===null&&Am(t,s,l,mh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Am(t,s,l,null,a)}}function Um(t){return t=Bn(t),zm(t)}var mh=null;function zm(t){if(mh=null,t=xi(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=u(s),t!==null)return t;t=null}else if(a===31){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return mh=t,null}function gE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case Wo:return 2;case Zo:return 8;case js:case Kf:return 32;case Kc:return 268435456;default:return 32}default:return 32}}var Bm=!1,ar=null,or=null,lr=null,Xl=new Map,Jl=new Map,cr=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yE(t,s){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Xl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(s.pointerId)}}function Wl(t,s,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=zn(s),s!==null&&mE(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function Q1(t,s,a,l,f){switch(s){case"focusin":return ar=Wl(ar,t,s,a,l,f),!0;case"dragenter":return or=Wl(or,t,s,a,l,f),!0;case"mouseover":return lr=Wl(lr,t,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Xl.set(d,Wl(Xl.get(d)||null,t,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Jl.set(d,Wl(Jl.get(d)||null,t,s,a,l,f)),!0}return!1}function _E(t){var s=xi(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){t.blockedOn=s,ri(t.priority,function(){pE(a)});return}}else if(s===31){if(s=m(a),s!==null){t.blockedOn=s,ri(t.priority,function(){pE(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);hl=l,a.target.dispatchEvent(l),hl=null}else return s=zn(a),s!==null&&mE(s),t.blockedOn=a,!1;s.shift()}return!0}function vE(t,s,a){ph(t)&&a.delete(s)}function $1(){Bm=!1,ar!==null&&ph(ar)&&(ar=null),or!==null&&ph(or)&&(or=null),lr!==null&&ph(lr)&&(lr=null),Xl.forEach(vE),Jl.forEach(vE)}function gh(t,s){t.blockedOn===s&&(t.blockedOn=null,Bm||(Bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$1)))}var yh=null;function EE(t){yh!==t&&(yh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yh===t&&(yh=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(zm(l||a)===null)continue;break}var d=zn(a);d!==null&&(t.splice(s,3),s-=3,Ud(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function wo(t){function s(D){return gh(D,t)}ar!==null&&gh(ar,t),or!==null&&gh(or,t),lr!==null&&gh(lr,t),Xl.forEach(s),Jl.forEach(s);for(var a=0;a<cr.length;a++){var l=cr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cr.length&&(a=cr[0],a.blockedOn===null);)_E(a),a.blockedOn===null&&cr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Ft]||null;if(typeof d=="function")E||EE(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Ft]||null)S=E.formAction;else if(zm(f)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),EE(a)}}}function TE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function qm(t){this._internalRoot=t}_h.prototype.render=qm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=jn();fE(a,l,t,s,null,null)},_h.prototype.unmount=qm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;fE(t.current,2,null,t,null,null),Wu(),s[Ri]=null}};function _h(t){this._internalRoot=t}_h.prototype.unstable_scheduleHydration=function(t){if(t){var s=Wc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<cr.length&&s!==0&&s<cr[a].priority;a++);cr.splice(a,0,t),a===0&&_E(t)}};var bE=e.version;if(bE!=="19.2.0")throw Error(r(527,bE,"19.2.0"));oe.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(s),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var X1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{ii=vh.inject(X1),Yt=vh}catch{}}return ec.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",f=x_,d=N_,E=D_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=uE(t,1,!1,null,null,a,l,null,f,d,E,TE),t[Ri]=s.current,Sm(t),new qm(s)},ec.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,f="",d=x_,E=N_,S=D_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=uE(t,1,!0,s,a??null,l,f,D,d,E,S,TE),s.context=hE(null),a=s.current,l=jn(),l=qr(l),f=Qs(l),f.callback=null,$s(a,f,l),a=l,s.current.lanes=a,zr(s,a),Fi(s),t[Ri]=s.current,Sm(t),new _h(s)},ec.version="19.2.0",ec}var OE;function oC(){if(OE)return Gm.exports;OE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=aC(),Gm.exports}var lC=oC();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jE="popstate";function cC(i={}){function e(o,c){let{pathname:u="/",search:m="",hash:p=""}=Ra(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),mp("",{pathname:u,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let u=o.document.querySelector("base"),m="";if(u&&u.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof c=="string"?c:_c(c))}function r(o,c){gi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return hC(e,n,r,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function gi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uC(){return Math.random().toString(36).substring(2,10)}function kE(i,e){return{usr:i.state,key:i.key,idx:e}}function mp(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ra(e):e,state:n,key:e&&e.key||r||uC()}}function _c({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ra(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function hC(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,m="POP",p=null,y=v();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function v(){return(u.state||{idx:null}).idx}function b(){m="POP";let M=v(),Q=M==null?null:M-y;y=M,p&&p({action:m,location:P.location,delta:Q})}function A(M,Q){m="PUSH";let $=mp(P.location,M,Q);n&&n($,M),y=v()+1;let Z=kE($,y),se=P.createHref($);try{u.pushState(Z,"",se)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(se)}c&&p&&p({action:m,location:P.location,delta:1})}function x(M,Q){m="REPLACE";let $=mp(P.location,M,Q);n&&n($,M),y=v();let Z=kE($,y),se=P.createHref($);u.replaceState(Z,"",se),c&&p&&p({action:m,location:P.location,delta:0})}function z(M){return fC(M)}let P={get action(){return m},get location(){return i(o,u)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(jE,b),p=M,()=>{o.removeEventListener(jE,b),p=null}},createHref(M){return e(o,M)},createURL:z,encodeLocation(M){let Q=z(M);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:x,go(M){return u.go(M)}};return P}function fC(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:_c(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Db(i,e,n="/"){return dC(i,e,n,!1)}function dC(i,e,n,r){let o=typeof e=="string"?Ra(e):e,c=Cs(o.pathname||"/",n);if(c==null)return null;let u=Ob(i);mC(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let y=wC(c);m=SC(u[p],y,r)}return m}function Ob(i,e=[],n=[],r="",o=!1){let c=(u,m,p=o,y)=>{let v={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&p)return;ht(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let b=bs([r,v.relativePath]),A=n.concat(v);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Ob(u.children,e,A,b,p)),!(u.path==null&&!u.index)&&e.push({path:b,score:TC(b,u.index),routesMeta:A})};return i.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let p of jb(u.path))c(u,m,!0,p)}),e}function jb(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=jb(r.join("/")),m=[];return m.push(...u.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...u),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function mC(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:bC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pC=/^:[\w-]+$/,gC=3,yC=2,_C=1,vC=10,EC=-2,ME=i=>i==="*";function TC(i,e){let n=i.split("/"),r=n.length;return n.some(ME)&&(r+=EC),e&&(r+=yC),n.filter(o=>!ME(o)).reduce((o,c)=>o+(pC.test(c)?gC:c===""?_C:vC),r)}function bC(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function SC(i,e,n=!1){let{routesMeta:r}=i,o={},c="/",u=[];for(let m=0;m<r.length;++m){let p=r[m],y=m===r.length-1,v=c==="/"?e:e.slice(c.length)||"/",b=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),A=p.route;if(!b&&y&&n&&!r[r.length-1].route.index&&(b=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:bs([c,b.pathname]),pathnameBase:xC(bs([c,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(c=bs([c,b.pathnameBase]))}return u}function Fh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=AC(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:v,isOptional:b},A)=>{if(v==="*"){let z=m[A]||"";u=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const x=m[A];return b&&!x?y[v]=void 0:y[v]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:u,pattern:i}}function AC(i,e=!1,n=!0){gi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function wC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Cs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}function CC(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?Ra(i):i;return{pathname:n?n.startsWith("/")?n:RC(n,e):e,search:NC(r),hash:DC(o)}}function RC(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $m(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IC(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kb(i){let e=IC(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Mb(i,e,n,r=!1){let o;typeof i=="string"?o=Ra(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),$m("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),$m("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),$m("#","search","hash",o)));let c=i===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let p=CC(o,m),y=u&&u!=="/"&&u.endsWith("/"),v=(c||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var bs=i=>i.join("/").replace(/\/\/+/g,"/"),xC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),NC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,DC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function OC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Vb=["POST","PUT","PATCH","DELETE"];new Set(Vb);var jC=["GET",...Vb];new Set(jC);var qo=O.createContext(null);qo.displayName="DataRouter";var pf=O.createContext(null);pf.displayName="DataRouterState";O.createContext(!1);var Lb=O.createContext({isTransitioning:!1});Lb.displayName="ViewTransition";var kC=O.createContext(new Map);kC.displayName="Fetchers";var MC=O.createContext(null);MC.displayName="Await";var Zi=O.createContext(null);Zi.displayName="Navigation";var xc=O.createContext(null);xc.displayName="Location";var Ti=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var Yp=O.createContext(null);Yp.displayName="RouteError";function VC(i,{relative:e}={}){ht(Nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Zi),{hash:o,pathname:c,search:u}=Dc(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:bs([n,c])),r.createHref({pathname:m,search:u,hash:o})}function Nc(){return O.useContext(xc)!=null}function xr(){return ht(Nc(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(xc).location}var Pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ub(i){O.useContext(Zi).static||O.useLayoutEffect(i)}function dn(){let{isDataRoute:i}=O.useContext(Ti);return i?JC():LC()}function LC(){ht(Nc(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(qo),{basename:e,navigator:n}=O.useContext(Zi),{matches:r}=O.useContext(Ti),{pathname:o}=xr(),c=JSON.stringify(kb(r)),u=O.useRef(!1);return Ub(()=>{u.current=!0}),O.useCallback((p,y={})=>{if(gi(u.current,Pb),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=Mb(p,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:bs([e,v.pathname])),(y.replace?n.replace:n.push)(v,y.state,y)},[e,n,c,o,i])}var PC=O.createContext(null);function UC(i){let e=O.useContext(Ti).outlet;return O.useMemo(()=>e&&O.createElement(PC.Provider,{value:i},e),[e,i])}function zb(){let{matches:i}=O.useContext(Ti),e=i[i.length-1];return e?e.params:{}}function Dc(i,{relative:e}={}){let{matches:n}=O.useContext(Ti),{pathname:r}=xr(),o=JSON.stringify(kb(n));return O.useMemo(()=>Mb(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function zC(i,e){return Bb(i,e)}function Bb(i,e,n,r,o){ht(Nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=O.useContext(Zi),{matches:u}=O.useContext(Ti),m=u[u.length-1],p=m?m.params:{},y=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let $=b&&b.path||"";qb(y,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let A=xr(),x;if(e){let $=typeof e=="string"?Ra(e):e;ht(v==="/"||$.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),x=$}else x=A;let z=x.pathname||"/",P=z;if(v!=="/"){let $=v.replace(/^\//,"").split("/");P="/"+z.replace(/^\//,"").split("/").slice($.length).join("/")}let M=Db(i,{pathname:P});gi(b||M!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=GC(M&&M.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:bs([v,c.encodeLocation?c.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:bs([v,c.encodeLocation?c.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,n,r,o);return e&&Q?O.createElement(xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},Q):Q}function BC(){let i=XC(),e=OC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,u)}var qC=O.createElement(BC,null),FC=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?O.createElement(Ti.Provider,{value:this.props.routeContext},O.createElement(Yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HC({routeContext:i,match:e,children:n}){let r=O.useContext(qo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Ti.Provider,{value:i},n)}function GC(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,u=n?.errors;if(u!=null){let y=c.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);ht(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,p=-1;if(n)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:b,errors:A}=n,x=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||x){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,v,b)=>{let A,x=!1,z=null,P=null;n&&(A=u&&v.route.id?u[v.route.id]:void 0,z=v.route.errorElement||qC,m&&(p<0&&b===0?(qb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,P=null):p===b&&(x=!0,P=v.route.hydrateFallbackElement||null)));let M=e.concat(c.slice(0,b+1)),Q=()=>{let $;return A?$=z:x?$=P:v.route.Component?$=O.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=y,O.createElement(HC,{match:v,routeContext:{outlet:y,matches:M,isDataRoute:n!=null},children:$})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?O.createElement(FC,{location:n.location,revalidation:n.revalidation,component:z,error:A,children:Q(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:r}):Q()},null)}function Qp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KC(i){let e=O.useContext(qo);return ht(e,Qp(i)),e}function YC(i){let e=O.useContext(pf);return ht(e,Qp(i)),e}function QC(i){let e=O.useContext(Ti);return ht(e,Qp(i)),e}function $p(i){let e=QC(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function $C(){return $p("useRouteId")}function XC(){let i=O.useContext(Yp),e=YC("useRouteError"),n=$p("useRouteError");return i!==void 0?i:e.errors?.[n]}function JC(){let{router:i}=KC("useNavigate"),e=$p("useNavigate"),n=O.useRef(!1);return Ub(()=>{n.current=!0}),O.useCallback(async(o,c={})=>{gi(n.current,Pb),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var VE={};function qb(i,e,n){!e&&!VE[i]&&(VE[i]=!0,gi(!1,n))}O.memo(WC);function WC({routes:i,future:e,state:n,unstable_onError:r}){return Bb(i,void 0,n,r,e)}function Fb(i){return UC(i.context)}function bt(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZC({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1}){ht(!Nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=i.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof n=="string"&&(n=Ra(n));let{pathname:p="/",search:y="",hash:v="",state:b=null,key:A="default"}=n,x=O.useMemo(()=>{let z=Cs(p,u);return z==null?null:{location:{pathname:z,search:y,hash:v,state:b,key:A},navigationType:r}},[u,p,y,v,b,A,r]);return gi(x!=null,`<Router basename="${u}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(Zi.Provider,{value:m},O.createElement(xc.Provider,{children:e,value:x}))}function eR({children:i,location:e}){return zC(pp(i),e)}function pp(i,e=[]){let n=[];return O.Children.forEach(i,(r,o)=>{if(!O.isValidElement(r))return;let c=[...e,o];if(r.type===O.Fragment){n.push.apply(n,pp(r.props.children,c));return}ht(r.type===bt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=pp(r.props.children,c)),n.push(u)}),n}var Nh="get",Dh="application/x-www-form-urlencoded";function gf(i){return i!=null&&typeof i.tagName=="string"}function tR(i){return gf(i)&&i.tagName.toLowerCase()==="button"}function nR(i){return gf(i)&&i.tagName.toLowerCase()==="form"}function iR(i){return gf(i)&&i.tagName.toLowerCase()==="input"}function sR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function rR(i,e){return i.button===0&&(!e||e==="_self")&&!sR(i)}var Eh=null;function aR(){if(Eh===null)try{new FormData(document.createElement("form"),0),Eh=!1}catch{Eh=!0}return Eh}var oR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(i){return i!=null&&!oR.has(i)?(gi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dh}"`),null):i}function lR(i,e){let n,r,o,c,u;if(nR(i)){let m=i.getAttribute("action");r=m?Cs(m,e):null,n=i.getAttribute("method")||Nh,o=Xm(i.getAttribute("enctype"))||Dh,c=new FormData(i)}else if(tR(i)||iR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(r=p?Cs(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Nh,o=Xm(i.getAttribute("formenctype"))||Xm(m.getAttribute("enctype"))||Dh,c=new FormData(m,i),!aR()){let{name:y,type:v,value:b}=i;if(v==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,b)}}else{if(gf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nh,r=null,o=Dh,u=i}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function cR(i,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Cs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function uR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function fR(i,e,n){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await uR(c,n);return u.links?u.links():[]}return[]}));return gR(r.flat(1).filter(hR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function LE(i,e,n,r,o,c){let u=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,y)=>u(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{let v=r.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function dR(i,e,{includeHydrateFallback:n}={}){return mR(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function mR(i){return[...new Set(i)]}function pR(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function gR(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify(pR(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function Hb(){let i=O.useContext(qo);return Xp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function yR(){let i=O.useContext(pf);return Xp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Jp=O.createContext(void 0);Jp.displayName="FrameworkContext";function Gb(){let i=O.useContext(Jp);return Xp(i,"You must render this element inside a <HydratedRouter> element"),i}function _R(i,e){let n=O.useContext(Jp),[r,o]=O.useState(!1),[c,u]=O.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:b}=e,A=O.useRef(null);O.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let P=Q=>{Q.forEach($=>{u($.isIntersecting)})},M=new IntersectionObserver(P,{threshold:.5});return A.current&&M.observe(A.current),()=>{M.disconnect()}}},[i]),O.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let x=()=>{o(!0)},z=()=>{o(!1),u(!1)};return n?i!=="intent"?[c,A,{}]:[c,A,{onFocus:tc(m,x),onBlur:tc(p,z),onMouseEnter:tc(y,x),onMouseLeave:tc(v,z),onTouchStart:tc(b,x)}]:[!1,A,{}]}function tc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function vR({page:i,...e}){let{router:n}=Hb(),r=O.useMemo(()=>Db(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?O.createElement(TR,{page:i,matches:r,...e}):null}function ER(i){let{manifest:e,routeModules:n}=Gb(),[r,o]=O.useState([]);return O.useEffect(()=>{let c=!1;return fR(i,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[i,e,n]),r}function TR({page:i,matches:e,...n}){let r=xr(),{manifest:o,routeModules:c}=Gb(),{basename:u}=Hb(),{loaderData:m,matches:p}=yR(),y=O.useMemo(()=>LE(i,e,p,o,r,"data"),[i,e,p,o,r]),v=O.useMemo(()=>LE(i,e,p,o,r,"assets"),[i,e,p,o,r]),b=O.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let z=new Set,P=!1;if(e.forEach(Q=>{let $=o.routes[Q.route.id];!$||!$.hasLoader||(!y.some(Z=>Z.route.id===Q.route.id)&&Q.route.id in m&&c[Q.route.id]?.shouldRevalidate||$.hasClientLoader?P=!0:z.add(Q.route.id))}),z.size===0)return[];let M=cR(i,u,"data");return P&&z.size>0&&M.searchParams.set("_routes",e.filter(Q=>z.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[M.pathname+M.search]},[u,m,r,o,y,e,i,c]),A=O.useMemo(()=>dR(v,o),[v,o]),x=ER(v);return O.createElement(O.Fragment,null,b.map(z=>O.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),A.map(z=>O.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),x.map(({key:z,link:P})=>O.createElement("link",{key:z,nonce:n.nonce,...P})))}function bR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Kb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kb&&(window.__reactRouterVersion="7.9.3")}catch{}function SR({basename:i,children:e,window:n}){let r=O.useRef();r.current==null&&(r.current=cC({window:n,v5Compat:!0}));let o=r.current,[c,u]=O.useState({action:o.action,location:o.location}),m=O.useCallback(p=>{O.startTransition(()=>u(p))},[u]);return O.useLayoutEffect(()=>o.listen(m),[o,m]),O.createElement(ZC,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var Yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cc=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:m,target:p,to:y,preventScrollReset:v,viewTransition:b,...A},x){let{basename:z}=O.useContext(Zi),P=typeof y=="string"&&Yb.test(y),M,Q=!1;if(typeof y=="string"&&P&&(M=y,Kb))try{let I=new URL(window.location.href),L=y.startsWith("//")?new URL(I.protocol+y):new URL(y),j=Cs(L.pathname,z);L.origin===I.origin&&j!=null?y=j+L.search+L.hash:Q=!0}catch{gi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=VC(y,{relative:o}),[Z,se,re]=_R(r,A),ue=CR(y,{replace:u,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:b});function R(I){e&&e(I),I.defaultPrevented||ue(I)}let C=O.createElement("a",{...A,...re,href:M||$,onClick:Q||c?e:R,ref:bR(x,se),target:p,"data-discover":!P&&n==="render"?"true":void 0});return Z&&!P?O.createElement(O.Fragment,null,C,O.createElement(vR,{page:$})):C});cc.displayName="Link";var Oh=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:m,children:p,...y},v){let b=Dc(u,{relative:y.relative}),A=xr(),x=O.useContext(pf),{navigator:z,basename:P}=O.useContext(Zi),M=x!=null&&DR(b)&&m===!0,Q=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,$=A.pathname,Z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||($=$.toLowerCase(),Z=Z?Z.toLowerCase():null,Q=Q.toLowerCase()),Z&&P&&(Z=Cs(Z,P)||Z);const se=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let re=$===Q||!o&&$.startsWith(Q)&&$.charAt(se)==="/",ue=Z!=null&&(Z===Q||!o&&Z.startsWith(Q)&&Z.charAt(Q.length)==="/"),R={isActive:re,isPending:ue,isTransitioning:M},C=re?e:void 0,I;typeof r=="function"?I=r(R):I=[r,re?"active":null,ue?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(R):c;return O.createElement(cc,{...y,"aria-current":C,className:I,ref:v,style:L,to:u,viewTransition:m},typeof p=="function"?p(R):p)});Oh.displayName="NavLink";var AR=O.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:u=Nh,action:m,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:b,...A},x)=>{let z=xR(),P=NR(m,{relative:y}),M=u.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&Yb.test(m),$=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let se=Z.nativeEvent.submitter,re=se?.getAttribute("formmethod")||u;z(se||Z.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:o,state:c,relative:y,preventScrollReset:v,viewTransition:b})};return O.createElement("form",{ref:x,method:M,action:P,onSubmit:r?p:$,...A,"data-discover":!Q&&i==="render"?"true":void 0})});AR.displayName="Form";function wR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qb(i){let e=O.useContext(qo);return ht(e,wR(i)),e}function CR(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:u}={}){let m=dn(),p=xr(),y=Dc(i,{relative:c});return O.useCallback(v=>{if(rR(v,e)){v.preventDefault();let b=n!==void 0?n:_c(p)===_c(y);m(i,{replace:b,state:r,preventScrollReset:o,relative:c,viewTransition:u})}},[p,m,y,n,r,e,i,o,c,u])}var RR=0,IR=()=>`__${String(++RR)}__`;function xR(){let{router:i}=Qb("useSubmit"),{basename:e}=O.useContext(Zi),n=$C();return O.useCallback(async(r,o={})=>{let{action:c,method:u,encType:m,formData:p,body:y}=lR(r,e);if(o.navigate===!1){let v=o.fetcherKey||IR();await i.fetch(v,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function NR(i,{relative:e}={}){let{basename:n}=O.useContext(Zi),r=O.useContext(Ti);ht(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Dc(i||".",{relative:e})},u=xr();if(i==null){c.search=u.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();c.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:bs([n,c.pathname])),_c(c)}function DR(i,{relative:e}={}){let n=O.useContext(Lb);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Qb("useViewTransitionState"),o=Dc(i,{relative:e});if(!n.isTransitioning)return!1;let c=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Fh(o.pathname,u)!=null||Fh(o.pathname,c)!=null}function Wp(){const e=xr().pathname==="/";return g.jsxs("header",{className:"header-landing",children:[g.jsx(cc,{to:"/",className:"logo",children:"ITViec"}),e&&g.jsxs("nav",{className:"nav-links",children:[g.jsx(cc,{to:"/get-started",className:"nav-btn",children:"Login"}),g.jsx(cc,{to:"/homepage",className:"nav-btn get-started",children:"Get Started"})]})]})}function OR(){const[i,e]=O.useState(null),n=dn(),r=()=>{i==="candidate"?n("/candidate/login"):i==="company"&&n("/company/login")};return g.jsxs("div",{className:"homepage",children:[g.jsx(Wp,{}),g.jsx("h1",{children:"Join as a Company or Candidate"}),g.jsxs("div",{className:"button-group",children:[g.jsx("button",{className:`role-btn ${i==="candidate"?"selected":""}`,onClick:()=>e("candidate"),children:"I'm a candidate, looking for work."}),g.jsx("button",{className:`role-btn ${i==="company"?"selected":""}`,onClick:()=>e("company"),children:"I'm an employer, hiring for a job."})]}),i&&g.jsx("div",{className:"confirm-section",children:g.jsx("button",{className:"confirm-btn",onClick:r,children:i==="company"?"Join as a Company":"Apply as a Candidate"})}),g.jsxs("p",{className:"login-text",children:["Already have an account?"," ",g.jsx("span",{className:"login-link",onClick:()=>n("/get-started"),children:"Log In"})]})]})}var $b={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PE=ya.createContext&&ya.createContext($b),jR=["attr","size","title"];function kR(i,e){if(i==null)return{};var n=MR(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function MR(i,e){if(i==null)return{};var n={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;n[r]=i[r]}return n}function Hh(){return Hh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Hh.apply(this,arguments)}function UE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function Gh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(n),!0).forEach(function(r){VR(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function VR(i,e,n){return e=LR(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function LR(i){var e=PR(i,"string");return typeof e=="symbol"?e:e+""}function PR(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Xb(i){return i&&i.map((e,n)=>ya.createElement(e.tag,Gh({key:n},e.attr),Xb(e.child)))}function Lt(i){return e=>ya.createElement(UR,Hh({attr:Gh({},i.attr)},e),Xb(i.child))}function UR(i){var e=n=>{var{attr:r,size:o,title:c}=i,u=kR(i,jR),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),ya.createElement("svg",Hh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:p,style:Gh(Gh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&ya.createElement("title",null,c),i.children)};return PE!==void 0?ya.createElement(PE.Consumer,null,n=>e(n)):e($b)}function zR(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(i)}function BR(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(i)}function qR(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(i)}function FR(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(i)}function gp(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(i)}function Zp(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(i)}function HR(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(i)}function ma(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(i)}function GR(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(i)}function KR(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(i)}function Jb(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(i)}function Wb(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(i)}function Kh(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(i)}function YR(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"},child:[]}]})(i)}function QR(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"},child:[]}]})(i)}function $R(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(i)}function XR(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(i)}function Zb(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(i)}function JR(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(i)}function e0(i){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(i)}const WR=()=>{};var zE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ZR=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],u=i[n++],m=i[n++],p=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],u=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},n0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,m=u?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,v=c>>2,b=(c&3)<<4|m>>4;let A=(m&15)<<2|y>>6,x=y&63;p||(x=64,u||(A=64)),r.push(n[v],n[b],n[A],n[x])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(t0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ZR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||b==null)throw new eI;const A=c<<2|m>>4;if(r.push(A),y!==64){const x=m<<4&240|y>>2;if(r.push(x),b!==64){const z=y<<6&192|b;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class eI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tI=function(i){const e=t0(i);return n0.encodeByteArray(e,!0)},Yh=function(i){return tI(i).replace(/\./g,"")},i0=function(i){try{return n0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=()=>nI().__FIREBASE_DEFAULTS__,sI=()=>{if(typeof process>"u"||typeof zE>"u")return;const i=zE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},rI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&i0(i[1]);return e&&JSON.parse(e)},yf=()=>{try{return WR()||iI()||sI()||rI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},s0=i=>yf()?.emulatorHosts?.[i],r0=i=>{const e=s0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a0=()=>yf()?.config,o0=i=>yf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eg(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Yh(JSON.stringify(n)),Yh(JSON.stringify(u)),""].join(".")}const uc={};function oI(){const i={prod:[],emulator:[]};for(const e of Object.keys(uc))uc[e]?i.emulator.push(e):i.prod.push(e);return i}function lI(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let BE=!1;function tg(i,e){if(typeof window>"u"||typeof document>"u"||!Nr(window.location.host)||uc[i]===e||uc[i]||BE)return;uc[i]=e;function n(A){return`__firebase__banner__${A}`}const r="__firebase__banner",c=oI().prod.length>0;function u(){const A=document.getElementById(r);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,x){A.setAttribute("width","24"),A.setAttribute("id",x),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{BE=!0,u()},A}function v(A,x){A.setAttribute("id",x),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=lI(r),x=n("text"),z=document.getElementById(x)||document.createElement("span"),P=n("learnmore"),M=document.getElementById(P)||document.createElement("a"),Q=n("preprendIcon"),$=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Z=A.element;m(Z),v(M,P);const se=y();p($,Q),Z.append($,z,M,se),document.body.appendChild(Z)}c?(z.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function uI(){const i=yf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function fI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dI(){const i=ln();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function mI(){return!uI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u0(){try{return typeof indexedDB=="object"}catch{return!1}}function h0(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function pI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gI,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?yI(c,r):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new ti(o,m,r)}}function yI(i,e){return i.replace(_I,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const _I=/\{\$([^}]+)}/g;function vI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function br(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=i[o],u=e[o];if(qE(c)&&qE(u)){if(!br(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function qE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function sc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function EI(i,e){const n=new TI(i,e);return n.subscribe.bind(n)}class TI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Jm),o.error===void 0&&(o.error=Jm),o.complete===void 0&&(o.complete=Jm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bI(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Jm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=1e3,AI=2,wI=14400*1e3,CI=.5;function FE(i,e=SI,n=AI){const r=e*Math.pow(n,i),o=Math.round(CI*r*(Math.random()-.5)*2);return Math.min(wI,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(i){return i&&i._delegate?i._delegate:i}class ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xI(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:II(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function II(i){return i===da?void 0:i}function xI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const DI={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},OI=ke.INFO,jI={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},kI=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=jI[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _f{constructor(e){this.name=e,this._logLevel=OI,this._logHandler=kI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const MI=(i,e)=>e.some(n=>i instanceof n);let HE,GE;function VI(){return HE||(HE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LI(){return GE||(GE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f0=new WeakMap,yp=new WeakMap,d0=new WeakMap,Wm=new WeakMap,ng=new WeakMap;function PI(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{n(_r(i.result)),o()},u=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&f0.set(n,i)}).catch(()=>{}),ng.set(e,i),e}function UI(i){if(yp.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});yp.set(i,e)}let _p={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return yp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||d0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _r(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function zI(i){_p=i(_p)}function BI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Zm(this),e,...n);return d0.set(r,e.sort?e.sort():[e]),_r(r)}:LI().includes(i)?function(...e){return i.apply(Zm(this),e),_r(f0.get(this))}:function(...e){return _r(i.apply(Zm(this),e))}}function qI(i){return typeof i=="function"?BI(i):(i instanceof IDBTransaction&&UI(i),MI(i,VI())?new Proxy(i,_p):i)}function _r(i){if(i instanceof IDBRequest)return PI(i);if(Wm.has(i))return Wm.get(i);const e=qI(i);return e!==i&&(Wm.set(i,e),ng.set(e,i)),e}const Zm=i=>ng.get(i);function m0(i,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),m=_r(u);return r&&u.addEventListener("upgradeneeded",p=>{r(_r(u.result),p.oldVersion,p.newVersion,_r(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const FI=["get","getKey","getAll","getAllKeys","count"],HI=["put","add","delete","clear"],ep=new Map;function KE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=HI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||FI.includes(n)))return;const c=async function(u,...m){const p=this.transaction(u,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return ep.set(e,c),c}zI(i=>({...i,get:(e,n,r)=>KE(e,n)||i.get(e,n,r),has:(e,n)=>!!KE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KI(i){return i.getComponent()?.type==="VERSION"}const vp="@firebase/app",YE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new _f("@firebase/app"),YI="@firebase/app-compat",QI="@firebase/analytics-compat",$I="@firebase/analytics",XI="@firebase/app-check-compat",JI="@firebase/app-check",WI="@firebase/auth",ZI="@firebase/auth-compat",ex="@firebase/database",tx="@firebase/data-connect",nx="@firebase/database-compat",ix="@firebase/functions",sx="@firebase/functions-compat",rx="@firebase/installations",ax="@firebase/installations-compat",ox="@firebase/messaging",lx="@firebase/messaging-compat",cx="@firebase/performance",ux="@firebase/performance-compat",hx="@firebase/remote-config",fx="@firebase/remote-config-compat",dx="@firebase/storage",mx="@firebase/storage-compat",px="@firebase/firestore",gx="@firebase/ai",yx="@firebase/firestore-compat",_x="firebase",vx="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="[DEFAULT]",Ex={[vp]:"fire-core",[YI]:"fire-core-compat",[$I]:"fire-analytics",[QI]:"fire-analytics-compat",[JI]:"fire-app-check",[XI]:"fire-app-check-compat",[WI]:"fire-auth",[ZI]:"fire-auth-compat",[ex]:"fire-rtdb",[tx]:"fire-data-connect",[nx]:"fire-rtdb-compat",[ix]:"fire-fn",[sx]:"fire-fn-compat",[rx]:"fire-iid",[ax]:"fire-iid-compat",[ox]:"fire-fcm",[lx]:"fire-fcm-compat",[cx]:"fire-perf",[ux]:"fire-perf-compat",[hx]:"fire-rc",[fx]:"fire-rc-compat",[dx]:"fire-gcs",[mx]:"fire-gcs-compat",[px]:"fire-fst",[yx]:"fire-fst-compat",[gx]:"fire-vertex","fire-js":"fire-js",[_x]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,Tx=new Map,Tp=new Map;function QE(i,e){try{i.container.addComponent(e)}catch(n){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function yi(i){const e=i.name;if(Tp.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;Tp.set(e,i);for(const n of Qh.values())QE(n,i);for(const n of Tx.values())QE(n,i);return!0}function Dr(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function kn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Ia("app","Firebase",bx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=vx;function p0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Ep,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(n||(n=a0()),!n)throw vr.create("no-options");const c=Qh.get(o);if(c){if(br(n,c.options)&&br(r,c.config))return c;throw vr.create("duplicate-app",{appName:o})}const u=new NI(o);for(const p of Tp.values())u.addComponent(p);const m=new Sx(n,r,u);return Qh.set(o,m),m}function vf(i=Ep){const e=Qh.get(i);if(!e&&i===Ep&&a0())return p0();if(!e)throw vr.create("no-app",{appName:i});return e}function Sn(i,e,n){let r=Ex[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(u.join(" "));return}yi(new ei(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="firebase-heartbeat-database",wx=1,vc="firebase-heartbeat-store";let tp=null;function g0(){return tp||(tp=m0(Ax,wx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(i=>{throw vr.create("idb-open",{originalErrorMessage:i.message})})),tp}async function Cx(i){try{const n=(await g0()).transaction(vc),r=await n.objectStore(vc).get(y0(i));return await n.done,r}catch(e){if(e instanceof ti)Rs.warn(e.message);else{const n=vr.create("idb-get",{originalErrorMessage:e?.message});Rs.warn(n.message)}}}async function $E(i,e){try{const r=(await g0()).transaction(vc,"readwrite");await r.objectStore(vc).put(e,y0(i)),await r.done}catch(n){if(n instanceof ti)Rs.warn(n.message);else{const r=vr.create("idb-set",{originalErrorMessage:n?.message});Rs.warn(r.message)}}}function y0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=1024,Ix=30;class xx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=XE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Ix){const o=Ox(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=XE(),{heartbeatsToSend:n,unsentEntries:r}=Nx(this._heartbeatsCache.heartbeats),o=Yh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rs.warn(e),""}}}function XE(){return new Date().toISOString().substring(0,10)}function Nx(i,e=Rx){const n=[];let r=i.slice();for(const o of i){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),JE(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),JE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u0()?h0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Cx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JE(i){return Yh(JSON.stringify({version:2,heartbeats:i})).length}function Ox(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(i){yi(new ei("platform-logger",e=>new GI(e),"PRIVATE")),yi(new ei("heartbeat",e=>new xx(e),"PRIVATE")),Sn(vp,YE,i),Sn(vp,YE,"esm2020"),Sn("fire-js","")}jx("");var kx="firebase",Mx="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(kx,Mx,"app");const _0="@firebase/installations",ig="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=1e4,E0=`w:${ig}`,T0="FIS_v2",Vx="https://firebaseinstallations.googleapis.com/v1",Lx=3600*1e3,Px="installations",Ux="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ea=new Ia(Px,Ux,zx);function b0(i){return i instanceof ti&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0({projectId:i}){return`${Vx}/projects/${i}/installations`}function A0(i){return{token:i.token,requestStatus:2,expiresIn:qx(i.expiresIn),creationTime:Date.now()}}async function w0(i,e){const r=(await e.json()).error;return Ea.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function C0({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function Bx(i,{refreshToken:e}){const n=C0(i);return n.append("Authorization",Fx(e)),n}async function R0(i){const e=await i();return e.status>=500&&e.status<600?i():e}function qx(i){return Number(i.replace("s","000"))}function Fx(i){return`${T0} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const r=S0(i),o=C0(i),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const u={fid:n,authVersion:T0,appId:i.appId,sdkVersion:E0},m={method:"POST",headers:o,body:JSON.stringify(u)},p=await R0(()=>fetch(r,m));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:A0(y.authToken)}}else throw await w0("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=/^[cdef][\w-]{21}$/,bp="";function Yx(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=Qx(i);return Kx.test(n)?n:bp}catch{return bp}}function Qx(i){return Gx(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;function N0(i,e){const n=Ef(i);D0(n,e),$x(n,e)}function D0(i,e){const n=x0.get(i);if(n)for(const r of n)r(e)}function $x(i,e){const n=Xx();n&&n.postMessage({key:i,fid:e}),Jx()}let pa=null;function Xx(){return!pa&&"BroadcastChannel"in self&&(pa=new BroadcastChannel("[Firebase] FID Change"),pa.onmessage=i=>{D0(i.data.key,i.data.fid)}),pa}function Jx(){x0.size===0&&pa&&(pa.close(),pa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="firebase-installations-database",Zx=1,Ta="firebase-installations-store";let np=null;function sg(){return np||(np=m0(Wx,Zx,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ta)}}})),np}async function $h(i,e){const n=Ef(i),o=(await sg()).transaction(Ta,"readwrite"),c=o.objectStore(Ta),u=await c.get(n);return await c.put(e,n),await o.done,(!u||u.fid!==e.fid)&&N0(i,e.fid),e}async function O0(i){const e=Ef(i),r=(await sg()).transaction(Ta,"readwrite");await r.objectStore(Ta).delete(e),await r.done}async function Tf(i,e){const n=Ef(i),o=(await sg()).transaction(Ta,"readwrite"),c=o.objectStore(Ta),u=await c.get(n),m=e(u);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!u||u.fid!==m.fid)&&N0(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(i){let e;const n=await Tf(i.appConfig,r=>{const o=eN(r),c=tN(i,o);return e=c.registrationPromise,c.installationEntry});return n.fid===bp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function eN(i){const e=i||{fid:Yx(),registrationStatus:0};return j0(e)}function tN(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ea.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=nN(i,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iN(i)}:{installationEntry:e}}async function nN(i,e){try{const n=await Hx(i,e);return $h(i.appConfig,n)}catch(n){throw b0(n)&&n.customData.serverCode===409?await O0(i.appConfig):await $h(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iN(i){let e=await WE(i.appConfig);for(;e.registrationStatus===1;)await I0(100),e=await WE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await rg(i);return r||n}return e}function WE(i){return Tf(i,e=>{if(!e)throw Ea.create("installation-not-found");return j0(e)})}function j0(i){return sN(i)?{fid:i.fid,registrationStatus:0}:i}function sN(i){return i.registrationStatus===1&&i.registrationTime+v0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN({appConfig:i,heartbeatServiceProvider:e},n){const r=aN(i,n),o=Bx(i,n),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const u={installation:{sdkVersion:E0,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(u)},p=await R0(()=>fetch(r,m));if(p.ok){const y=await p.json();return A0(y)}else throw await w0("Generate Auth Token",p)}function aN(i,{fid:e}){return`${S0(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(i,e=!1){let n;const r=await Tf(i.appConfig,c=>{if(!k0(c))throw Ea.create("not-registered");const u=c.authToken;if(!e&&cN(u))return c;if(u.requestStatus===1)return n=oN(i,e),c;{if(!navigator.onLine)throw Ea.create("app-offline");const m=hN(c);return n=lN(i,m),m}});return n?await n:r.authToken}async function oN(i,e){let n=await ZE(i.appConfig);for(;n.authToken.requestStatus===1;)await I0(100),n=await ZE(i.appConfig);const r=n.authToken;return r.requestStatus===0?ag(i,e):r}function ZE(i){return Tf(i,e=>{if(!k0(e))throw Ea.create("not-registered");const n=e.authToken;return fN(n)?{...e,authToken:{requestStatus:0}}:e})}async function lN(i,e){try{const n=await rN(i,e),r={...e,authToken:n};return await $h(i.appConfig,r),n}catch(n){if(b0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await O0(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await $h(i.appConfig,r)}throw n}}function k0(i){return i!==void 0&&i.registrationStatus===2}function cN(i){return i.requestStatus===2&&!uN(i)}function uN(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+Lx}function hN(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function fN(i){return i.requestStatus===1&&i.requestTime+v0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(i){const e=i,{installationEntry:n,registrationPromise:r}=await rg(e);return r?r.catch(console.error):ag(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(i,e=!1){const n=i;return await pN(n),(await ag(n,e)).token}async function pN(i){const{registrationPromise:e}=await rg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(i){if(!i||!i.options)throw ip("App Configuration");if(!i.name)throw ip("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw ip(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function ip(i){return Ea.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="installations",yN="installations-internal",_N=i=>{const e=i.getProvider("app").getImmediate(),n=gN(e),r=Dr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vN=i=>{const e=i.getProvider("app").getImmediate(),n=Dr(e,M0).getImmediate();return{getId:()=>dN(n),getToken:o=>mN(n,o)}};function EN(){yi(new ei(M0,_N,"PUBLIC")),yi(new ei(yN,vN,"PRIVATE"))}EN();Sn(_0,ig);Sn(_0,ig,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="analytics",TN="firebase_id",bN="origin",SN=60*1e3,AN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",og="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new _f("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ln=new Ia("analytics","Analytics",wN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(i){if(!i.startsWith(og)){const e=Ln.create("invalid-gtag-resource",{gtagURL:i});return An.warn(e.message),""}return i}function V0(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function RN(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function IN(i,e){const n=RN("firebase-js-sdk-policy",{createScriptURL:CN}),r=document.createElement("script"),o=`${og}?l=${i}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function xN(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function NN(i,e,n,r,o,c){const u=r[o];try{if(u)await e[u];else{const p=(await V0(n)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){An.error(m)}i("config",o,c)}async function DN(i,e,n,r,o){try{let c=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const m=await V0(n);for(const p of u){const y=m.find(b=>b.measurementId===p),v=y&&e[y.appId];if(v)c.push(v);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",r,o||{})}catch(c){An.error(c)}}function ON(i,e,n,r){async function o(c,...u){try{if(c==="event"){const[m,p]=u;await DN(i,e,n,m,p)}else if(c==="config"){const[m,p]=u;await NN(i,e,n,r,m,p)}else if(c==="consent"){const[m,p]=u;i("consent",m,p)}else if(c==="get"){const[m,p,y]=u;i("get",m,p,y)}else if(c==="set"){const[m]=u;i("set",m)}else i(c,...u)}catch(m){An.error(m)}}return o}function jN(i,e,n,r,o){let c=function(...u){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=ON(c,i,e,n),{gtagCore:c,wrappedGtag:window[o]}}function kN(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(og)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=30,VN=1e3;class LN{constructor(e={},n=VN){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const L0=new LN;function PN(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function UN(i){const{appId:e,apiKey:n}=i,r={method:"GET",headers:PN(n)},o=AN.replace("{app-id}",e),c=await fetch(o,r);if(c.status!==200&&c.status!==304){let u="";try{const m=await c.json();m.error?.message&&(u=m.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:c.status,responseMessage:u})}return c.json()}async function zN(i,e=L0,n){const{appId:r,apiKey:o,measurementId:c}=i.options;if(!r)throw Ln.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw Ln.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new FN;return setTimeout(async()=>{m.abort()},SN),P0({appId:r,apiKey:o,measurementId:c},u,m,e)}async function P0(i,{throttleEndTimeMillis:e,backoffCount:n},r,o=L0){const{appId:c,measurementId:u}=i;try{await BN(r,e)}catch(m){if(u)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:u};throw m}try{const m=await UN(i);return o.deleteThrottleMetadata(c),m}catch(m){const p=m;if(!qN(p)){if(o.deleteThrottleMetadata(c),u)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:u};throw m}const y=Number(p?.customData?.httpStatus)===503?FE(n,o.intervalMillis,MN):FE(n,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return o.setThrottleMetadata(c,v),An.debug(`Calling attemptFetch again in ${y} millis`),P0(i,v,r,o)}}function BN(i,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(c),r(Ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qN(i){if(!(i instanceof ti)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class FN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function HN(i,e,n,r,o){if(o&&o.global){i("event",n,r);return}else{const c=await e,u={...r,send_to:c};i("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(){if(u0())try{await h0()}catch(i){return An.warn(Ln.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return An.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function KN(i,e,n,r,o,c,u){const m=zN(i);m.then(A=>{n[A.measurementId]=A.appId,i.options.measurementId&&A.measurementId!==i.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>An.error(A)),e.push(m);const p=GN().then(A=>{if(A)return r.getId()}),[y,v]=await Promise.all([m,p]);kN(c)||IN(c,y.measurementId),o("js",new Date);const b=u?.config??{};return b[bN]="firebase",b.update=!0,v!=null&&(b[TN]=v),o("config",y.measurementId,b),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.app=e}_delete(){return delete hc[this.app.options.appId],Promise.resolve()}}let hc={},eT=[];const tT={};let sp="dataLayer",QN="gtag",nT,U0,iT=!1;function $N(){const i=[];if(c0()&&i.push("This is a browser extension environment."),pI()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=Ln.create("invalid-analytics-context",{errorInfo:e});An.warn(n.message)}}function XN(i,e,n){$N();const r=i.options.appId;if(!r)throw Ln.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ln.create("no-api-key");if(hc[r]!=null)throw Ln.create("already-exists",{id:r});if(!iT){xN(sp);const{wrappedGtag:c,gtagCore:u}=jN(hc,eT,tT,sp,QN);U0=c,nT=u,iT=!0}return hc[r]=KN(i,eT,tT,e,nT,sp,n),new YN(i)}function JN(i=vf()){i=ut(i);const e=Dr(i,Xh);return e.isInitialized()?e.getImmediate():WN(i)}function WN(i,e={}){const n=Dr(i,Xh);if(n.isInitialized()){const o=n.getImmediate();if(br(e,n.getOptions()))return o;throw Ln.create("already-initialized")}return n.initialize({options:e})}function ZN(i,e,n,r){i=ut(i),HN(U0,hc[i.app.options.appId],e,n,r).catch(o=>An.error(o))}const sT="@firebase/analytics",rT="0.10.18";function e2(){yi(new ei(Xh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return XN(r,o,n)},"PUBLIC")),yi(new ei("analytics-internal",i,"PRIVATE")),Sn(sT,rT),Sn(sT,rT,"esm2020");function i(e){try{const n=e.getProvider(Xh).getImmediate();return{logEvent:(r,o,c)=>ZN(n,r,o,c)}}catch(n){throw Ln.create("interop-component-reg-failed",{reason:n})}}}e2();function z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t2=z0,B0=new Ia("auth","Firebase",z0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new _f("@firebase/auth");function n2(i,...e){Jh.logLevel<=ke.WARN&&Jh.warn(`Auth (${xa}): ${i}`,...e)}function jh(i,...e){Jh.logLevel<=ke.ERROR&&Jh.error(`Auth (${xa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(i,...e){throw lg(i,...e)}function Ki(i,...e){return lg(i,...e)}function q0(i,e,n){const r={...t2(),[e]:n};return new Ia("auth","Firebase",r).create(e,{appName:i.name})}function Ss(i){return q0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lg(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return B0.create(i,...e)}function ve(i,e,...n){if(!i)throw lg(e,...n)}function Es(i){const e="INTERNAL ASSERTION FAILED: "+i;throw jh(e),new Error(e)}function Is(i,e){i||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(){return typeof self<"u"&&self.location?.href||""}function i2(){return aT()==="http:"||aT()==="https:"}function aT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i2()||c0()||"connection"in navigator)?navigator.onLine:!0}function r2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Is(n>e,"Short delay should be less than long delay!"),this.isMobile=cI()||fI()}get(){return s2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i,e){Is(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l2=new jc(3e4,6e4);function Or(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function jr(i,e,n,r,o={}){return H0(i,o,async()=>{let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});const m=Oc({key:i.config.apiKey,...u}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...c};return hI()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Nr(i.emulatorConfig.host)&&(y.credentials="include"),F0.fetch()(await G0(i,i.config.apiHost,n,m),y)})}async function H0(i,e,n){i._canInitEmulator=!1;const r={...a2,...e};try{const o=new u2(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Th(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(i,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Th(i,"email-already-in-use",u);if(p==="USER_DISABLED")throw Th(i,"user-disabled",u);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw q0(i,v,y);_i(i,v)}}catch(o){if(o instanceof ti)throw o;_i(i,"network-request-failed",{message:String(o)})}}async function kc(i,e,n,r,o={}){const c=await jr(i,e,n,r,o);return"mfaPendingCredential"in c&&_i(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function G0(i,e,n,r){const o=`${e}${n}?${r}`,c=i,u=c.config.emulator?cg(i.config,o):`${i.config.apiScheme}://${o}`;return o2.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function c2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ki(this.auth,"network-request-failed")),l2.get())})}}function Th(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ki(i,e,r);return o.customData._tokenResponse=n,o}function oT(i){return i!==void 0&&i.enterprise!==void 0}class h2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return c2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function f2(i,e){return jr(i,"GET","/v2/recaptchaConfig",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(i,e){return jr(i,"POST","/v1/accounts:delete",e)}async function Wh(i,e){return jr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m2(i,e=!1){const n=ut(i),r=await n.getIdToken(e),o=ug(r);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:r,authTime:fc(rp(o.auth_time)),issuedAtTime:fc(rp(o.iat)),expirationTime:fc(rp(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rp(i){return Number(i)*1e3}function ug(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return jh("JWT malformed, contained fewer than 3 sections"),null;try{const o=i0(n);return o?JSON.parse(o):(jh("Failed to decode base64 JWT payload"),null)}catch(o){return jh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function lT(i){const e=ug(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&p2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function p2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(i){const e=i.auth,n=await i.getIdToken(),r=await Ec(i,Wh(e,{idToken:n}));ve(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?K0(o.providerUserInfo):[],u=_2(i.providerData,c),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!u?.length,y=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,v)}async function y2(i){const e=ut(i);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _2(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function K0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(i,e){const n=await H0(i,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await G0(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&Nr(i.emulatorConfig.host)&&(p.credentials="include"),F0.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E2(i,e){return jr(i,"POST","/v2/accounts:revokeToken",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=lT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await v2(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,u=new Do;return r&&(ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(ve(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(ve(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new g2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m2(this,e)}reload(){return y2(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Ec(this,d2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:x,providerData:z,stsTokenManager:P}=n;ve(b&&P,e,"internal-error");const M=Do.fromJSON(this.name,P);ve(typeof b=="string",e,"internal-error"),hr(r,e.name),hr(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof x=="boolean",e,"internal-error"),hr(c,e.name),hr(u,e.name),hr(m,e.name),hr(p,e.name),hr(y,e.name),hr(v,e.name);const Q=new pi({uid:b,auth:e,email:o,emailVerified:A,displayName:r,isAnonymous:x,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:M,createdAt:y,lastLoginAt:v});return z&&Array.isArray(z)&&(Q.providerData=z.map($=>({...$}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(e,n,r=!1){const o=new Do;o.updateFromServerResponse(n);const c=new pi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Zh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?K0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,m=new Do;m.updateFromIdToken(r);const p=new pi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new Map;function Ts(i){Is(i instanceof Function,"Expected a class definition");let e=cT.get(i);return e?(Is(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,cT.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Y0.type="NONE";const uT=Y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(i,e,n){return`firebase:${i}:${e}:${n}`}class Oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,c),this.fullPersistenceKey=kh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oo(Ts(uT),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Ts(uT);const u=kh(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const v=await y._get(u);if(v){let b;if(typeof v=="string"){const A=await Wh(e,{idToken:v}).catch(()=>{});if(!A)break;b=await pi._fromGetAccountInfoResponse(e,A,v)}else b=pi._fromJSON(e,v);y!==c&&(m=b),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Oo(c,e,r):(c=p[0],m&&await c._set(u,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(u)}catch{}})),new Oo(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z0(e))return"Blackberry";if(eS(e))return"Webos";if($0(e))return"Safari";if((e.includes("chrome/")||X0(e))&&!e.includes("edge/"))return"Chrome";if(W0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function Q0(i=ln()){return/firefox\//i.test(i)}function $0(i=ln()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X0(i=ln()){return/crios\//i.test(i)}function J0(i=ln()){return/iemobile/i.test(i)}function W0(i=ln()){return/android/i.test(i)}function Z0(i=ln()){return/blackberry/i.test(i)}function eS(i=ln()){return/webos/i.test(i)}function hg(i=ln()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function T2(i=ln()){return hg(i)&&!!window.navigator?.standalone}function b2(){return dI()&&document.documentMode===10}function tS(i=ln()){return hg(i)||W0(i)||eS(i)||Z0(i)||/windows phone/i.test(i)||J0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(i,e=[]){let n;switch(i){case"Browser":n=hT(ln());break;case"Worker":n=`${hT(ln())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((u,m)=>{try{const p=e(c);u(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(i,e={}){return jr(i,"GET","/v2/passwordPolicy",Or(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=6;class C2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??w2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fT(this),this.idTokenSubscription=new fT(this),this.beforeStateQueue=new S2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===u)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Ss(this));const n=e?ut(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await A2(this),n=new C2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ia("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&n2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Na(i){return ut(i)}class fT{constructor(e){this.auth=e,this.observer=null,this.addObserver=EI(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I2(i){bf=i}function iS(i){return bf.loadJS(i)}function x2(){return bf.recaptchaEnterpriseScript}function N2(){return bf.gapiScript}function D2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class O2{constructor(){this.enterprise=new j2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class j2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const k2="recaptcha-enterprise",sS="NO_RECAPTCHA";class M2{constructor(e){this.type=k2,this.auth=Na(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,m)=>{f2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new h2(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,u(y.siteKey)}}).catch(p=>{m(p)})})}function o(c,u,m){const p=window.grecaptcha;oT(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{u(y)}).catch(()=>{u(sS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O2().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{r(this.auth).then(m=>{if(!n&&oT(window.grecaptcha))o(m,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=x2();p.length!==0&&(p+=m),iS(p).then(()=>{o(m,c,u)}).catch(y=>{u(y)})}}).catch(m=>{u(m)})})}}async function dT(i,e,n,r=!1,o=!1){const c=new M2(i);let u;if(o)u=sS;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function wp(i,e,n,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await dT(i,e,n,n==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await dT(i,e,n,n==="getOobCode");return r(i,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(i,e){const n=Dr(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(br(c,e??{}))return o;_i(o,"already-initialized")}return n.initialize({options:e})}function L2(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ts);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function P2(i,e,n){const r=Na(i);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=rS(e),{host:u,port:m}=U2(e),p=m===null?"":`:${m}`,y={url:`${c}//${u}${p}/`},v=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(br(y,r.config.emulator)&&br(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Nr(u)?(eg(`${c}//${u}${p}`),tg("Auth",!0)):z2()}function rS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function U2(i){const e=rS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:mT(r.substr(c.length+1))}}else{const[c,u]=r.split(":");return{host:c,port:mT(u)}}}function mT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function z2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function B2(i,e){return jr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(i,e){return kc(i,"POST","/v1/accounts:signInWithPassword",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(i,e){return kc(i,"POST","/v1/accounts:signInWithEmailLink",Or(i,e))}async function H2(i,e){return kc(i,"POST","/v1/accounts:signInWithEmailLink",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends fg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,n,"signInWithPassword",q2);case"emailLink":return F2(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,r,"signUpPassword",B2);case"emailLink":return H2(e,{idToken:n,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i,e){return kc(i,"POST","/v1/accounts:signInWithIdp",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="http://localhost";class ba extends fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const u=new ba(r,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return jo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jo(e,n)}buildRequest(){const e={requestUri:G2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y2(i){const e=ic(sc(i)).link,n=e?ic(sc(e)).deep_link_id:null,r=ic(sc(i)).deep_link_id;return(r?ic(sc(r)).link:null)||r||n||e||i}class dg{constructor(e){const n=ic(sc(e)),r=n.apiKey??null,o=n.oobCode??null,c=K2(n.mode??null);ve(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Y2(e);try{return new dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,n){return Tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dg.parseLink(n);return ve(r,"argument-error"),Tc._fromEmailAndCode(e,r.code,r.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends aS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Mc{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ba._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Mc{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Mc{constructor(){super("twitter.com")}static credential(e,n){return ba._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pr.credential(n,r)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(i,e){return kc(i,"POST","/v1/accounts:signUp",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await pi._fromIdTokenResponse(e,r,o),u=pT(r);return new Sa({user:c,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=pT(r);return new Sa({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function pT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends ti{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new ef(e,n,r,o)}}function oS(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(i,c,e,r):c})}async function $2(i,e,n=!1){const r=await Ec(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Sa._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(i,e,n=!1){const{auth:r}=i;if(kn(r.app))return Promise.reject(Ss(r));const o="reauthenticate";try{const c=await Ec(i,oS(r,o,e,i),n);ve(c.idToken,r,"internal-error");const u=ug(c.idToken);ve(u,r,"internal-error");const{sub:m}=u;return ve(i.uid===m,r,"user-mismatch"),Sa._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&_i(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(i,e,n=!1){if(kn(i.app))return Promise.reject(Ss(i));const r="signIn",o=await oS(i,r,e),c=await Sa._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(c.user),c}async function J2(i,e){return lS(Na(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(i){const e=Na(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uS(i,e,n){if(kn(i.app))return Promise.reject(Ss(i));const r=Na(i),u=await wp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&cS(i),p}),m=await Sa._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(m.user),m}function mg(i,e,n){return kn(i.app)?Promise.reject(Ss(i)):J2(ut(i),Fo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cS(i),r})}function W2(i,e,n,r){return ut(i).onIdTokenChanged(e,n,r)}function Z2(i,e,n){return ut(i).beforeAuthStateChanged(e,n)}function eD(i,e,n,r){return ut(i).onAuthStateChanged(e,n,r)}function gT(i){return ut(i).signOut()}const tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=1e3,nD=10;class fS extends hS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},c=this.storage.getItem(r);b2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nD):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fS.type="LOCAL";const iD=fS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends hS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dS.type="SESSION";const mS=dS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(u).map(async y=>y(n.origin,c)),p=await sD(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((m,p)=>{const y=pg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function aD(i){Yi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function oD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lD(){return navigator?.serviceWorker?.controller||null}function cD(){return pS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebaseLocalStorageDb",uD=1,nf="firebaseLocalStorage",yS="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Af(i,e){return i.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function hD(){const i=indexedDB.deleteDatabase(gS);return new Vc(i).toPromise()}function Cp(){const i=indexedDB.open(gS,uD);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(nf,{keyPath:yS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(nf)?e(r):(r.close(),await hD(),e(await Cp()))})})}async function yT(i,e,n){const r=Af(i,!0).put({[yS]:e,value:n});return new Vc(r).toPromise()}async function fD(i,e){const n=Af(i,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function _T(i,e){const n=Af(i,!0).delete(e);return new Vc(n).toPromise()}const dD=800,mD=3;class _S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(cD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oD(),!this.activeServiceWorker)return;this.sender=new rD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cp();return await yT(e,tf,"1"),await _T(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_T(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Af(o,!1).getAll();return new Vc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_S.type="LOCAL";const pD=_S;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(i,e){return e?Ts(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yD(i){return lS(i.auth,new gg(i),i.bypassAuthState)}function _D(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),X2(n,new gg(i),i.bypassAuthState)}async function vD(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),$2(n,new gg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yD;case"linkViaPopup":case"linkViaRedirect":return vD;case"reauthViaPopup":case"reauthViaRedirect":return _D;default:_i(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new jc(2e3,1e4);class No extends vS{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ED.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="pendingRedirect",Mh=new Map;class bD extends vS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const r=await SD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SD(i,e){const n=CD(e),r=wD(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function AD(i,e){Mh.set(i._key(),e)}function wD(i){return Ts(i._redirectPersistence)}function CD(i){return kh(TD,i.config.apiKey,i.name)}async function RD(i,e,n=!1){if(kn(i.app))return Promise.reject(Ss(i));const r=Na(i),o=gD(r,e),u=await new bD(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=600*1e3;class xD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ND(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ES(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ki(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ID&&this.cachedEventUids.clear(),this.cachedEventUids.has(vT(e))}saveEventToCache(e){this.cachedEventUids.add(vT(e)),this.lastProcessedEventTime=Date.now()}}function vT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function ES({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function ND(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ES(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(i,e={}){return jr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jD=/^https?/;async function kD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await DD(i);for(const n of e)try{if(MD(n))return}catch{}_i(i,"unauthorized-domain")}function MD(i){const e=Sp(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!jD.test(n))return!1;if(OD.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new jc(3e4,6e4);function ET(){const i=Yi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function LD(i){return new Promise((e,n)=>{function r(){ET(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ET(),n(Ki(i,"network-request-failed"))},timeout:VD.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)r();else{const o=D2("iframefcb");return Yi()[o]=()=>{gapi.load?r():n(Ki(i,"network-request-failed"))},iS(`${N2()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Vh=null,e})}let Vh=null;function PD(i){return Vh=Vh||LD(i),Vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new jc(5e3,15e3),zD="__/auth/iframe",BD="emulator/auth/iframe",qD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HD(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?cg(e,BD):`https://${i.config.authDomain}/${zD}`,r={apiKey:e.apiKey,appName:i.name,v:xa},o=FD.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Oc(r).slice(1)}`}async function GD(i){const e=await PD(i),n=Yi().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:HD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qD,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const u=Ki(i,"network-request-failed"),m=Yi().setTimeout(()=>{c(u)},UD.get());function p(){Yi().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YD=500,QD=600,$D="_blank",XD="http://localhost";class TT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JD(i,e,n,r=YD,o=QD){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...KD,width:r.toString(),height:o.toString(),top:c,left:u},y=ln().toLowerCase();n&&(m=X0(y)?$D:n),Q0(y)&&(e=e||XD,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[x,z])=>`${A}${x}=${z},`,"");if(T2(y)&&m!=="_self")return WD(e||"",m),new TT(null);const b=window.open(e||"",m,v);ve(b,i,"popup-blocked");try{b.focus()}catch{}return new TT(b)}function WD(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="__/auth/handler",eO="emulator/auth/handler",tO=encodeURIComponent("fac");async function bT(i,e,n,r,o,c){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:xa,eventId:o};if(e instanceof aS){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",vI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof Mc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}i.tenantId&&(u.tid=i.tenantId);const m=u;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),y=p?`#${tO}=${encodeURIComponent(p)}`:"";return`${nO(i)}?${Oc(m).slice(1)}${y}`}function nO({config:i}){return i.emulator?cg(i,eO):`https://${i.authDomain}/${ZD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport";class iO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mS,this._completeRedirectFn=RD,this._overrideRedirectResult=AD}async _openPopup(e,n,r,o){Is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await bT(e,n,r,Sp(),o);return JD(e,c,pg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await bT(e,n,r,Sp(),o);return aD(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Is(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GD(e),r=new xD(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ap,{type:ap},o=>{const c=o?.[0]?.[ap];c!==void 0&&n(!!c),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tS()||$0()||hg()}}const sO=iO;var ST="@firebase/auth",AT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oO(i){yi(new ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=r.options;ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nS(i)},y=new R2(r,o,c,p);return L2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yi(new ei("auth-internal",e=>{const n=Na(e.getProvider("auth").getImmediate());return(r=>new rO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(ST,AT,aO(i)),Sn(ST,AT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=300,cO=o0("authIdTokenMaxAge")||lO;let wT=null;const uO=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cO)return;const o=n?.token;wT!==o&&(wT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hO(i=vf()){const e=Dr(i,"auth");if(e.isInitialized())return e.getImmediate();const n=V2(i,{popupRedirectResolver:sO,persistence:[pD,iD,mS]}),r=o0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const u=uO(c.toString());Z2(n,u,()=>u(n.currentUser)),W2(n,m=>u(m))}}const o=s0("auth");return o&&P2(n,`http://${o}`),n}function fO(){return document.getElementsByTagName("head")?.[0]??document}I2({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=Ki("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",fO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oO("Browser");var CT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,TS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function I(){}I.prototype=C.prototype,R.F=C.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(L,j,B){for(var N=Array(arguments.length-2),at=2;at<arguments.length;at++)N[at-2]=arguments[at];return C.prototype[j].apply(L,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,C,I){I||(I=0);const L=Array(16);if(typeof C=="string")for(var j=0;j<16;++j)L[j]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(j=0;j<16;++j)L[j]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=R.g[0],I=R.g[1],j=R.g[2];let B=R.g[3],N;N=C+(B^I&(j^B))+L[0]+3614090360&4294967295,C=I+(N<<7&4294967295|N>>>25),N=B+(j^C&(I^j))+L[1]+3905402710&4294967295,B=C+(N<<12&4294967295|N>>>20),N=j+(I^B&(C^I))+L[2]+606105819&4294967295,j=B+(N<<17&4294967295|N>>>15),N=I+(C^j&(B^C))+L[3]+3250441966&4294967295,I=j+(N<<22&4294967295|N>>>10),N=C+(B^I&(j^B))+L[4]+4118548399&4294967295,C=I+(N<<7&4294967295|N>>>25),N=B+(j^C&(I^j))+L[5]+1200080426&4294967295,B=C+(N<<12&4294967295|N>>>20),N=j+(I^B&(C^I))+L[6]+2821735955&4294967295,j=B+(N<<17&4294967295|N>>>15),N=I+(C^j&(B^C))+L[7]+4249261313&4294967295,I=j+(N<<22&4294967295|N>>>10),N=C+(B^I&(j^B))+L[8]+1770035416&4294967295,C=I+(N<<7&4294967295|N>>>25),N=B+(j^C&(I^j))+L[9]+2336552879&4294967295,B=C+(N<<12&4294967295|N>>>20),N=j+(I^B&(C^I))+L[10]+4294925233&4294967295,j=B+(N<<17&4294967295|N>>>15),N=I+(C^j&(B^C))+L[11]+2304563134&4294967295,I=j+(N<<22&4294967295|N>>>10),N=C+(B^I&(j^B))+L[12]+1804603682&4294967295,C=I+(N<<7&4294967295|N>>>25),N=B+(j^C&(I^j))+L[13]+4254626195&4294967295,B=C+(N<<12&4294967295|N>>>20),N=j+(I^B&(C^I))+L[14]+2792965006&4294967295,j=B+(N<<17&4294967295|N>>>15),N=I+(C^j&(B^C))+L[15]+1236535329&4294967295,I=j+(N<<22&4294967295|N>>>10),N=C+(j^B&(I^j))+L[1]+4129170786&4294967295,C=I+(N<<5&4294967295|N>>>27),N=B+(I^j&(C^I))+L[6]+3225465664&4294967295,B=C+(N<<9&4294967295|N>>>23),N=j+(C^I&(B^C))+L[11]+643717713&4294967295,j=B+(N<<14&4294967295|N>>>18),N=I+(B^C&(j^B))+L[0]+3921069994&4294967295,I=j+(N<<20&4294967295|N>>>12),N=C+(j^B&(I^j))+L[5]+3593408605&4294967295,C=I+(N<<5&4294967295|N>>>27),N=B+(I^j&(C^I))+L[10]+38016083&4294967295,B=C+(N<<9&4294967295|N>>>23),N=j+(C^I&(B^C))+L[15]+3634488961&4294967295,j=B+(N<<14&4294967295|N>>>18),N=I+(B^C&(j^B))+L[4]+3889429448&4294967295,I=j+(N<<20&4294967295|N>>>12),N=C+(j^B&(I^j))+L[9]+568446438&4294967295,C=I+(N<<5&4294967295|N>>>27),N=B+(I^j&(C^I))+L[14]+3275163606&4294967295,B=C+(N<<9&4294967295|N>>>23),N=j+(C^I&(B^C))+L[3]+4107603335&4294967295,j=B+(N<<14&4294967295|N>>>18),N=I+(B^C&(j^B))+L[8]+1163531501&4294967295,I=j+(N<<20&4294967295|N>>>12),N=C+(j^B&(I^j))+L[13]+2850285829&4294967295,C=I+(N<<5&4294967295|N>>>27),N=B+(I^j&(C^I))+L[2]+4243563512&4294967295,B=C+(N<<9&4294967295|N>>>23),N=j+(C^I&(B^C))+L[7]+1735328473&4294967295,j=B+(N<<14&4294967295|N>>>18),N=I+(B^C&(j^B))+L[12]+2368359562&4294967295,I=j+(N<<20&4294967295|N>>>12),N=C+(I^j^B)+L[5]+4294588738&4294967295,C=I+(N<<4&4294967295|N>>>28),N=B+(C^I^j)+L[8]+2272392833&4294967295,B=C+(N<<11&4294967295|N>>>21),N=j+(B^C^I)+L[11]+1839030562&4294967295,j=B+(N<<16&4294967295|N>>>16),N=I+(j^B^C)+L[14]+4259657740&4294967295,I=j+(N<<23&4294967295|N>>>9),N=C+(I^j^B)+L[1]+2763975236&4294967295,C=I+(N<<4&4294967295|N>>>28),N=B+(C^I^j)+L[4]+1272893353&4294967295,B=C+(N<<11&4294967295|N>>>21),N=j+(B^C^I)+L[7]+4139469664&4294967295,j=B+(N<<16&4294967295|N>>>16),N=I+(j^B^C)+L[10]+3200236656&4294967295,I=j+(N<<23&4294967295|N>>>9),N=C+(I^j^B)+L[13]+681279174&4294967295,C=I+(N<<4&4294967295|N>>>28),N=B+(C^I^j)+L[0]+3936430074&4294967295,B=C+(N<<11&4294967295|N>>>21),N=j+(B^C^I)+L[3]+3572445317&4294967295,j=B+(N<<16&4294967295|N>>>16),N=I+(j^B^C)+L[6]+76029189&4294967295,I=j+(N<<23&4294967295|N>>>9),N=C+(I^j^B)+L[9]+3654602809&4294967295,C=I+(N<<4&4294967295|N>>>28),N=B+(C^I^j)+L[12]+3873151461&4294967295,B=C+(N<<11&4294967295|N>>>21),N=j+(B^C^I)+L[15]+530742520&4294967295,j=B+(N<<16&4294967295|N>>>16),N=I+(j^B^C)+L[2]+3299628645&4294967295,I=j+(N<<23&4294967295|N>>>9),N=C+(j^(I|~B))+L[0]+4096336452&4294967295,C=I+(N<<6&4294967295|N>>>26),N=B+(I^(C|~j))+L[7]+1126891415&4294967295,B=C+(N<<10&4294967295|N>>>22),N=j+(C^(B|~I))+L[14]+2878612391&4294967295,j=B+(N<<15&4294967295|N>>>17),N=I+(B^(j|~C))+L[5]+4237533241&4294967295,I=j+(N<<21&4294967295|N>>>11),N=C+(j^(I|~B))+L[12]+1700485571&4294967295,C=I+(N<<6&4294967295|N>>>26),N=B+(I^(C|~j))+L[3]+2399980690&4294967295,B=C+(N<<10&4294967295|N>>>22),N=j+(C^(B|~I))+L[10]+4293915773&4294967295,j=B+(N<<15&4294967295|N>>>17),N=I+(B^(j|~C))+L[1]+2240044497&4294967295,I=j+(N<<21&4294967295|N>>>11),N=C+(j^(I|~B))+L[8]+1873313359&4294967295,C=I+(N<<6&4294967295|N>>>26),N=B+(I^(C|~j))+L[15]+4264355552&4294967295,B=C+(N<<10&4294967295|N>>>22),N=j+(C^(B|~I))+L[6]+2734768916&4294967295,j=B+(N<<15&4294967295|N>>>17),N=I+(B^(j|~C))+L[13]+1309151649&4294967295,I=j+(N<<21&4294967295|N>>>11),N=C+(j^(I|~B))+L[4]+4149444226&4294967295,C=I+(N<<6&4294967295|N>>>26),N=B+(I^(C|~j))+L[11]+3174756917&4294967295,B=C+(N<<10&4294967295|N>>>22),N=j+(C^(B|~I))+L[2]+718787259&4294967295,j=B+(N<<15&4294967295|N>>>17),N=I+(B^(j|~C))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+j&4294967295,R.g[3]=R.g[3]+B&4294967295}r.prototype.v=function(R,C){C===void 0&&(C=R.length);const I=C-this.blockSize,L=this.C;let j=this.h,B=0;for(;B<C;){if(j==0)for(;B<=I;)o(this,R,B),B+=this.blockSize;if(typeof R=="string"){for(;B<C;)if(L[j++]=R.charCodeAt(B++),j==this.blockSize){o(this,L),j=0;break}}else for(;B<C;)if(L[j++]=R[B++],j==this.blockSize){o(this,L),j=0;break}}this.h=j,this.o+=C},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;C=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=C&255,C/=256;for(this.v(R),R=Array(16),C=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)R[C++]=this.g[I]>>>L&255;return R};function c(R,C){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=C(R)}function u(R,C){this.h=C;const I=[];let L=!0;for(let j=R.length-1;j>=0;j--){const B=R[j]|0;L&&B==C||(I[j]=B,L=!1)}this.g=I}var m={};function p(R){return-128<=R&&R<128?c(R,function(C){return new u([C|0],C<0?-1:0)}):new u([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return M(y(-R));const C=[];let I=1;for(let L=0;R>=I;L++)C[L]=R/I|0,I*=4294967296;return new u(C,0)}function v(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return M(v(R.substring(1),C));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(C,8));let L=b;for(let B=0;B<R.length;B+=8){var j=Math.min(8,R.length-B);const N=parseInt(R.substring(B,B+j),C);j<8?(j=y(Math.pow(C,j)),L=L.j(j).add(y(N))):(L=L.j(I),L=L.add(y(N)))}return L}var b=p(0),A=p(1),x=p(16777216);i=u.prototype,i.m=function(){if(P(this))return-M(this).m();let R=0,C=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);R+=(L>=0?L:4294967296+L)*C,C*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(z(this))return"0";if(P(this))return"-"+M(this).toString(R);const C=y(Math.pow(R,6));var I=this;let L="";for(;;){const j=se(I,C).g;I=Q(I,j.j(C));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=j,z(I))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function z(R){if(R.h!=0)return!1;for(let C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function P(R){return R.h==-1}i.l=function(R){return R=Q(this,R),P(R)?-1:z(R)?0:1};function M(R){const C=R.g.length,I=[];for(let L=0;L<C;L++)I[L]=~R.g[L];return new u(I,~R.h).add(A)}i.abs=function(){return P(this)?M(this):this},i.add=function(R){const C=Math.max(this.g.length,R.g.length),I=[];let L=0;for(let j=0;j<=C;j++){let B=L+(this.i(j)&65535)+(R.i(j)&65535),N=(B>>>16)+(this.i(j)>>>16)+(R.i(j)>>>16);L=N>>>16,B&=65535,N&=65535,I[j]=N<<16|B}return new u(I,I[I.length-1]&-2147483648?-1:0)};function Q(R,C){return R.add(M(C))}i.j=function(R){if(z(this)||z(R))return b;if(P(this))return P(R)?M(this).j(M(R)):M(M(this).j(R));if(P(R))return M(this.j(M(R)));if(this.l(x)<0&&R.l(x)<0)return y(this.m()*R.m());const C=this.g.length+R.g.length,I=[];for(var L=0;L<2*C;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let j=0;j<R.g.length;j++){const B=this.i(L)>>>16,N=this.i(L)&65535,at=R.i(j)>>>16,Pt=R.i(j)&65535;I[2*L+2*j]+=N*Pt,$(I,2*L+2*j),I[2*L+2*j+1]+=B*Pt,$(I,2*L+2*j+1),I[2*L+2*j+1]+=N*at,$(I,2*L+2*j+1),I[2*L+2*j+2]+=B*at,$(I,2*L+2*j+2)}for(R=0;R<C;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=C;R<2*C;R++)I[R]=0;return new u(I,0)};function $(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function Z(R,C){this.g=R,this.h=C}function se(R,C){if(z(C))throw Error("division by zero");if(z(R))return new Z(b,b);if(P(R))return C=se(M(R),C),new Z(M(C.g),M(C.h));if(P(C))return C=se(R,M(C)),new Z(M(C.g),C.h);if(R.g.length>30){if(P(R)||P(C))throw Error("slowDivide_ only works with positive integers.");for(var I=A,L=C;L.l(R)<=0;)I=re(I),L=re(L);var j=ue(I,1),B=ue(L,1);for(L=ue(L,2),I=ue(I,2);!z(L);){var N=B.add(L);N.l(R)<=0&&(j=j.add(I),B=N),L=ue(L,1),I=ue(I,1)}return C=Q(R,j.j(C)),new Z(j,C)}for(j=b;R.l(C)>=0;){for(I=Math.max(1,Math.floor(R.m()/C.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=y(I),N=B.j(C);P(N)||N.l(R)>0;)I-=L,B=y(I),N=B.j(C);z(B)&&(B=A),j=j.add(B),R=Q(R,N)}return new Z(j,R)}i.B=function(R){return se(this,R).h},i.and=function(R){const C=Math.max(this.g.length,R.g.length),I=[];for(let L=0;L<C;L++)I[L]=this.i(L)&R.i(L);return new u(I,this.h&R.h)},i.or=function(R){const C=Math.max(this.g.length,R.g.length),I=[];for(let L=0;L<C;L++)I[L]=this.i(L)|R.i(L);return new u(I,this.h|R.h)},i.xor=function(R){const C=Math.max(this.g.length,R.g.length),I=[];for(let L=0;L<C;L++)I[L]=this.i(L)^R.i(L);return new u(I,this.h^R.h)};function re(R){const C=R.g.length+1,I=[];for(let L=0;L<C;L++)I[L]=R.i(L)<<1|R.i(L-1)>>>31;return new u(I,R.h)}function ue(R,C){const I=C>>5;C%=32;const L=R.g.length-I,j=[];for(let B=0;B<L;B++)j[B]=C>0?R.i(B+I)>>>C|R.i(B+I+1)<<32-C:R.i(B+I);return new u(j,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,TS=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,Er=u}).apply(typeof CT<"u"?CT:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bS,rc,SS,Lh,Rp,AS,wS,CS;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function o(h,_){if(_)e:{var T=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in T))break e;T=T[q]}h=h[h.length-1],w=T[h],_=_(w),_!=w&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var T=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&T.push([w,_[w]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,T){return h.call.apply(h.bind,arguments)}function y(h,_,T){return y=p,y.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(w,q,K){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return _.prototype[q].apply(w,ae)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const _=h.length;if(_>0){const T=Array(_);for(let w=0;w<_;w++)T[w]=h[w];return T}return[]}function z(h,_){for(let w=1;w<arguments.length;w++){const q=arguments[w];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=h.length||0;const K=q.length||0;h.length=T+K;for(let ae=0;ae<K;ae++)h[T+ae]=q[ae]}else h.push(q)}}class P{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(h){u.setTimeout(()=>{throw h},0)}function Q(){var h=R;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class ${constructor(){this.h=this.g=null}add(_,T){const w=Z.get();w.set(_,T),this.h?this.h.next=w:this.g=w,this.h=w}}var Z=new P(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ue=!1,R=new $,C=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(I)}};function I(){for(var h;h=Q();){try{h.h.call(h.g)}catch(T){M(T)}var _=Z;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ue=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function at(h,_){j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(at,j),at.prototype.init=function(h,_){const T=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pt="closure_listenable_"+(Math.random()*1e6|0),J=0;function oe(h,_,T,w,q){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!w,this.ha=q,this.key=++J,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ze(h,_,T){for(const w in h)_.call(T,h[w],w,h)}function Ye(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function V(h){const _={};for(const T in h)_[T]=h[T];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,_){let T,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(T in w)h[T]=w[T];for(let K=0;K<ne.length;K++)T=ne[K],Object.prototype.hasOwnProperty.call(w,T)&&(h[T]=w[T])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,_,T,w,q){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ae=Ie(h,_,w,q);return ae>-1?(_=h[ae],T||(_.fa=!1)):(_=new oe(_,this.src,K,!!w,q),_.fa=T,h.push(_)),_};function Te(h,_){const T=_.type;if(T in h.g){var w=h.g[T],q=Array.prototype.indexOf.call(w,_,void 0),K;(K=q>=0)&&Array.prototype.splice.call(w,q,1),K&&(ye(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ie(h,_,T,w){for(let q=0;q<h.length;++q){const K=h[q];if(!K.da&&K.listener==_&&K.capture==!!T&&K.ha==w)return q}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Ut={};function ot(h,_,T,w,q){if(Array.isArray(_)){for(let K=0;K<_.length;K++)ot(h,_[K],T,w,q);return null}return T=Jo(T),h&&h[Pt]?h.J(_,T,m(w)?!!w.capture:!1,q):Vr(h,_,T,!1,w,q)}function Vr(h,_,T,w,q,K){if(!_)throw Error("Invalid event type");const ae=m(q)?!!q.capture:!!q;let Ce=Lr(h);if(Ce||(h[Pe]=Ce=new fe(h)),T=Ce.add(_,T,w,ae,K),T.proxy)return T;if(w=Ma(),T.proxy=w,w.src=h,w.listener=T,h.addEventListener)B||(q=ae),q===void 0&&(q=!1),h.addEventListener(_.toString(),w,q);else if(h.attachEvent)h.attachEvent(bi(_.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ma(){function h(T){return _.call(h.src,h.listener,T)}const _=$o;return h}function Va(h,_,T,w,q){if(Array.isArray(_))for(var K=0;K<_.length;K++)Va(h,_[K],T,w,q);else w=m(w)?!!w.capture:!!w,T=Jo(T),h&&h[Pt]?(h=h.i,K=String(_).toString(),K in h.g&&(_=h.g[K],T=Ie(_,T,w,q),T>-1&&(ye(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[K],h.h--)))):h&&(h=Lr(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ie(_,T,w,q)),(T=h>-1?_[h]:null)&&La(T))}function La(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Pt])Te(_.i,h);else{var T=h.type,w=h.proxy;_.removeEventListener?_.removeEventListener(T,w,h.capture):_.detachEvent?_.detachEvent(bi(T),w):_.addListener&&_.removeListener&&_.removeListener(w),(T=Lr(_))?(Te(T,h),T.h==0&&(T.src=null,_[Pe]=null)):ye(h)}}}function bi(h){return h in Ut?Ut[h]:Ut[h]="on"+h}function $o(h,_){if(h.da)h=!0;else{_=new at(_,this);const T=h.listener,w=h.ha||h.src;h.fa&&La(h),h=T.call(w,_)}return h}function Lr(h){return h=h[Pe],h instanceof fe?h:null}var Xo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jo(h){return typeof h=="function"?h:(h[Xo]||(h[Xo]=function(_){return h.handleEvent(_)}),h[Xo])}function wt(){L.call(this),this.i=new fe(this),this.M=this,this.G=null}b(wt,L),wt.prototype[Pt]=!0,wt.prototype.removeEventListener=function(h,_,T,w){Va(this,h,_,T,w)};function zt(h,_){var T,w=h.G;if(w)for(T=[];w;w=w.G)T.push(w);if(h=h.M,w=_.type||_,typeof _=="string")_=new j(_,h);else if(_ instanceof j)_.target=_.target||h;else{var q=_;_=new j(w,h),le(_,q)}q=!0;let K,ae;if(T)for(ae=T.length-1;ae>=0;ae--)K=_.g=T[ae],q=Os(K,w,!0,_)&&q;if(K=_.g=h,q=Os(K,w,!0,_)&&q,q=Os(K,w,!1,_)&&q,T)for(ae=0;ae<T.length;ae++)K=_.g=T[ae],q=Os(K,w,!1,_)&&q}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let w=0;w<T.length;w++)ye(T[w]);delete h.g[_],h.h--}}this.G=null},wt.prototype.J=function(h,_,T,w){return this.i.add(String(h),_,!1,T,w)},wt.prototype.K=function(h,_,T,w){return this.i.add(String(h),_,!0,T,w)};function Os(h,_,T,w){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let K=0;K<_.length;++K){const ae=_[K];if(ae&&!ae.da&&ae.capture==T){const Ce=ae.listener,vt=ae.ha||ae.src;ae.fa&&Te(h.i,ae),q=Ce.call(vt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Gf(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Gc(h){h.g=Gf(()=>{h.g=null,h.i&&(h.i=!1,Gc(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class cn extends L{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Gc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(h){L.call(this),this.h=h,this.g={}}b(Pr,L);var Wo=[];function Zo(h){ze(h.g,function(_,T){this.g.hasOwnProperty(T)&&La(_)},h),h.g={}}Pr.prototype.N=function(){Pr.Z.N.call(this),Zo(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=u.JSON.stringify,Kf=u.JSON.parse,Kc=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Yc(){}function Qc(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){j.call(this,"d")}b(Yt,j);function Un(){j.call(this,"c")}b(Un,j);var _t={},$c=null;function Pa(){return $c=$c||new wt}_t.Ia="serverreachability";function Xc(h){j.call(this,_t.Ia,h)}b(Xc,j);function Si(h){const _=Pa();zt(_,new Xc(_))}_t.STAT_EVENT="statevent";function Ur(h,_){j.call(this,_t.STAT_EVENT,h),this.stat=_}b(Ur,j);function Ct(h){const _=Pa();zt(_,new Ur(_,h))}_t.Ja="timingevent";function Ai(h,_){j.call(this,_t.Ja,h),this.size=_}b(Ai,j);function wi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function Yf(h,_,T,w,q,K){h.info(function(){if(h.g)if(K){var ae="",Ce=K.split("&");for(let He=0;He<Ce.length;He++){var vt=Ce[He].split("=");if(vt.length>1){const lt=vt[0];vt=vt[1];const Fn=lt.split("_");ae=Fn.length>=2&&Fn[1]=="type"?ae+(lt+"="+vt+"&"):ae+(lt+"=redacted&")}}}else ae=null;else ae=K;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+_+`
`+T+`
`+ae})}function Jc(h,_,T,w,q,K,ae){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+_+`
`+T+`
`+K+" "+ae})}function Ci(h,_,T,w){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Qf(h,T)+(w?" "+w:"")})}function zr(h,_){h.info(function(){return"TIMEOUT: "+_})}si.prototype.info=function(){};function Qf(h,_){if(!h.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var T=K[h];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ae=1;ae<w.length;ae++)w[ae]=""}}}}return js(K)}catch{return _}}var Br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},el={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tl;function qr(){}b(qr,Yc),qr.prototype.g=function(){return new XMLHttpRequest},tl=new qr;function ts(h){return encodeURIComponent(String(h))}function Wc(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function ri(h,_,T,w){this.j=h,this.i=_,this.l=T,this.S=w||1,this.V=new Pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Rt={},Ft={};function Ri(h,_,T){h.M=1,h.A=Fr(xt(_)),h.u=T,h.R=!0,Ua(h,null)}function Ua(h,_){h.F=Date.now(),Ii(h),h.B=xt(h.A);var T=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Fa(T.i,"t",w),h.C=0,T=h.j.L,h.h=new ai,h.g=du(h.j,T?_:null,!h.u),h.P>0&&(h.O=new cn(y(h.Y,h,h.g),h.P)),_=h.V,T=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Wo[0]=q.toString()),q=Wo);for(let K=0;K<q.length;K++){const ae=ot(T,q[K],w||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Si(),Yf(h.i,h.v,h.B,h.l,h.S,h.u)}ri.prototype.ba=function(h){h=h.target;const _=this.O;_&&ci(h)==3?_.j():this.Y(h)},ri.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=ci(this.g),vt=this.g.ya(),He=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ce!=4||vt==7||(vt==8||He<=0?Si(3):Si(2)),xi(this);var _=this.g.ca();this.X=_;var T=$f(this);if(this.o=_==200,Jc(this.i,this.v,this.B,this.l,this.S,Ce,_),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var K=w;break t}}K=null}if(h=K)Ci(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,h);else{this.o=!1,this.m=3,Ct(12),wn(this),zn(this);break e}}if(this.R){h=!0;let lt;for(;!this.K&&this.C<T.length;)if(lt=eu(this,T),lt==Ft){Ce==4&&(this.m=4,Ct(14),h=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Rt){this.m=4,Ct(15),Ci(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ci(this.i,this.l,lt,null),Ni(this,lt);if(Zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||T.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)Ci(this.i,this.l,T,"[Invalid Chunked Response]"),wn(this),zn(this);else if(T.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),gl(ae),ae.P=!0,Ct(11))}}else Ci(this.i,this.l,T,null),Ni(this,T);Ce==4&&wn(this),this.o&&!this.K&&(Ce==4?cu(this.j,this):(this.o=!1,Ii(this)))}else is(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),wn(this),zn(this)}}}catch{}finally{}};function $f(h){if(!Zc(h))return h.g.la();const _=Qt(h.g);if(_==="")return"";let T="";const w=_.length,q=ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return wn(h),zn(h),"";h.h.i=new u.TextDecoder}for(let K=0;K<w;K++)h.h.h=!0,T+=h.h.i.decode(_[K],{stream:!(q&&K==w-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Zc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function eu(h,_){var T=h.C,w=_.indexOf(`
`,T);return w==-1?Ft:(T=Number(_.substring(T,w)),isNaN(T)?Rt:(w+=1,w+T>_.length?Ft:(_=_.slice(w,w+T),h.C=w+T,_)))}ri.prototype.cancel=function(){this.K=!0,wn(this)};function Ii(h){h.T=Date.now()+h.H,za(h,h.H)}function za(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wi(y(h.aa,h),_)}function xi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ri.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zr(this.i,this.B),this.M!=2&&(Si(),Ct(17)),wn(this),this.m=2,zn(this)):za(this,this.T-h)};function zn(h){h.j.I==0||h.K||cu(h.j,h)}function wn(h){xi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Zo(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ni(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Oi(T.h,h))){if(!h.L&&Oi(T.h,h)&&T.I==3){try{var w=T.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Qa(T),Bs(T);else break e;Xr(T),Ct(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=wi(y(T.Va,T),6e3));Di(T.h)<=1&&T.ta&&(T.ta=void 0)}else Pi(T,11)}else if((h.L||T.g==h)&&Qa(T),!N(_))for(q=T.Ba.g.parse(_),_=0;_<q.length;_++){let He=q[_];const lt=He[0];if(!(lt<=T.K))if(T.K=lt,He=He[1],T.I==2)if(He[0]=="c"){T.M=He[1],T.ba=He[2];const Fn=He[3];Fn!=null&&(T.ka=Fn,T.j.info("VER="+T.ka));const Ui=He[4];Ui!=null&&(T.za=Ui,T.j.info("SVER="+T.za));const ui=He[5];ui!=null&&typeof ui=="number"&&ui>0&&(w=1.5*ui,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const hi=h.g;if(hi){const Jr=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var K=w.h;K.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(sl(K,K.h),K.h=null))}if(w.G){const $a=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(w.wa=$a,Qe(w.J,w.G,$a))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var ae=h;if(w.na=fu(w,w.L?w.ba:null,w.W),ae.L){rl(w.h,ae);var Ce=ae,vt=w.O;vt&&(Ce.H=vt),Ce.D&&(xi(Ce),Ii(Ce)),w.g=ae}else ou(w);T.i.length>0&&Li(T)}else He[0]!="stop"&&He[0]!="close"||Pi(T,7);else T.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Pi(T,7):ml(T):He[0]!="noop"&&T.l&&T.l.qa(He),T.A=0)}}Si(4)}catch{}}var It=class{constructor(h,_){this.g=h,this.map=_}};function nl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Di(h){return h.h?1:h.g?h.g.size:0}function Oi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function sl(h,_){h.g?h.g.add(_):h.h=_}function rl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function al(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return x(h.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const w=h[T].indexOf("=");let q,K=null;w>=0?(q=h[T].substring(0,w),K=h[T].substring(w+1)):q=h[T],_(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Cn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Cn?(this.l=h.l,Ht(this,h.j),this.o=h.o,this.g=h.g,ks(this,h.u),this.h=h.h,ol(this,ru(h.i)),this.m=h.m):h&&(_=String(h).match(tu))?(this.l=!1,Ht(this,_[1]||"",!0),this.o=ji(_[2]||""),this.g=ji(_[3]||"",!0),ks(this,_[4]),this.h=ji(_[5]||"",!0),ol(this,_[6]||"",!0),this.m=ji(_[7]||"")):(this.l=!1,this.i=new Vs(null,this.l))}Cn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Hr(_,qa,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Hr(_,qa,!0),"@"),h.push(ts(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Hr(T,T.charAt(0)=="/"?ll:nu,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Hr(T,iu)),h.join("")},Cn.prototype.resolve=function(h){const _=xt(this);let T=!!h.j;T?Ht(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var w=h.h;if(T)ks(_,h.u);else if(T=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=_.h.lastIndexOf("/");q!=-1&&(w=_.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let ae=0;ae<q.length;){const Ce=q[ae++];Ce=="."?w&&ae==q.length&&K.push(""):Ce==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ae==q.length&&K.push("")):(K.push(Ce),w=!0)}w=K.join("/")}else w=q}return T?_.h=w:T=h.i.toString()!=="",T?ol(_,ru(h.i)):T=!!h.m,T&&(_.m=h.m),_};function xt(h){return new Cn(h)}function Ht(h,_,T){h.j=T?ji(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ks(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function ol(h,_,T){_ instanceof Vs?(h.i=_,Ha(h.i,h.l)):(T||(_=Hr(_,Ms)),h.i=new Vs(_,h.l))}function Qe(h,_,T){h.i.set(_,T)}function Fr(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ji(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hr(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,mn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qa=/[#\/\?@]/g,nu=/[#\?:]/g,ll=/[#\?]/g,Ms=/[#\?@]/g,iu=/#/g;function Vs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ba(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}i=Vs.prototype,i.add=function(h,_){pn(this),this.i=null,h=Ls(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function su(h,_){pn(h),_=Ls(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function cl(h,_){return pn(h),_=Ls(h,_),h.g.has(_)}i.forEach=function(h,_){pn(this),this.g.forEach(function(T,w){T.forEach(function(q){h.call(_,q,w,this)},this)},this)};function ul(h,_){pn(h);let T=[];if(typeof _=="string")cl(h,_)&&(T=T.concat(h.g.get(Ls(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}i.set=function(h,_){return pn(this),this.i=null,h=Ls(this,h),cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},i.get=function(h,_){return h?(h=ul(this,h),h.length>0?String(h[0]):_):_};function Fa(h,_,T){su(h,_),T.length>0&&(h.i=null,h.g.set(Ls(h,_),x(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var T=_[w];const q=ts(T);T=ul(this,T);for(let K=0;K<T.length;K++){let ae=q;T[K]!==""&&(ae+="="+ts(T[K])),h.push(ae)}}return this.i=h.join("&")};function ru(h){const _=new Vs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Ls(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ha(h,_){_&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(T,w){const q=w.toLowerCase();w!=q&&(su(this,w),Fa(this,q,T))},h)),h.j=_}function oi(h,_){const T=new si;if(u.Image){const w=new Image;w.onload=v(Bn,T,"TestLoadImage: loaded",!0,_,w),w.onerror=v(Bn,T,"TestLoadImage: error",!1,_,w),w.onabort=v(Bn,T,"TestLoadImage: abort",!1,_,w),w.ontimeout=v(Bn,T,"TestLoadImage: timeout",!1,_,w),u.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else _(!1)}function hl(h,_){const T=new si,w=new AbortController,q=setTimeout(()=>{w.abort(),Bn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:w.signal}).then(K=>{clearTimeout(q),K.ok?Bn(T,"TestPingServer: ok",!0,_):Bn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Bn(T,"TestPingServer: error",!1,_)})}function Bn(h,_,T,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(T)}catch{}}function Ps(){this.g=new Kc}function ki(h){this.i=h.Sb||null,this.h=h.ab||!1}b(ki,Yc),ki.prototype.g=function(){return new Gr(this.i,this.h)};function Gr(h,_){wt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Gr,wt),i=Gr.prototype,i.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,li(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Us(this):li(this),this.readyState==3&&Ga(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Us(this))},i.Na=function(h){this.g&&(this.response=h,Us(this))},i.ga=function(){this.g&&Us(this)};function Us(h){h.readyState=4,h.l=null,h.j=null,h.B=null,li(h)}i.setRequestHeader=function(h,_){this.A.append(h,_)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function li(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qn(h){let _="";return ze(h,function(T,w){_+=w,_+=":",_+=T,_+=`\r
`}),_}function Kr(h,_,T){e:{for(w in T){var w=!1;break e}w=!0}w||(T=qn(T),typeof h=="string"?T!=null&&ts(T):Qe(h,_,T))}function Je(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Je,wt);var Mi=/^https?$/i,fl=["POST","PUT"];i=Je.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,_,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tl.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(K){Yr(this,K);return}if(h=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)T.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())T.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(fl,_,void 0)>=0)||w||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of T)this.g.setRequestHeader(K,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Yr(this,K)}};function Yr(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,dl(h),ns(h)}function dl(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,zt(this,"complete"),zt(this,"abort"),ns(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},i.Xa=function(){Qr(this)};function Qr(h){if(h.h&&typeof c<"u"){if(h.v&&ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(zt(h,"readystatechange"),ci(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var w;if(w=K===0){let ae=String(h.D).match(tu)[1]||null;!ae&&u.self&&u.self.location&&(ae=u.self.location.protocol.slice(0,-1)),w=!Mi.test(ae?ae.toLowerCase():"")}T=w}if(T)zt(h,"complete"),zt(h,"success");else{h.o=6;try{var q=ci(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",dl(h)}}finally{ns(h)}}}}function ns(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||zt(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Kf(_)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function is(h){const _={};h=(h.g&&ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(N(h[w]))continue;var T=Wc(h[w]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=_[q]||[];_[q]=K,K.push(T)}Ye(_,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function zs(h){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,h),this.Za=Vi("retryDelaySeedMs",1e4,h),this.Ta=Vi("forwardChannelMaxRetries",2,h),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(h&&h.concurrentRequestLimit),this.Ba=new Ps,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=zs.prototype,i.ka=8,i.I=1,i.connect=function(h,_,T,w){Ct(0),this.W=h,this.H=_||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=fu(this,null,this.W),Li(this)};function ml(h){if(Ka(h),h.I==3){var _=h.V++,T=xt(h.J);if(Qe(T,"SID",h.M),Qe(T,"RID",_),Qe(T,"TYPE","terminate"),$r(h,T),_=new ri(h,h.j,_),_.M=2,_.A=Fr(xt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=du(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ii(_)}hu(h)}function Bs(h){h.g&&(gl(h),h.g.cancel(),h.g=null)}function Ka(h){Bs(h),h.v&&(u.clearTimeout(h.v),h.v=null),Qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Li(h){if(!il(h.h)&&!h.m){h.m=!0;var _=h.Ea;re||C(),ue||(re(),ue=!0),R.add(_,h),h.D=0}}function Ya(h,_){return Di(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wi(y(h.Ea,h,_),uu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ri(this,this.j,h);let K=this.o;if(this.U&&(K?(K=V(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=au(this,q,_),T=xt(this.J),Qe(T,"RID",h),Qe(T,"CVER",22),this.G&&Qe(T,"X-HTTP-Session-Id",this.G),$r(this,T),K&&(this.R?_="headers="+ts(qn(K))+"&"+_:this.u&&Kr(T,this.u,K)),sl(this.h,q),this.Ra&&Qe(T,"TYPE","init"),this.S?(Qe(T,"$req",_),Qe(T,"SID","null"),q.U=!0,Ri(q,T,null)):Ri(q,T,_),this.I=2}}else this.I==3&&(h?pl(this,h):this.i.length==0||il(this.h)||pl(this))};function pl(h,_){var T;_?T=_.l:T=h.V++;const w=xt(h.J);Qe(w,"SID",h.M),Qe(w,"RID",T),Qe(w,"AID",h.K),$r(h,w),h.u&&h.o&&Kr(w,h.u,h.o),T=new ri(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=au(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),sl(h.h,T),Ri(T,w,_)}function $r(h,_){h.H&&ze(h.H,function(T,w){Qe(_,w,T)}),h.l&&ze({},function(T,w){Qe(_,w,T)})}function au(h,_,T){T=Math.min(h.i.length,T);const w=h.l?y(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ce=-1;for(;;){const vt=["count="+T];Ce==-1?T>0?(Ce=q[0].g,vt.push("ofs="+Ce)):Ce=0:vt.push("ofs="+Ce);let He=!0;for(let lt=0;lt<T;lt++){var K=q[lt].g;const Fn=q[lt].map;if(K-=Ce,K<0)Ce=Math.max(0,q[lt].g-100),He=!1;else try{K="req"+K+"_"||"";try{var ae=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Ui,ui]of ae){let hi=ui;m(ui)&&(hi=js(ui)),vt.push(K+Ui+"="+encodeURIComponent(hi))}}catch(Ui){throw vt.push(K+"type="+encodeURIComponent("_badmap")),Ui}}catch{w&&w(Fn)}}if(He){ae=vt.join("&");break e}}ae=void 0}return h=h.i.splice(0,T),_.G=h,ae}function ou(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;re||C(),ue||(re(),ue=!0),R.add(_,h),h.A=0}}function Xr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wi(y(h.Da,h),uu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wi(y(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Bs(this),lu(this))};function gl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function lu(h){h.g=new ri(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=xt(h.na);Qe(_,"RID","rpc"),Qe(_,"SID",h.M),Qe(_,"AID",h.K),Qe(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(_,"TO",h.ia),Qe(_,"TYPE","xmlhttp"),$r(h,_),h.u&&h.o&&Kr(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Fr(xt(_)),T.u=null,T.R=!0,Ua(T,h)}i.Va=function(){this.C!=null&&(this.C=null,Bs(this),Xr(this),Ct(19))};function Qa(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function cu(h,_){var T=null;if(h.g==_){Qa(h),gl(h),h.g=null;var w=2}else if(Oi(h.h,_))T=_.G,rl(h.h,_),w=1;else return;if(h.I!=0){if(_.o)if(w==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var q=h.D;w=Pa(),zt(w,new Ai(w,T)),Li(h)}else ou(h);else if(q=_.m,q==3||q==0&&_.X>0||!(w==1&&Ya(h,_)||w==2&&Xr(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),q){case 1:Pi(h,5);break;case 4:Pi(h,10);break;case 3:Pi(h,6);break;default:Pi(h,2)}}}function uu(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Pi(h,_){if(h.j.info("Error code "+_),_==2){var T=y(h.bb,h),w=h.Ua;const q=!w;w=new Cn(w||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ht(w,"https"),Fr(w),q?oi(w.toString(),T):hl(w.toString(),T)}else Ct(2);h.I=0,h.l&&h.l.pa(_),hu(h),Ka(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function hu(h){if(h.I=0,h.ja=[],h.l){const _=al(h.h);(_.length!=0||h.i.length!=0)&&(z(h.ja,_),z(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function fu(h,_,T){var w=T instanceof Cn?xt(T):new Cn(T);if(w.g!="")_&&(w.g=_+"."+w.g),ks(w,w.u);else{var q=u.location;w=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const K=new Cn(null);w&&Ht(K,w),_&&(K.g=_),q&&ks(K,q),T&&(K.h=T),w=K}return T=h.G,_=h.wa,T&&_&&Qe(w,T,_),Qe(w,"VER",h.ka),$r(h,w),w}function du(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Je(new ki({ab:T})):new Je(h.ma),_.Fa(h.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}i=mu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function qs(){}qs.prototype.g=function(h,_){return new un(h,_)};function un(h,_){wt.call(this),this.g=new zs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ss(this)}b(un,wt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){ml(this.g)},un.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=js(h),h=T);_.i.push(new It(_.Ya++,h)),_.I==3&&Li(_)},un.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,un.Z.N.call(this)};function pu(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(pu,Yt);function gu(){Un.call(this),this.status=1}b(gu,Un);function ss(h){this.g=h}b(ss,mu),ss.prototype.ra=function(){zt(this.g,"a")},ss.prototype.qa=function(h){zt(this.g,new pu(h))},ss.prototype.pa=function(h){zt(this.g,new gu)},ss.prototype.oa=function(){zt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,CS=function(){return new qs},wS=function(){return Pa()},AS=_t,Rp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,Lh=Br,el.COMPLETE="complete",SS=el,Qc.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",wt.prototype.listen=wt.prototype.J,rc=Qc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,bS=Je}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const RT="@firebase/firestore",IT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new _f("@firebase/firestore");function Co(){return Aa.logLevel}function he(i,...e){if(Aa.logLevel<=ke.DEBUG){const n=e.map(yg);Aa.debug(`Firestore (${Ho}): ${i}`,...n)}}function xs(i,...e){if(Aa.logLevel<=ke.ERROR){const n=e.map(yg);Aa.error(`Firestore (${Ho}): ${i}`,...n)}}function Vo(i,...e){if(Aa.logLevel<=ke.WARN){const n=e.map(yg);Aa.warn(`Firestore (${Ho}): ${i}`,...n)}}function yg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RS(i,r,n)}function RS(i,e,n){let r=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xs(r),new Error(r)}function Ke(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||RS(e,o,r)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class mO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pO{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let c=new As;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new As,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new As)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new IS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class gO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _O{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=vO(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Me(i,e){return i<e?-1:i>e?1:0}function Ip(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return op(o)===op(c)?Me(o,c):op(o)?1:-1}return Me(i.length,e.length)}const EO=55296,TO=57343;function op(i){const e=i.charCodeAt(0);return e>=EO&&e<=TO}function Lo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="__name__";class Hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Hi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Me(e.length,n.length)}static compareSegments(e,n){const r=Hi.isNumericId(e),o=Hi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):Ip(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class nt extends Hi{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const bO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Hi{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return bO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NT}static keyField(){return new en([NT])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(r+=m,o++):(c(),o++)}if(c(),u)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(i,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function SO(i,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function DT(i){if(!ge.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function OT(i){if(ge.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function NS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function wf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function vi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wf(i);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Lc(i,e){if(!NS(i))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const u=i[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=-62135596800,kT=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kT);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jT)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kT}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lc(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Vt("string",rt._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new rt(0,0))}static max(){return new be(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-1;function AO(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Sr(o,ge.empty(),e)}function wO(i){return new Sr(i.readTime,i.key,bc)}class Sr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Sr(be.min(),ge.empty(),bc)}static max(){return new Sr(be.max(),ge.empty(),bc)}}function CO(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==RO)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&n()}),(p=>r(p)))})),u=!0,c===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((o=>o?ie.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,o)=>{const c=e.length,u=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next((v=>{u[y]=v,++m,m===c&&r(u)}),(v=>o(v)))}}))}static doWhile(e,n){return new ie(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function xO(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-1;function Rf(i){return i==null}function sf(i){return i===0&&1/i==-1/0}function NO(i){return typeof i=="number"&&Number.isInteger(i)&&!sf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="";function DO(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=MT(e)),e=OO(i.get(n),e);return MT(e)}function OO(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case DS:n+="";break;default:n+=c}}return n}function MT(i){return i+DS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function kr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function OS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Zt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LT(this.data.getIterator())}getIteratorFrom(e){return new LT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class LT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new qt(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jS("Invalid base64 string: "+c):c}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const jO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const n=jO.exec(i);if(Ke(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(i.seconds),nanos:St(i.nanos)}}function St(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function wr(i){return typeof i=="string"?nn.fromBase64String(i):nn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="server_timestamp",MS="__type__",VS="__previous_value__",LS="__local_write_time__";function Eg(i){return(i?.mapValue?.fields||{})[MS]?.stringValue===kS}function If(i){const e=i.mapValue.fields[VS];return Eg(e)?If(e):e}function Sc(i){const e=Ar(i.mapValue.fields[LS].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,o,c,u,m,p,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const rf="(default)";class Ac{constructor(e,n){this.projectId=e,this.database=n||rf}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="__type__",MO="__max__",Ah={mapValue:{}},US="__vector__",af="value";function Cr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Eg(i)?4:LO(i)?9007199254740991:VO(i)?10:11:Ee(28295,{value:i})}function Wi(i,e){if(i===e)return!0;const n=Cr(i);if(n!==Cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Sc(i).isEqual(Sc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Ar(o.timestampValue),m=Ar(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return wr(o.bytesValue).isEqual(wr(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return St(o.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return St(o.integerValue)===St(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=St(o.doubleValue),m=St(c.doubleValue);return u===m?sf(u)===sf(m):isNaN(u)&&isNaN(m)}return!1})(i,e);case 9:return Lo(i.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(VT(u)!==VT(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!Wi(u[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function wc(i,e){return(i.values||[]).find((n=>Wi(n,e)))!==void 0}function Po(i,e){if(i===e)return 0;const n=Cr(i),r=Cr(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=St(c.integerValue||c.doubleValue),p=St(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return PT(i.timestampValue,e.timestampValue);case 4:return PT(Sc(i),Sc(e));case 5:return Ip(i.stringValue,e.stringValue);case 6:return(function(c,u){const m=wr(c),p=wr(u);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),p=u.split("/");for(let y=0;y<m.length&&y<p.length;y++){const v=Me(m[y],p[y]);if(v!==0)return v}return Me(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=Me(St(c.latitude),St(u.latitude));return m!==0?m:Me(St(c.longitude),St(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return UT(i.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},p=u.fields||{},y=m[af]?.arrayValue,v=p[af]?.arrayValue,b=Me(y?.values?.length||0,v?.values?.length||0);return b!==0?b:UT(y,v)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Ah.mapValue&&u===Ah.mapValue)return 0;if(c===Ah.mapValue)return 1;if(u===Ah.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=u.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const A=Ip(p[b],v[b]);if(A!==0)return A;const x=Po(m[p[b]],y[v[b]]);if(x!==0)return x}return Me(p.length,v.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function PT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=Ar(i),r=Ar(e),o=Me(n.seconds,r.seconds);return o!==0?o:Me(n.nanos,r.nanos)}function UT(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=Po(n[o],r[o]);if(c)return c}return Me(n.length,r.length)}function Uo(i){return xp(i)}function xp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=Ar(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return wr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ge.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=xp(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${xp(n.fields[u])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Ph(i){switch(Cr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=If(i);return e?16+Ph(e):16;case 5:return 2*i.stringValue.length;case 6:return wr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Ph(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return kr(r.fields,((c,u)=>{o+=c.length+Ph(u)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function zT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Np(i){return!!i&&"integerValue"in i}function Tg(i){return!!i&&"arrayValue"in i}function BT(i){return!!i&&"nullValue"in i}function qT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Uh(i){return!!i&&"mapValue"in i}function VO(i){return(i?.mapValue?.fields||{})[PS]?.stringValue===US}function dc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return kr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=dc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(i.arrayValue.values[n]);return e}return{...i}}function LO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===MO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=en.emptyPath(),r={},o=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}u?r[m.lastSegment()]=dc(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){kr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new bn(dc(this.value))}}function zS(i){const e=[];return kr(i.fields,((n,r)=>{const o=new en([n]);if(Uh(r)){const c=zS(r.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,o,c,u,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new on(e,0,be.min(),be.min(),be.min(),bn.empty(),0)}static newFoundDocument(e,n,r,o){return new on(e,1,n,be.min(),r,o,0)}static newNoDocument(e,n){return new on(e,2,n,be.min(),be.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,be.min(),be.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.position=e,this.inclusive=n}}function FT(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(u.referenceValue),n.key):r=Po(u,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function HT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Wi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n="asc"){this.field=e,this.dir=n}}function PO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{}class Mt extends BS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zO(e,n,r):n==="array-contains"?new FO(e,r):n==="in"?new HO(e,r):n==="not-in"?new GO(e,r):n==="array-contains-any"?new KO(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BO(e,r):new qO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&Cr(this.value)===Cr(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends BS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ei(e,n)}matches(e){return qS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qS(i){return i.op==="and"}function FS(i){return UO(i)&&qS(i)}function UO(i){for(const e of i.filters)if(e instanceof Ei)return!1;return!0}function Dp(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+Uo(i.value);if(FS(i))return i.filters.map((e=>Dp(e))).join(",");{const e=i.filters.map((n=>Dp(n))).join(",");return`${i.op}(${e})`}}function HS(i,e){return i instanceof Mt?(function(r,o){return o instanceof Mt&&r.op===o.op&&r.field.isEqual(o.field)&&Wi(r.value,o.value)})(i,e):i instanceof Ei?(function(r,o){return o instanceof Ei&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,u,m)=>c&&HS(u,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function GS(i){return i instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`})(i):i instanceof Ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(GS).join(" ,")+"}"})(i):"Filter"}class zO extends Mt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class BO extends Mt{constructor(e,n){super(e,"in",n),this.keys=KS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class qO extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=KS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function KS(i,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class FO extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tg(n)&&wc(n.arrayValue,this.value)}}class HO extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class GO extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wc(this.value.arrayValue,n)}}class KO extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>wc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n=null,r=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function GT(i,e=null,n=[],r=[],o=null,c=null,u=null){return new YO(i,e,n,r,o,c,u)}function bg(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Dp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Uo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Uo(r))).join(",")),e.Te=n}return e.Te}function Sg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!PO(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!HS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!HT(i.startAt,e.startAt)&&HT(i.endAt,e.endAt)}function Op(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n=null,r=[],o=[],c=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QO(i,e,n,r,o,c,u,m){return new Pc(i,e,n,r,o,c,u,m)}function Ag(i){return new Pc(i)}function KT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function YS(i){return i.collectionGroup!==null}function mc(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new qt(en.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lf(c,r))})),n.has(en.keyField().canonicalString())||e.Ie.push(new lf(en.keyField(),r))}return e.Ie}function Qi(i){const e=Ae(i);return e.Ee||(e.Ee=$O(e,mc(i))),e.Ee}function $O(i,e){if(i.limitType==="F")return GT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new lf(o.field,c)}));const n=i.endAt?new of(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new of(i.startAt.position,i.startAt.inclusive):null;return GT(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function jp(i,e){const n=i.filters.concat([e]);return new Pc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function kp(i,e,n){return new Pc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function xf(i,e){return Sg(Qi(i),Qi(e))&&i.limitType===e.limitType}function QS(i){return`${bg(Qi(i))}|lt:${i.limitType}`}function Ro(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>GS(o))).join(", ")}]`),Rf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Uo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Uo(o))).join(",")),`Target(${r})`})(Qi(i))}; limitType=${i.limitType})`}function Nf(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of mc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(u,m,p){const y=FT(u,m,p);return u.inclusive?y<=0:y<0})(r.startAt,mc(r),o)||r.endAt&&!(function(u,m,p){const y=FT(u,m,p);return u.inclusive?y>=0:y>0})(r.endAt,mc(r),o))})(i,e)}function XO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function $S(i){return(e,n)=>{let r=!1;for(const o of mc(i)){const c=JO(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function JO(i,e,n){const r=i.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,u,m){const p=u.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Po(p,y):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){kr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return OS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new dt(ge.comparator);function Ns(){return WO}const XS=new dt(ge.comparator);function ac(...i){let e=XS;for(const n of i)e=e.insert(n.key,n);return e}function JS(i){let e=XS;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ga(){return pc()}function WS(){return pc()}function pc(){return new Da((i=>i.toString()),((i,e)=>i.isEqual(e)))}const ZO=new dt(ge.comparator),ej=new qt(ge.comparator);function Ve(...i){let e=ej;for(const n of i)e=e.add(n);return e}const tj=new qt(Me);function nj(){return tj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function ZS(i){return{integerValue:""+i}}function ij(i,e){return NO(e)?ZS(e):wg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this._=void 0}}function sj(i,e,n){return i instanceof Cc?(function(o,c){const u={fields:{[MS]:{stringValue:kS},[LS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Eg(c)&&(c=If(c)),c&&(u.fields[VS]=c),{mapValue:u}})(n,e):i instanceof Rc?tA(i,e):i instanceof Ic?nA(i,e):(function(o,c){const u=eA(o,c),m=YT(u)+YT(o.Ae);return Np(u)&&Np(o.Ae)?ZS(m):wg(o.serializer,m)})(i,e)}function rj(i,e,n){return i instanceof Rc?tA(i,e):i instanceof Ic?nA(i,e):n}function eA(i,e){return i instanceof cf?(function(r){return Np(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Cc extends Df{}class Rc extends Df{constructor(e){super(),this.elements=e}}function tA(i,e){const n=iA(e);for(const r of i.elements)n.some((o=>Wi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Ic extends Df{constructor(e){super(),this.elements=e}}function nA(i,e){let n=iA(e);for(const r of i.elements)n=n.filter((o=>!Wi(o,r)));return{arrayValue:{values:n}}}class cf extends Df{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function YT(i){return St(i.integerValue||i.doubleValue)}function iA(i){return Tg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n){this.field=e,this.transform=n}}function oj(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof Rc&&o instanceof Rc||r instanceof Ic&&o instanceof Ic?Lo(r.elements,o.elements,Wi):r instanceof cf&&o instanceof cf?Wi(r.Ae,o.Ae):r instanceof Cc&&o instanceof Cc})(i.transform,e.transform)}class lj{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Of{}function sA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Cg(i.key,Zn.none()):new Uc(i.key,i.data,Zn.none());{const n=i.data,r=bn.empty();let o=new qt(en.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?r.delete(c):r.set(c,u),o=o.add(c)}return new Mr(i.key,r,new Mn(o.toArray()),Zn.none())}}function cj(i,e,n){i instanceof Uc?(function(o,c,u){const m=o.value.clone(),p=$T(o.fieldTransforms,c,u.transformResults);m.setAll(p),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Mr?(function(o,c,u){if(!zh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=$T(o.fieldTransforms,c,u.transformResults),p=c.data;p.setAll(rA(o)),p.setAll(m),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function gc(i,e,n,r){return i instanceof Uc?(function(c,u,m,p){if(!zh(c.precondition,u))return m;const y=c.value.clone(),v=XT(c.fieldTransforms,p,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(i,e,n,r):i instanceof Mr?(function(c,u,m,p){if(!zh(c.precondition,u))return m;const y=XT(c.fieldTransforms,p,u),v=u.data;return v.setAll(rA(c)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(i,e,n,r):(function(c,u,m){return zh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(i,e,n)}function uj(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=eA(r.transform,o||null);c!=null&&(n===null&&(n=bn.empty()),n.set(r.field,c))}return n||null}function QT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Lo(r,o,((c,u)=>oj(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Uc extends Of{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mr extends Of{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rA(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function $T(i,e,n){const r=new Map;Ke(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],u=c.transform,m=e.data.field(c.field);r.set(c.field,rj(u,m,n[o]))}return r}function XT(i,e,n){const r=new Map;for(const o of i){const c=o.transform,u=n.data.field(o.field);r.set(o.field,sj(c,u,e))}return r}class Cg extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hj extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&cj(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WS();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=n.has(o.key)?null:m;const p=sA(u,m);p!==null&&r.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,((n,r)=>QT(n,r)))&&Lo(this.baseMutations,e.baseMutations,((n,r)=>QT(n,r)))}}class Rg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return ZO})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,r[u].version);return new Rg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Ue;function pj(i){switch(i){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function aA(i){if(i===void 0)return xs("GRPC error has no .code"),te.UNKNOWN;switch(i){case kt.OK:return te.OK;case kt.CANCELLED:return te.CANCELLED;case kt.UNKNOWN:return te.UNKNOWN;case kt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case kt.INTERNAL:return te.INTERNAL;case kt.UNAVAILABLE:return te.UNAVAILABLE;case kt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case kt.NOT_FOUND:return te.NOT_FOUND;case kt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case kt.ABORTED:return te.ABORTED;case kt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case kt.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:i})}}(Ue=kt||(kt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=new Er([4294967295,4294967295],0);function JT(i){const e=gj().encode(i),n=new TS;return n.update(e),new Uint8Array(n.digest())}function WT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Er([n,r],0),new Er([o,c],0)]}class Ig{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(r<0)throw new oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Er.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Er.fromNumber(r)));return o.compare(yj)===1&&(o=new Er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JT(e),[r,o]=WT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);if(!this.we(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Ig(c,o,n);return r.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=JT(e),[r,o]=WT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jf(be.min(),o,new dt(Me),Ns(),Ve())}}class zc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zc(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class oA{constructor(e,n){this.targetId=e,this.Ce=n}}class lA{constructor(e,n,r=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class ZT{constructor(){this.ve=0,this.Fe=eb(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),r=Ve();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ee(38017,{changeType:c})}})),new zc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=eb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _j{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ns(),this.Je=wh(),this.He=wh(),this.Ye=new dt(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Op(c))if(r===0){const u=new ge(c.path);this.et(n,u,on.newNoDocument(u,be.min()))}else Ke(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const m=this.ut(e),p=m?this.ct(m,e,u):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let u,m;try{u=wr(r).toUint8Array()}catch(p){if(p instanceof jS)return Vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ig(u,o,c)}catch(p){return Vo(p instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&Op(m.target)){const p=new ge(m.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,on.newNoDocument(p,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let r=Ve();this.He.forEach(((c,u)=>{let m=!0;u.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new jf(e,n,this.Ye,this.je,r);return this.je=Ns(),this.Je=wh(),this.He=wh(),this.Ye=new dt(Me),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ZT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ZT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wh(){return new dt(ge.comparator)}function eb(){return new dt(ge.comparator)}const vj={asc:"ASCENDING",desc:"DESCENDING"},Ej={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tj={and:"AND",or:"OR"};class bj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mp(i,e){return i.useProto3Json||Rf(e)?e:{value:e}}function uf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Sj(i,e){return uf(i,e.toTimestamp())}function $i(i){return Ke(!!i,49232),be.fromTimestamp((function(n){const r=Ar(n);return new rt(r.seconds,r.nanos)})(i))}function xg(i,e){return Vp(i,e).canonicalString()}function Vp(i,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function uA(i){const e=nt.fromString(i);return Ke(pA(e),10190,{key:e.toString()}),e}function Lp(i,e){return xg(i.databaseId,e.path)}function lp(i,e){const n=uA(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(fA(n))}function hA(i,e){return xg(i.databaseId,e)}function Aj(i){const e=uA(i);return e.length===4?nt.emptyPath():fA(e)}function Pp(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function fA(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function tb(i,e,n){return{name:Lp(i,e),fields:n.value.mapValue.fields}}function wj(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,v){return y.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),nn.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),nn.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(y){const v=y.code===void 0?te.UNKNOWN:aA(y.code);return new ce(v,y.message||"")})(u);n=new lA(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=lp(i,r.document.name),c=$i(r.document.updateTime),u=r.document.createTime?$i(r.document.createTime):be.min(),m=new bn({mapValue:{fields:r.document.fields}}),p=on.newFoundDocument(o,c,u,m),y=r.targetIds||[],v=r.removedTargetIds||[];n=new Bh(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=lp(i,r.document),c=r.readTime?$i(r.readTime):be.min(),u=on.newNoDocument(o,c),m=r.removedTargetIds||[];n=new Bh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=lp(i,r.document),c=r.removedTargetIds||[];n=new Bh([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,u=new mj(o,c),m=r.targetId;n=new oA(m,u)}}return n}function Cj(i,e){let n;if(e instanceof Uc)n={update:tb(i,e.key,e.value)};else if(e instanceof Cg)n={delete:Lp(i,e.key)};else if(e instanceof Mr)n={update:tb(i,e.key,e.data),updateMask:Mj(e.fieldMask)};else{if(!(e instanceof hj))return Ee(16599,{Vt:e.type});n={verify:Lp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,u){const m=u.transform;if(m instanceof Cc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Rc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ic)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof cf)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Sj(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(i,e.precondition)),n}function Rj(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((n=>(function(o,c){let u=o.updateTime?$i(o.updateTime):$i(c);return u.isEqual(be.min())&&(u=$i(c)),new lj(u,o.transformResults||[])})(n,e)))):[]}function Ij(i,e){return{documents:[hA(i,e.path)]}}function xj(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hA(i,o);const c=(function(y){if(y.length!==0)return mA(Ei.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((v=>(function(A){return{field:Io(A.field),direction:Oj(A.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Mp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Nj(i){let e=Aj(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ke(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];n.where&&(c=(function(b){const A=dA(b);return A instanceof Ei&&FS(A)?A.getFilters():[A]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((A=>(function(z){return new lf(xo(z.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,Rf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(b){const A=!!b.before,x=b.values||[];return new of(x,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const A=!b.before,x=b.values||[];return new of(x,A)})(n.endAt)),QO(e,o,u,c,m,"F",p,y)}function Dj(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xo(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xo(n.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=xo(n.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Mt.create(xo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ei.create(n.compositeFilter.filters.map((r=>dA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function Oj(i){return vj[i]}function jj(i){return Ej[i]}function kj(i){return Tj[i]}function Io(i){return{fieldPath:i.canonicalString()}}function xo(i){return en.fromServerFormat(i.fieldPath)}function mA(i){return i instanceof Mt?(function(n){if(n.op==="=="){if(qT(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(BT(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qT(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(BT(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:jj(n.op),value:n.value}}})(i):i instanceof Ei?(function(n){const r=n.getFilters().map((o=>mA(o)));return r.length===1?r[0]:{compositeFilter:{op:kj(n.op),filters:r}}})(i):Ee(54877,{filter:i})}function Mj(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function pA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,o,c=be.min(),u=be.min(),m=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.yt=e}}function Lj(i){const e=Nj({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this.Cn=new Uj}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Sr.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class Uj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new qt(nt.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gA=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(gA,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="LruGarbageCollector",zj=1048576;function sb([i,e],[n,r]){const o=Me(i,n);return o===0?Me(e,r):o}class Bj{constructor(e){this.Ir=e,this.buffer=new qt(sb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(ib,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?he(ib,"Ignoring IndexedDB error during garbage collection: ",n):await Go(n)}await this.Vr(3e5)}))}}class Fj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Cf.ce);const r=new Bj(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(nb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,c,u,m,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(e,r,n)))).next((b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),Co()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function Hj(i,e){return new Fj(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.changes=new Da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&gc(r.mutation,o,Mn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ve()){const o=ga();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let u=ac();return c.forEach(((m,p)=>{u=u.insert(m,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=ga();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ve())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,r,o){let c=Ns();const u=pc(),m=(function(){return pc()})();return n.forEach(((p,y)=>{const v=r.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Mr)?c=c.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),gc(v.mutation,y,v.mutation.getFieldMask(),rt.now())):u.set(y.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,v)=>u.set(y,v))),n.forEach(((y,v)=>m.set(y,new Kj(v,u.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=pc();let o=new dt(((u,m)=>u-m)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let v=r.get(p)||Mn.empty();v=m.applyToLocalView(y,v),r.set(p,v);const b=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,v=p.value,b=WS();v.forEach((A=>{if(!c.has(A)){const x=sA(n.get(A),r.get(A));x!==null&&b.set(A,x),c=c.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ie.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):ie.resolve(ga());let m=bc,p=c;return u.next((y=>ie.forEach(y,((v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Ve()))).next((v=>({batchId:m,changes:JS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let o=ac();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let u=ac();return this.indexManager.getCollectionParents(e,c).next((m=>ie.forEach(m,(p=>{const y=(function(b,A){return new Pc(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((v=>{v.forEach(((b,A)=>{u=u.insert(b,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((u=>{c.forEach(((p,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,on.newInvalidDocument(v)))}));let m=ac();return u.forEach(((p,y)=>{const v=c.get(p);v!==void 0&&gc(v.mutation,y,Mn.empty(),rt.now()),Nf(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:$i(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Lj(o.bundledQuery),readTime:$i(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.overlays=new dt(ge.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ga();return ie.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.St(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const o=ga(),c=n.length+1,u=new ge(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new dt(((y,v)=>y-v));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let v=c.get(y.largestBatchId);v===null&&(v=ga(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const m=ga(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,v)=>m.set(y,v))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new dj(n,r));let c=this.qr.get(n);c===void 0&&(c=Ve(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.Qr=new qt(Kt.$r),this.Ur=new qt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ge(new nt([])),r=new Kt(n,e),o=new Kt(n,e+1),c=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new nt([])),r=new Kt(n,e),o=new Kt(n,e+1);let c=Ve();return this.Ur.forEachInRange([r,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new Kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Kt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new fj(c,n,r,o);this.mutationQueue.push(u);for(const m of o)this.Zr=this.Zr.add(new Kt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?vg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),o=new Kt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(u=>{const m=this.Xr(u.Yr);c.push(m)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(Me);return n.forEach((o=>{const c=new Kt(o,0),u=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(m=>{r=r.add(m.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const u=new Kt(new ge(c),0);let m=new qt(Me);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),u),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(o=>{const c=new Kt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kt(n,0),o=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.ri=e,this.docs=(function(){return new dt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Ns();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():on.newInvalidDocument(o))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Ns();const u=n.path,m=new ge(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||CO(wO(v),r)<=0||(o.has(v.key)||Nf(n,v))&&(c=c.insert(v.key,v.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Zj(this)}getSize(e){return ie.resolve(this.size)}}class Zj extends Gj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.persistence=e,this.si=new Da((n=>bg(n)),Sg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Ng,this.targetCount=0,this.ai=zo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Cf(0),this.li=!1,this.li=!0,this.hi=new Xj,this.referenceDelegate=e(this),this.Pi=new ek(this),this.indexManager=new Pj,this.remoteDocumentCache=(function(o){return new Wj(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Vj(n),this.Ii=new Qj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $j,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Jj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const o=new tk(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class tk extends IO{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.Ri=new Ng,this.Vi=null}static mi(e){return new Dg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const o=ge.fromPath(r);return this.gi(e,o).next((c=>{c||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hf{constructor(e,n){this.persistence=e,this.pi=new Da((r=>DO(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Hj(this,n)}static mi(e,n){return new hf(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?ie.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((m=>{m||(r++,c.removeEntry(u,be.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ve(),o=Ve();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Og(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mI()?8:xO(ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,o,r).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new nk;return this.Ss(e,n,u).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,u,m.size)}))})).next((()=>c.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(Co()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Co()<=ke.DEBUG&&he("QueryEngine","Query:",Ro(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Co()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ie.resolve())}ys(e,n){if(KT(n))return ie.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=kp(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const u=Ve(...c);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,u,p.readTime)?this.ys(e,kp(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,r,o){return KT(n)||o.isEqual(be.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,r,o)?ie.resolve(null):(Co()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(n)),this.vs(e,u,n,AO(o,bc)).next((m=>m)))}))}Ds(e,n){let r=new qt($S(e));return n.forEach(((o,c)=>{Nf(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,r){return Co()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.ps.getDocumentsMatchingQuery(e,n,Sr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="LocalStore",sk=3e8;class rk{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(Me),this.xs=new Da((c=>bg(c)),Sg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ak(i,e,n,r){return new rk(i,e,n,r)}async function _A(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const u=[],m=[];let p=Ve();for(const y of o){u.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of c){m.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:m})))}))}))}function ok(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,v){const b=y.batch,A=b.keys();let x=ie.resolve();return A.forEach((z=>{x=x.next((()=>v.getEntry(p,z))).next((P=>{const M=y.docVersions.get(z);Ke(M!==null,48541),P.version.compareTo(M)<0&&(b.applyToRemoteDocument(P,y),P.isValidDocument()&&(P.setReadTime(y.commitVersion),v.addEntry(P)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function vA(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function lk(i,e){const n=Ae(i),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,b)=>{const A=o.get(b);if(!A)return;m.push(n.Pi.removeMatchingKeys(c,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,v.addedDocuments,b))));let x=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(nn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,r)),o=o.insert(b,x),(function(P,M,Q){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=sk?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(A,x,v)&&m.push(n.Pi.updateTargetData(c,x))}));let p=Ns(),y=Ve();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,v))})),m.push(ck(c,u,e.documentUpdates).next((v=>{p=v.ks,y=v.qs}))),!r.isEqual(be.min())){const v=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(v)}return ie.waitFor(m).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function ck(i,e,n){let r=Ve(),o=Ve();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let u=Ns();return n.forEach(((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):he(jg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function uk(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=vg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hk(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((c=>c?(o=c,ie.resolve(o)):n.Pi.allocateTargetId(r).next((u=>(o=new yr(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Up(i,e,n){const r=Ae(i),o=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Ko(u))throw u;he(jg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function rb(i,e,n){const r=Ae(i);let o=be.min(),c=Ve();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,y,v){const b=Ae(p),A=b.xs.get(v);return A!==void 0?ie.resolve(b.Ms.get(A)):b.Pi.getTargetData(y,v)})(r,u,Qi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,m.targetId).next((p=>{c=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?o:be.min(),n?c:Ve()))).next((m=>(fk(r,XO(e),m),{documents:m,Qs:c})))))}function fk(i,e,n){let r=i.Os.get(e)||be.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class ab{constructor(){this.activeTargetIds=nj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dk{constructor(){this.Mo=new ab,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ab,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="ConnectivityMonitor";class lb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(ob,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(ob,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function zp(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="RestConnection",pk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===rf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,c){const u=zp(),m=this.zo(e,n.toUriEncodedString());he(cp,`Sending RPC '${e}' ${u}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:y}=new URL(m),v=Nr(y);return this.Jo(e,m,p,r,v).then((b=>(he(cp,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Vo(cp,`RPC '${e}' ${u} failed with error: `,b,"url: ",m,"request:",r),b}))}Ho(e,n,r,o,c,u){return this.Go(e,n,r,o,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const r=pk[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class _k extends gk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,c){const u=zp();return new Promise(((m,p)=>{const y=new bS;y.setWithCredentials(!0),y.listenOnce(SS.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Lh.NO_ERROR:const b=y.getResponseJson();he(rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),m(b);break;case Lh.TIMEOUT:he(rn,`RPC '${e}' ${u} timed out`),p(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const A=y.getStatus();if(he(rn,`RPC '${e}' ${u} failed with status:`,A,"response text:",y.getResponseText()),A>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const z=x?.error;if(z&&z.status&&z.message){const P=(function(Q){const $=Q.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf($)>=0?$:te.UNKNOWN})(z.status);p(new ce(P,z.message))}else p(new ce(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(rn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);he(rn,`RPC '${e}' ${u} sending request:`,o),y.send(n,"POST",v,r,15)}))}T_(e,n,r){const o=zp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=CS(),m=wS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const v=c.join("");he(rn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=u.createWebChannel(v,p);this.I_(b);let A=!1,x=!1;const z=new yk({Yo:M=>{x?he(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(A||(he(rn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),he(rn,`RPC '${e}' stream ${o} sending:`,M),b.send(M))},Zo:()=>b.close()}),P=(M,Q,$)=>{M.listen(Q,(Z=>{try{$(Z)}catch(se){setTimeout((()=>{throw se}),0)}}))};return P(b,rc.EventType.OPEN,(()=>{x||(he(rn,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),P(b,rc.EventType.CLOSE,(()=>{x||(x=!0,he(rn,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(b))})),P(b,rc.EventType.ERROR,(M=>{x||(x=!0,Vo(rn,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),z.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),P(b,rc.EventType.MESSAGE,(M=>{if(!x){const Q=M.data[0];Ke(!!Q,16349);const $=Q,Z=$?.error||$[0]?.error;if(Z){he(rn,`RPC '${e}' stream ${o} received error:`,Z);const se=Z.status;let re=(function(C){const I=kt[C];if(I!==void 0)return aA(I)})(se),ue=Z.message;re===void 0&&(re=te.INTERNAL,ue="Unknown error status: "+se+" with message "+Z.message),x=!0,z.a_(new ce(re,ue)),b.close()}else he(rn,`RPC '${e}' stream ${o} received:`,Q),z.u_(Q)}})),P(m,AS.STAT_EVENT,(M=>{M.stat===Rp.PROXY?he(rn,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Rp.NOPROXY&&he(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(i){return new bj(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="PersistentStream";class TA{constructor(e,n,r,o,c,u,m,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(cb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vk extends TA{constructor(e,n,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wj(this.serializer,e),r=(function(c){if(!("targetChange"in c))return be.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?$i(u.readTime):be.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Pp(this.serializer),n.addTarget=(function(c,u){let m;const p=u.target;if(m=Op(p)?{documents:Ij(c,p)}:{query:xj(c,p).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=cA(c,u.resumeToken);const y=Mp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}else if(u.snapshotVersion.compareTo(be.min())>0){m.readTime=uf(c,u.snapshotVersion.toTimestamp());const y=Mp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=Dj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Pp(this.serializer),n.removeTarget=e,this.q_(n)}}class Ek extends TA{constructor(e,n,r,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Rj(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Pp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Cj(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{}class bk extends Tk{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Vp(n,r),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(te.UNKNOWN,c.toString())}))}Ho(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Vp(n,r),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Sk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class Ak{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Oa(this)&&(he(wa,"Restarting streams for network reachability change."),await(async function(p){const y=Ae(p);y.Ea.add(4),await Bc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Mf(y)})(this))}))})),this.Ra=new Sk(r,o)}}async function Mf(i){if(Oa(i))for(const e of i.da)await e(!0)}async function Bc(i){for(const e of i.da)await e(!1)}function bA(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Lg(n)?Vg(n):Yo(n).O_()&&Mg(n,e))}function kg(i,e){const n=Ae(i),r=Yo(n);n.Ia.delete(e),r.O_()&&SA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Oa(n)&&n.Ra.set("Unknown"))}function Mg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(i).Y_(e)}function SA(i,e){i.Va.Ue(e),Yo(i).Z_(e)}function Vg(i){i.Va=new _j({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Yo(i).start(),i.Ra.ua()}function Lg(i){return Oa(i)&&!Yo(i).x_()&&i.Ia.size>0}function Oa(i){return Ae(i).Ea.size===0}function AA(i){i.Va=void 0}async function wk(i){i.Ra.set("Online")}async function Ck(i){i.Ia.forEach(((e,n)=>{Mg(i,e)}))}async function Rk(i,e){AA(i),Lg(i)?(i.Ra.ha(e),Vg(i)):i.Ra.set("Unknown")}async function Ik(i,e,n){if(i.Ra.set("Online"),e instanceof lA&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(r){he(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ff(i,r)}else if(e instanceof Bh?i.Va.Ze(e):e instanceof oA?i.Va.st(e):i.Va.tt(e),!n.isEqual(be.min()))try{const r=await vA(i.localStore);n.compareTo(r)>=0&&await(function(c,u){const m=c.Va.Tt(u);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.Ia.get(y);v&&c.Ia.set(y,v.withResumeToken(p.resumeToken,u))}})),m.targetMismatches.forEach(((p,y)=>{const v=c.Ia.get(p);if(!v)return;c.Ia.set(p,v.withResumeToken(nn.EMPTY_BYTE_STRING,v.snapshotVersion)),SA(c,p);const b=new yr(v.target,p,y,v.sequenceNumber);Mg(c,b)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){he(wa,"Failed to raise snapshot:",r),await ff(i,r)}}async function ff(i,e,n){if(!Ko(e))throw e;i.Ea.add(1),await Bc(i),i.Ra.set("Offline"),n||(n=()=>vA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(wa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Mf(i)}))}function wA(i,e){return e().catch((n=>ff(i,n,e)))}async function Vf(i){const e=Ae(i),n=Rr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vg;for(;xk(e);)try{const o=await uk(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,Nk(e,o)}catch(o){await ff(e,o)}CA(e)&&RA(e)}function xk(i){return Oa(i)&&i.Ta.length<10}function Nk(i,e){i.Ta.push(e);const n=Rr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function CA(i){return Oa(i)&&!Rr(i).x_()&&i.Ta.length>0}function RA(i){Rr(i).start()}async function Dk(i){Rr(i).ra()}async function Ok(i){const e=Rr(i);for(const n of i.Ta)e.ea(n.mutations)}async function jk(i,e,n){const r=i.Ta.shift(),o=Rg.from(r,e,n);await wA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Vf(i)}async function kk(i,e){e&&Rr(i).X_&&await(async function(r,o){if((function(u){return pj(u)&&u!==te.ABORTED})(o.code)){const c=r.Ta.shift();Rr(r).B_(),await wA(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Vf(r)}})(i,e),CA(i)&&RA(i)}async function ub(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),he(wa,"RemoteStore received new credentials");const r=Oa(n);n.Ea.add(3),await Bc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mf(n)}async function Mk(i,e){const n=Ae(i);e?(n.Ea.delete(2),await Mf(n)):e||(n.Ea.add(2),await Bc(n),n.Ra.set("Unknown"))}function Yo(i){return i.ma||(i.ma=(function(n,r,o){const c=Ae(n);return c.sa(),new vk(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:wk.bind(null,i),t_:Ck.bind(null,i),r_:Rk.bind(null,i),H_:Ik.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Lg(i)?Vg(i):i.Ra.set("Unknown")):(await i.ma.stop(),AA(i))}))),i.ma}function Rr(i){return i.fa||(i.fa=(function(n,r,o){const c=Ae(n);return c.sa(),new Ek(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Dk.bind(null,i),r_:kk.bind(null,i),ta:Ok.bind(null,i),na:jk.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Vf(i)):(await i.fa.stop(),i.Ta.length>0&&(he(wa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const u=Date.now()+r,m=new Pg(e,n,u,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(i,e){if(xs("AsyncQueue",`${e}: ${i}`),Ko(i))return new ce(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=ac(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.ga=new dt(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Bo{constructor(e,n,r,o,c,u,m,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new Bo(e,n,ko.emptySet(n),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Lk{constructor(){this.queries=fb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ae(n),c=o.queries;o.queries=fb(),c.forEach(((u,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function fb(){return new Da((i=>QS(i)),xf)}async function IA(i,e){const n=Ae(i);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new Vk,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const m=Ug(u,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&zg(n)}async function xA(i,e){const n=Ae(i),r=e.query;let o=3;const c=n.queries.get(r);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Pk(i,e){const n=Ae(i);let r=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const m of u.Sa)m.Fa(o)&&(r=!0);u.wa=o}}r&&zg(n)}function Uk(i,e,n){const r=Ae(i),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);r.queries.delete(e)}function zg(i){i.Ca.forEach((e=>{e.next()}))}var Bp,db;(db=Bp||(Bp={})).Ma="default",db.Cache="cache";class NA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.key=e}}class OA{constructor(e){this.key=e}}class zk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=$S(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new hb,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const A=o.get(v),x=Nf(this.query,b)?b:null,z=!!A&&this.mutatedKeys.has(A.key),P=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let M=!1;A&&x?A.data.isEqual(x.data)?z!==P&&(r.track({type:3,doc:x}),M=!0):this.su(A,x)||(r.track({type:2,doc:x}),M=!0,(p&&this.eu(x,p)>0||y&&this.eu(x,y)<0)&&(m=!0)):!A&&x?(r.track({type:0,doc:x}),M=!0):A&&!x&&(r.track({type:1,doc:A}),M=!0,(p||y)&&(m=!0)),M&&(x?(u=u.add(x),c=P?c.add(v):c.delete(v)):(u=u.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(x,z){const P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:M})}};return P(x)-P(z)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,u.length!==0||y?{snapshot:new Bo(this.query,e.tu,c,u,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new OA(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new DA(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bg="SyncEngine";class Bk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qk{constructor(e){this.key=e,this.hu=!1}}class Fk{constructor(e,n,r,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Da((m=>QS(m)),xf),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ge.comparator),this.Au=new Map,this.Ru=new Ng,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Hk(i,e,n=!0){const r=PA(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await jA(r,e,n,!0),o}async function Gk(i,e){const n=PA(i);await jA(n,e,!0,!1)}async function jA(i,e,n,r){const o=await hk(i.localStore,Qi(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await Kk(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&n&&bA(i.remoteStore,o),m}async function Kk(i,e,n,r,o){i.pu=(b,A,x)=>(async function(P,M,Q,$){let Z=M.view.ru(Q);Z.Cs&&(Z=await rb(P.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,Z))));const se=$&&$.targetChanges.get(M.targetId),re=$&&$.targetMismatches.get(M.targetId)!=null,ue=M.view.applyChanges(Z,P.isPrimaryClient,se,re);return pb(P,M.targetId,ue.au),ue.snapshot})(i,b,A,x);const c=await rb(i.localStore,e,!0),u=new zk(e,c.Qs),m=u.ru(c.documents),p=zc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),y=u.applyChanges(m,i.isPrimaryClient,p);pb(i,n,y.au);const v=new Bk(e,n,u);return i.Tu.set(e,v),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function Yk(i,e,n){const r=Ae(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((u=>!xf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Up(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&kg(r.remoteStore,o.targetId),qp(r,o.targetId)})).catch(Go)):(qp(r,o.targetId),await Up(r.localStore,o.targetId,!0))}async function Qk(i,e){const n=Ae(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kg(n.remoteStore,r.targetId))}async function $k(i,e,n){const r=nM(i);try{const o=await(function(u,m){const p=Ae(u),y=rt.now(),v=m.reduce(((x,z)=>x.add(z.key)),Ve());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let z=Ns(),P=Ve();return p.Ns.getEntries(x,v).next((M=>{z=M,z.forEach(((Q,$)=>{$.isValidDocument()||(P=P.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,z))).next((M=>{b=M;const Q=[];for(const $ of m){const Z=uj($,b.get($.key).overlayedDocument);Z!=null&&Q.push(new Mr($.key,Z,zS(Z.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,Q,m)})).next((M=>{A=M;const Q=M.applyToLocalDocumentSet(b,P);return p.documentOverlayCache.saveOverlays(x,M.batchId,Q)}))})).then((()=>({batchId:A.batchId,changes:JS(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,m,p){let y=u.Vu[u.currentUser.toKey()];y||(y=new dt(Me)),y=y.insert(m,p),u.Vu[u.currentUser.toKey()]=y})(r,o.batchId,n),await qc(r,o.changes),await Vf(r.remoteStore)}catch(o){const c=Ug(o,"Failed to persist write");n.reject(c)}}async function kA(i,e){const n=Ae(i);try{const r=await lk(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ke(u.hu,14607):o.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await qc(n,r,e)}catch(r){await Go(r)}}function mb(i,e,n){const r=Ae(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const p=Ae(u);p.onlineState=m;let y=!1;p.queries.forEach(((v,b)=>{for(const A of b.Sa)A.va(m)&&(y=!0)})),y&&zg(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xk(i,e,n){const r=Ae(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let u=new dt(ge.comparator);u=u.insert(c,on.newNoDocument(c,be.min()));const m=Ve().add(c),p=new jf(be.min(),new Map,new dt(Me),u,m);await kA(r,p),r.du=r.du.remove(c),r.Au.delete(e),qg(r)}else await Up(r.localStore,e,!1).then((()=>qp(r,e,n))).catch(Go)}async function Jk(i,e){const n=Ae(i),r=e.batch.batchId;try{const o=await ok(n.localStore,e);VA(n,r,null),MA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qc(n,o)}catch(o){await Go(o)}}async function Wk(i,e,n){const r=Ae(i);try{const o=await(function(u,m){const p=Ae(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return p.mutationQueue.lookupMutationBatch(y,m).next((b=>(Ke(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>p.localDocuments.getDocuments(y,v)))}))})(r.localStore,e);VA(r,e,n),MA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qc(r,o)}catch(o){await Go(o)}}function MA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function VA(i,e,n){const r=Ae(i);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function qp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||LA(i,r)}))}function LA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(kg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),qg(i))}function pb(i,e,n){for(const r of n)r instanceof DA?(i.Ru.addReference(r.key,e),Zk(i,r)):r instanceof OA?(he(Bg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||LA(i,r.key)):Ee(19791,{wu:r})}function Zk(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(he(Bg,"New document in limbo: "+n),i.Eu.add(r),qg(i))}function qg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ge(nt.fromString(e)),r=i.fu.next();i.Au.set(r,new qk(n)),i.du=i.du.insert(n,r),bA(i.remoteStore,new yr(Qi(Ag(n.path)),r,"TargetPurposeLimboResolution",Cf.ce))}}async function qc(i,e,n){const r=Ae(i),o=[],c=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{u.push(r.pu(p,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const v=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(y){o.push(y);const v=Og.As(p.targetId,y);c.push(v)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(p,y){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(y,(A=>ie.forEach(A.Es,(x=>v.persistence.referenceDelegate.addReference(b,A.targetId,x))).next((()=>ie.forEach(A.ds,(x=>v.persistence.referenceDelegate.removeReference(b,A.targetId,x)))))))))}catch(b){if(!Ko(b))throw b;he(jg,"Failed to update sequence numbers: "+b)}for(const b of y){const A=b.targetId;if(!b.fromCache){const x=v.Ms.get(A),z=x.snapshotVersion,P=x.withLastLimboFreeSnapshotVersion(z);v.Ms=v.Ms.insert(A,P)}}})(r.localStore,c))}async function eM(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){he(Bg,"User change. New user:",e.toKey());const r=await _A(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(te.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qc(n,r.Ls)}}function tM(i,e){const n=Ae(i),r=n.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let o=Ve();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const m=n.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function PA(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xk.bind(null,e),e.Pu.H_=Pk.bind(null,e.eventManager),e.Pu.yu=Uk.bind(null,e.eventManager),e}function nM(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wk.bind(null,e),e}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ak(this.persistence,new ik,e.initialUser,this.serializer)}Cu(e){return new yA(Dg.mi,this.serializer)}Du(e){return new dk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class iM extends df{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof hf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new yA((r=>hf.mi(r,n)),this.serializer)}}class Fp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eM.bind(null,this.syncEngine),await Mk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Lk})()}createDatastore(e){const n=kf(e.databaseInfo.databaseId),r=(function(c){return new _k(c)})(e.databaseInfo);return(function(c,u,m,p){return new bk(c,u,m,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,u,m){return new Ak(r,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>mb(this.syncEngine,n,0)),(function(){return lb.v()?new lb:new mk})())}createSyncEngine(e,n){return(function(o,c,u,m,p,y,v){const b=new Fk(o,c,u,m,p,y);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);he(wa,"RemoteStore shutting down."),r.Ea.add(5),await Bc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fp.provider={build:()=>new Fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class sM{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async u=>{he(Ir,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(he(Ir,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ug(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hp(i,e){i.asyncQueue.verifyOperationInProgress(),he(Ir,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await _A(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function gb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await rM(i);he(Ir,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>ub(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>ub(e.remoteStore,o))),i._onlineComponents=e}async function rM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Ir,"Using user provided OfflineComponentProvider");try{await hp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await hp(i,new df)}}else he(Ir,"Using default OfflineComponentProvider"),await hp(i,new iM(void 0));return i._offlineComponents}async function zA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Ir,"Using user provided OnlineComponentProvider"),await gb(i,i._uninitializedComponentsProvider._online)):(he(Ir,"Using default OnlineComponentProvider"),await gb(i,new Fp))),i._onlineComponents}function aM(i){return zA(i).then((e=>e.syncEngine))}async function BA(i){const e=await zA(i),n=e.eventManager;return n.onListen=Hk.bind(null,e.syncEngine),n.onUnlisten=Yk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Gk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Qk.bind(null,e.syncEngine),n}function oM(i,e,n={}){const r=new As;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,p,y){const v=new UA({next:A=>{v.Nu(),u.enqueueAndForget((()=>xA(c,b)));const x=A.docs.has(m);!x&&A.fromCache?y.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&A.fromCache&&p&&p.source==="server"?y.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),b=new NA(Ag(m.path),v,{includeMetadataChanges:!0,qa:!0});return IA(c,b)})(await BA(i),i.asyncQueue,e,n,r))),r.promise}function lM(i,e,n={}){const r=new As;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,p,y){const v=new UA({next:A=>{v.Nu(),u.enqueueAndForget((()=>xA(c,b))),A.fromCache&&p.source==="server"?y.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),b=new NA(m,v,{includeMetadataChanges:!0,qa:!0});return IA(c,b)})(await BA(i),i.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firestore.googleapis.com",_b=!0;class vb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FA,this.ssl=_b}else this.host=e.host,this.ssl=e.ssl??_b;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zj)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new dO;switch(r.type){case"firstParty":return new yO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=yb.get(n);r&&(he("ComponentProvider","Removing Datastore"),yb.delete(n),r.terminate())})(this),Promise.resolve()}}function cM(i,e,n,r={}){i=vi(i,Lf);const o=Nr(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(eg(`https://${m}`),tg("Firestore",!0)),c.host!==FA&&c.host!==m&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:r};if(!br(p,u)&&(i._setSettings(p),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=an.MOCK_USER;else{y=l0(r.mockUserToken,i._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new an(b)}i._authCredentials=new mO(new IS(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qo(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lc(n,At._jsonSchema))return new At(e,r||null,new ge(nt.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Vt("string",At._jsonSchemaVersion),referencePath:Vt("string")};class Tr extends Qo{constructor(e,n,r){super(e,n,Ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ge(e))}withConverter(e){return new Tr(this.firestore,e,this._path)}}function ni(i,e,...n){if(i=ut(i),xS("collection","path",e),i instanceof Lf){const r=nt.fromString(e,...n);return OT(r),new Tr(i,null,r)}{if(!(i instanceof At||i instanceof Tr))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(nt.fromString(e,...n));return OT(r),new Tr(i.firestore,null,r)}}function Be(i,e,...n){if(i=ut(i),arguments.length===1&&(e=_g.newId()),xS("doc","path",e),i instanceof Lf){const r=nt.fromString(e,...n);return DT(r),new At(i,null,new ge(r))}{if(!(i instanceof At||i instanceof Tr))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(nt.fromString(e,...n));return DT(r),new At(i.firestore,i instanceof Tr?i.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="AsyncQueue";class Tb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EA(this,"async_queue_retry"),this._c=()=>{const r=up();r&&he(Eb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new As;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;he(Eb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",bb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Pg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:bb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ja extends Lf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Tb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tb(e),this._firestoreClient=void 0,await e}}}function uM(i,e){const n=typeof i=="object"?i:vf(),r=typeof i=="string"?i:rf,o=Dr(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=r0("firestore");c&&cM(o,...c)}return o}function Fg(i){if(i._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||hM(i),i._firestoreClient}function hM(i){const e=i._freezeSettings(),n=(function(o,c,u,m){return new kO(o,c,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,qA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new sM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(nn.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lc(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Vt("string",Wn._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Lc(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Vt("string",Xi._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lc(e,Ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ji(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:Vt("string",Ji._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=/^__.*__$/;class dM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class HA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Hg{constructor(e,n,r,o,c,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GA(this.Ac)&&fM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kf(e)}Cc(e,n,r,o=!1){return new Hg({Ac:e,methodName:n,Dc:r,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zf(i){const e=i._freezeSettings(),n=kf(i._databaseId);return new mM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function KA(i,e,n,r,o,c={}){const u=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);Kg("Data must be an object, but it was:",u,r);const m=YA(r,u);let p,y;if(c.merge)p=new Mn(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const v=[];for(const b of c.mergeFields){const A=Hp(e,b,n);if(!u.contains(A))throw new ce(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);$A(v,A)||v.push(A)}p=new Mn(v),y=u.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=u.fieldTransforms;return new dM(new bn(m),p,y)}class Bf extends Uf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bf}}class Gg extends Uf{_toFieldTransform(e){return new aj(e.path,new Cc)}isEqual(e){return e instanceof Gg}}function pM(i,e,n,r){const o=i.Cc(1,e,n);Kg("Data must be an object, but it was:",o,r);const c=[],u=bn.empty();kr(r,((p,y)=>{const v=Yg(e,p,n);y=ut(y);const b=o.yc(v);if(y instanceof Bf)c.push(v);else{const A=Fc(y,b);A!=null&&(c.push(v),u.set(v,A))}}));const m=new Mn(c);return new HA(u,m,o.fieldTransforms)}function gM(i,e,n,r,o,c){const u=i.Cc(1,e,n),m=[Hp(e,r,n)],p=[o];if(c.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(Hp(e,c[A])),p.push(c[A+1]);const y=[],v=bn.empty();for(let A=m.length-1;A>=0;--A)if(!$A(y,m[A])){const x=m[A];let z=p[A];z=ut(z);const P=u.yc(x);if(z instanceof Bf)y.push(x);else{const M=Fc(z,P);M!=null&&(y.push(x),v.set(x,M))}}const b=new Mn(y);return new HA(v,b,u.fieldTransforms)}function yM(i,e,n,r=!1){return Fc(n,i.Cc(r?4:3,e))}function Fc(i,e){if(QA(i=ut(i)))return Kg("Unsupported field value:",e,i),YA(i,e);if(i instanceof Uf)return(function(r,o){if(!GA(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let u=0;for(const m of r){let p=Fc(m,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),u++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ij(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=rt.fromDate(r);return{timestampValue:uf(o.serializer,c)}}if(r instanceof rt){const c=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(o.serializer,c)}}if(r instanceof Xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wn)return{bytesValue:cA(o.serializer,r._byteString)};if(r instanceof At){const c=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:xg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ji)return(function(u,m){return{mapValue:{fields:{[PS]:{stringValue:US},[af]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return wg(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${wf(r)}`)})(i,e)}function YA(i,e){const n={};return OS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kr(i,((r,o)=>{const c=Fc(o,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function QA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof Xi||i instanceof Wn||i instanceof At||i instanceof Uf||i instanceof Ji)}function Kg(i,e,n){if(!QA(n)||!NS(n)){const r=wf(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Hp(i,e,n){if((e=ut(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return Yg(i,e);throw mf("Field path arguments must be of type string or ",i,!1,void 0,n)}const _M=new RegExp("[~\\*/\\[\\]]");function Yg(i,e,n){if(e.search(_M)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Pf(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function mf(i,e,n,r,o){const c=r&&!r.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||u)&&(p+=" (found",c&&(p+=` in field ${r}`),u&&(p+=` in document ${o}`),p+=")"),new ce(te.INVALID_ARGUMENT,m+i+p)}function $A(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vM extends XA{data(){return super.data()}}function Qg(i,e){return typeof e=="string"?Yg(i,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}class TM extends $g{}function ka(i,e,...n){let r=[];e instanceof $g&&r.push(e),r=r.concat(n),(function(c){const u=c.filter((p=>p instanceof Xg)).length,m=c.filter((p=>p instanceof qf)).length;if(u>1||u>0&&m>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class qf extends TM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qf(e,n,r)}_apply(e){const n=this._parse(e);return JA(e._query,n),new Qo(e.firestore,e.converter,jp(e._query,n))}_parse(e){const n=zf(e.firestore);return(function(c,u,m,p,y,v,b){let A;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Ab(b,v);const z=[];for(const P of b)z.push(Sb(p,c,P));A={arrayValue:{values:z}}}else A=Sb(p,c,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Ab(b,v),A=yM(m,u,b,v==="in"||v==="not-in");return Mt.create(y,v,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ds(i,e,n){const r=e,o=Qg("where",i);return qf._create(o,r,n)}class Xg extends $g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const p of m)JA(u,p),u=jp(u,p)})(e._query,n),new Qo(e.firestore,e.converter,jp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Sb(i,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YS(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!ge.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zT(i,new ge(r))}if(n instanceof At)return zT(i,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(n)}.`)}function Ab(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JA(i,e){const n=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bM{convertValue(e,n="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return kr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[af].arrayValue?.values?.map((r=>St(r.doubleValue)));return new Ji(n)}convertGeoPoint(e){return new Xi(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=If(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const n=Ar(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Ke(pA(r),9688,{name:e});const o=new Ac(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return o.isEqual(n)||xs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(i,e,n){let r;return r=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,r}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends XA{constructor(e,n,r,o,c,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Vt("string",_a._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class qh extends _a{data(e={}){return super.data(e)}}class Mo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new lc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new qh(this._firestore,this._userDataWriter,r.key,r,new lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return m.type!==0&&(y=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),v=u.indexOf(m.doc.key)),{type:SM(m.type),doc:p,oldIndex:y,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(i){i=vi(i,At);const e=vi(i.firestore,ja);return oM(Fg(e),i._key).then((n=>wM(e,i,n)))}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:Vt("string",Mo._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class ZA extends bM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function es(i){i=vi(i,Qo);const e=vi(i.firestore,ja),n=Fg(e),r=new ZA(e);return EM(i._query),lM(n,i._query).then((o=>new Mo(e,r,i,o)))}function ws(i,e,n){i=vi(i,At);const r=vi(i.firestore,ja),o=WA(i.converter,e,n);return Ff(r,[KA(zf(r),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Zn.none())])}function Hc(i,e,n,...r){i=vi(i,At);const o=vi(i.firestore,ja),c=zf(o);let u;return u=typeof(e=ut(e))=="string"||e instanceof Pf?gM(c,"updateDoc",i._key,e,n,r):pM(c,"updateDoc",i._key,e),Ff(o,[u.toMutation(i._key,Zn.exists(!0))])}function ew(i){return Ff(vi(i.firestore,ja),[new Cg(i._key,Zn.none())])}function AM(i,e){const n=vi(i.firestore,ja),r=Be(i),o=WA(i.converter,e);return Ff(n,[KA(zf(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then((()=>r))}function Ff(i,e){return(function(r,o){const c=new As;return r.asyncQueue.enqueueAndForget((async()=>$k(await aM(r),o,c))),c.promise})(Fg(i),e)}function wM(i,e,n){const r=n.docs.get(e._key),o=new ZA(i);return new _a(i,o,e._key,r,new lc(n.hasPendingWrites,n.fromCache),e.converter)}function Pn(){return new Gg("serverTimestamp")}(function(e,n=!0){(function(o){Ho=o})(xa),yi(new ei("firestore",((r,{instanceIdentifier:o,options:c})=>{const u=r.getProvider("app").getImmediate(),m=new ja(new pO(r.getProvider("auth-internal")),new _O(u,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(y.options.projectId,v)})(u,o),u);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Sn(RT,IT,e),Sn(RT,IT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="firebasestorage.googleapis.com",nw="storageBucket",CM=120*1e3,RM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends ti{constructor(e,n,r=0){super(fp(e),`Firebase Storage: ${n} (${fp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function fp(i){return"storage/"+i}function Jg(){const i="An unknown error occurred, please check the error payload for server response.";return new yt(gt.UNKNOWN,i)}function IM(i){return new yt(gt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function xM(i){return new yt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function NM(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(gt.UNAUTHENTICATED,i)}function DM(){return new yt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OM(i){return new yt(gt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function jM(){return new yt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kM(){return new yt(gt.CANCELED,"User canceled the upload/download.")}function MM(i){return new yt(gt.INVALID_URL,"Invalid URL '"+i+"'.")}function VM(i){return new yt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function LM(){return new yt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nw+"' property when initializing the app?")}function PM(){return new yt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UM(){return new yt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zM(i){return new yt(gt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gp(i){return new yt(gt.INVALID_ARGUMENT,i)}function iw(){return new yt(gt.APP_DELETED,"The Firebase app was deleted.")}function BM(i){return new yt(gt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yc(i,e){return new yt(gt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function nc(i){throw new yt(gt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vn.makeFromUrl(e,n)}catch{return new Vn(e,"")}if(r.path==="")return r;throw VM(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function y(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",x=new RegExp(`^https?://${b}/${v}/b/${o}/o${A}`,"i"),z={bucket:1,path:3},P=n===tw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",Q=new RegExp(`^https?://${P}/${o}/${M}`,"i"),Z=[{regex:m,indices:p,postModify:c},{regex:x,indices:z,postModify:y},{regex:Q,indices:{bucket:1,path:2},postModify:y}];for(let se=0;se<Z.length;se++){const re=Z[se],ue=re.regex.exec(e);if(ue){const R=ue[re.indices.bucket];let C=ue[re.indices.path];C||(C=""),r=new Vn(R,C),re.postModify(r);break}}if(r==null)throw MM(e);return r}}class qM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(i,e,n){let r=1,o=null,c=null,u=!1,m=0;function p(){return m===2}let y=!1;function v(...M){y||(y=!0,e.apply(null,M))}function b(M){o=setTimeout(()=>{o=null,i(x,p())},M)}function A(){c&&clearTimeout(c)}function x(M,...Q){if(y){A();return}if(M){A(),v.call(null,M,...Q);return}if(p()||u){A(),v.call(null,M,...Q);return}r<64&&(r*=2);let Z;m===1?(m=2,Z=0):Z=(r+Math.random())*1e3,b(Z)}let z=!1;function P(M){z||(z=!0,A(),!y&&(o!==null?(M||(m=2),clearTimeout(o),b(0)):M||(m=1)))}return b(0),c=setTimeout(()=>{u=!0,P(!0)},n),P}function HM(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(i){return i!==void 0}function KM(i){return typeof i=="object"&&!Array.isArray(i)}function Wg(i){return typeof i=="string"||i instanceof String}function wb(i){return Zg()&&i instanceof Blob}function Zg(){return typeof Blob<"u"}function Cb(i,e,n,r){if(r<e)throw Gp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw Gp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(i,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${i}`}function sw(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var va;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(va||(va={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r,o,c,u,m,p,y,v,b,A=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=b,this.retry=A,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,P)=>{this.resolve_=z,this.reject_=P,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Rh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const m=c.getErrorCode()===va.NO_ERROR,p=c.getStatus();if(!m||YM(p,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===va.ABORT;r(!1,new Rh(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new Rh(y,c))})},n=(r,o)=>{const c=this.resolve_,u=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());GM(p)?c(p):c()}catch(p){u(p)}else if(m!==null){const p=Jg();p.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,p)):u(p)}else if(o.canceled){const p=this.appDelete_?iw():kM();u(p)}else{const p=jM();u(p)}};this.canceled_?n(!1,new Rh(!1,null,!0)):this.backoffId_=FM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $M(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function XM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function WM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function ZM(i,e,n,r,o,c,u=!0,m=!1){const p=sw(i.urlParams),y=i.url+p,v=Object.assign({},i.headers);return JM(v,e),$M(v,n),XM(v,c),WM(v,r),new QM(y,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,u,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tV(...i){const e=eV();if(e!==void 0){const n=new e;for(let r=0;r<i.length;r++)n.append(i[r]);return n.getBlob()}else{if(Zg())return new Blob(i);throw new yt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nV(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(i){if(typeof atob>"u")throw zM("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dp{constructor(e,n){this.data=e,this.contentType=n||null}}function sV(i,e){switch(i){case Gi.RAW:return new dp(rw(e));case Gi.BASE64:case Gi.BASE64URL:return new dp(aw(i,e));case Gi.DATA_URL:return new dp(aV(e),oV(e))}throw Jg()}function rw(i){const e=[];for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=r,u=i.charCodeAt(++n);r=65536|(c&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function rV(i){let e;try{e=decodeURIComponent(i)}catch{throw yc(Gi.DATA_URL,"Malformed data URL.")}return rw(e)}function aw(i,e){switch(i){case Gi.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw yc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Gi.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw yc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=iV(e)}catch(o){throw o.message.includes("polyfill")?o:yc(i,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class ow{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yc(Gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=lV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function aV(i){const e=new ow(i);return e.base64?aw(Gi.BASE64,e.rest):rV(e.rest)}function oV(i){return new ow(i).contentType}function lV(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){let r=0,o="";wb(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(wb(this.data_)){const r=this.data_,o=nV(r,e,n);return o===null?null:new gr(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new gr(r,!0)}}static getBlob(...e){if(Zg()){const n=e.map(r=>r instanceof gr?r.data_:r);return new gr(tV.apply(null,n))}else{const n=e.map(u=>Wg(u)?sV(Gi.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let c=0;return n.forEach(u=>{for(let m=0;m<u.length;m++)o[c++]=u[m]}),new gr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(i){let e;try{e=JSON.parse(i)}catch{return null}return KM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function uV(i,e){const n=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?n:i+"/"+n}function cw(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(i,e){return e}class fn{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||hV}}let Ih=null;function fV(i){return!Wg(i)||i.length<2?i:cw(i)}function uw(){if(Ih)return Ih;const i=[];i.push(new fn("bucket")),i.push(new fn("generation")),i.push(new fn("metageneration")),i.push(new fn("name","fullPath",!0));function e(c,u){return fV(u)}const n=new fn("name");n.xform=e,i.push(n);function r(c,u){return u!==void 0?Number(u):u}const o=new fn("size");return o.xform=r,i.push(o),i.push(new fn("timeCreated")),i.push(new fn("updated")),i.push(new fn("md5Hash",null,!0)),i.push(new fn("cacheControl",null,!0)),i.push(new fn("contentDisposition",null,!0)),i.push(new fn("contentEncoding",null,!0)),i.push(new fn("contentLanguage",null,!0)),i.push(new fn("contentType",null,!0)),i.push(new fn("metadata","customMetadata",!0)),Ih=i,Ih}function dV(i,e){function n(){const r=i.bucket,o=i.fullPath,c=new Vn(r,o);return e._makeStorageReference(c)}Object.defineProperty(i,"ref",{get:n})}function mV(i,e,n){const r={};r.type="file";const o=n.length;for(let c=0;c<o;c++){const u=n[c];r[u.local]=u.xform(r,e[u.server])}return dV(r,i),r}function hw(i,e,n){const r=lw(e);return r===null?null:mV(i,r,n)}function pV(i,e,n,r){const o=lw(e);if(o===null||!Wg(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const u=encodeURIComponent;return c.split(",").map(y=>{const v=i.bucket,b=i.fullPath,A="/b/"+u(v)+"/o/"+u(b),x=ey(A,n,r),z=sw({alt:"media",token:y});return x+z})[0]}function gV(i,e){const n={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(n[c.server]=i[c.local])}return JSON.stringify(n)}class fw{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(i){if(!i)throw Jg()}function yV(i,e){function n(r,o){const c=hw(i,o,e);return dw(c!==null),c}return n}function _V(i,e){function n(r,o){const c=hw(i,o,e);return dw(c!==null),pV(c,o,i.host,i._protocol)}return n}function mw(i){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=DM():o=NM():n.getStatus()===402?o=xM(i.bucket):n.getStatus()===403?o=OM(i.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function vV(i){const e=mw(i);function n(r,o){let c=e(r,o);return r.getStatus()===404&&(c=IM(i.path)),c.serverResponse=o.serverResponse,c}return n}function EV(i,e,n){const r=e.fullServerUrl(),o=ey(r,i.host,i._protocol),c="GET",u=i.maxOperationRetryTime,m=new fw(o,c,_V(i,n),u);return m.errorHandler=vV(e),m}function TV(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function bV(i,e,n){const r=Object.assign({},n);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=TV(null,e)),r}function SV(i,e,n,r,o){const c=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let Z="";for(let se=0;se<2;se++)Z=Z+Math.random().toString().slice(2);return Z}const p=m();u["Content-Type"]="multipart/related; boundary="+p;const y=bV(e,r,o),v=gV(y,n),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,A=`\r
--`+p+"--",x=gr.getBlob(b,r,A);if(x===null)throw PM();const z={name:y.fullPath},P=ey(c,i.host,i._protocol),M="POST",Q=i.maxUploadRetryTime,$=new fw(P,M,yV(i,n),Q);return $.urlParams=z,$.headers=u,$.body=x.uploadData(),$.errorHandler=mw(e),$}class AV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=va.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=va.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=va.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,c){if(this.sent_)throw nc("cannot .send() more than once");if(Nr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const u in c)c.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,c[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wV extends AV{initXhr(){this.xhr_.responseType="text"}}function pw(){return new wV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this._service=e,n instanceof Vn?this._location=n:this._location=Vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ca(e,n)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cw(this._location.path)}get storage(){return this._service}get parent(){const e=cV(this._location.path);if(e===null)return null;const n=new Vn(this._location.bucket,e);return new Ca(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw BM(e)}}function CV(i,e,n){i._throwIfRoot("uploadBytes");const r=SV(i.storage,i._location,uw(),new gr(e,!0),n);return i.storage.makeRequestWithTokens(r,pw).then(o=>({metadata:o,ref:i}))}function RV(i){i._throwIfRoot("getDownloadURL");const e=EV(i.storage,i._location,uw());return i.storage.makeRequestWithTokens(e,pw).then(n=>{if(n===null)throw UM();return n})}function IV(i,e){const n=uV(i._location.path,e),r=new Vn(i._location.bucket,n);return new Ca(i.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(i){return/^[A-Za-z]+:\/\//.test(i)}function NV(i,e){return new Ca(i,e)}function gw(i,e){if(i instanceof ty){const n=i;if(n._bucket==null)throw LM();const r=new Ca(n,n._bucket);return e!=null?gw(r,e):r}else return e!==void 0?IV(i,e):i}function DV(i,e){if(e&&xV(e)){if(i instanceof ty)return NV(i,e);throw Gp("To use ref(service, url), the first argument must be a Storage instance.")}else return gw(i,e)}function Rb(i,e){const n=e?.[nw];return n==null?null:Vn.makeFromBucketSpec(n,i)}function OV(i,e,n,r={}){i.host=`${e}:${n}`;const o=Nr(e);o&&(eg(`https://${i.host}/b`),tg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(i._overrideAuthToken=typeof c=="string"?c:l0(c,i.app.options.projectId))}class ty{constructor(e,n,r,o,c,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=u,this._bucket=null,this._host=tw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CM,this._maxUploadRetryTime=RM,this._requests=new Set,o!=null?this._bucket=Vn.makeFromBucketSpec(o,this._host):this._bucket=Rb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=Rb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ca(this,e)}_makeRequest(e,n,r,o,c=!0){if(this._deleted)return new qM(iw());{const u=ZM(e,this._appId,r,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const Ib="@firebase/storage",xb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="storage";function jV(i,e,n){return i=ut(i),CV(i,e,n)}function kV(i){return i=ut(i),RV(i)}function MV(i,e){return i=ut(i),DV(i,e)}function _w(i=vf(),e){i=ut(i);const r=Dr(i,yw).getImmediate({identifier:e}),o=r0("storage");return o&&VV(r,...o),r}function VV(i,e,n,r={}){OV(i,e,n,r)}function LV(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new ty(n,r,o,e,xa)}function PV(){yi(new ei(yw,LV,"PUBLIC").setMultipleInstances(!0)),Sn(Ib,xb,""),Sn(Ib,xb,"esm2020")}PV();const UV={apiKey:"AIzaSyCzIj2s0Sg1ULl4TgPkHWgwrCQj7y59KEI",authDomain:"recruitment-bb526.firebaseapp.com",projectId:"recruitment-bb526",storageBucket:"recruitment-bb526.firebasestorage.app",messagingSenderId:"445394884989",appId:"1:445394884989:web:1b8dbf4122d5e2827e1414",measurementId:"G-L2BHLXBRXE"},Hf=p0(UV),ft=hO(Hf),we=uM(Hf);_w(Hf);JN(Hf);const Nb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAilBMVEX///8uNDYcJCesra4qMDJHS00jKiwhKCsPGh0XICMmLS8KFhocJCYeJSgSHB8gKCre398AEhbp6upiZmdNUlM4PkDFxsa2t7hzdnd5fH3i4+P4+PhYXF2ipKXLzM1DSEqLjY6YmpvT1NTw8PCChYa9vr6OkJFeYmOys7RZXV9rbm+eoKF1eHqVl5hiC0TwAAAGo0lEQVR4nO2diXqyOhCGBSImrKKACirWpbW1vf/bO1SPf0VpC2RCJn3y3gB8T5ZZkswMBhqNRqPRaDQajUajEJN0tZnGRWIkSTzdW+uJ7B8CJbPeDJf5tkMIMQxCHNtjrvNm/RGVk1NCTcd4xDFpsVJfZPri+qRG3gXiu9O17F/k4pAEdaNXGUlaHGT/ZmfSJPh++G4GMijUHMfJ1G2i76zRne5k/257rF/n5y22OZP9w22Z0xb6PqFz2b/ciiwJWwo0jLBQyHKkjXaYexx/K/vHm3KMOugrIVSRPbWrwJIolf3zTeAQWEpUYBTXPAINwx3LFvAbGeMSaBAbu+1PuuyitzhD2RJ+Zj7iFGgY5ka2iJ+YtfVk6nAR7zY7E0CgQQzZOr5nbkMoNPyNbCHfseUzFF9EWD3UmHcfveK8yZZSTwqxzVygOO0+2BBiHcStCyYQ6Uqct8la/MZoI1vOIztOh/Qe2XoeOYJY+38E+BybV8hJahj2Qrage3Ioa38lkK3onm0ArJBiS0utfGCF/kq2pDumsMsQodHnju3vIYlsSVV2cD7pFYorYQO+0ZSbKa6t5gDs0ZQwXNlh8K3UMExLtqgKz/w5tntGT7JFVdjAK7Q3skVV2MPkoCoK97JFVdAK1Vf4LEDhRraoCk/wO02Iay8FjvA/8XDZw/TP+zRjAZ53JltUhVyA15bLFlVlCB4fYjsLBjeIyMxhGT55wArRXeWbQGcTI1wh/gA8UUMK2YIeAPZq/JNsQQ8AW0Rk1vAM4AFpOUlj2XJqmEE6bgzbTnoGciGGssXUsoIziR62Q4sLOZxbYyPzSa+soFYiwxUa3gBk9bEdytyQwlw4wXw5EeTq3gjdEf4NucM/T4mDdJu5AHA9McJ1qvbAE+9BIkW7j16Z82VsGLbQvoaYZ7cZTWX/fgPyYXeJNsaQooa4/dO8C6EiAgeDl24+uKfCFP2ffZeAnyqwyXxxjNqafhKhNxNVxkk7q+ElOC+v/8Q+an7VjUQb2b/bhfGSNpuqhMbqDeCFQ8J+10gChctGlBqH7s/233ZjXCeh7dkufPbdgrSZv1B1ft6Sz+aMeneRI7FNOlrMUIeCrdha88KhAWMmKwlcu1hYf2H0quS78fowmx3S9Xbyd8ZOo9FoNBqNRqPRiGOXbdPZ8Wg153g8pNsM3WW9GrL0tBg6ZhkJmqZnNsczPRZQVoaNqzVeneNzLd2Q6xiY2D5zi8UMYdGI7Z7U19LtJNOkxQeqo+DsI6HAt6BJSJMPLPcTD3EUQt9jP4scRUsEmcZ8ZTTI+nYWGSRHyfpOzBOn76yROTLPpKwR/HOnR5ghK+u/TuAfO9VCgqGMjTWfNzxZAtHo9n8+nI7g31T+hG/0PIzvkGWvGkHc5x71TYqu90l4MOPePNa09TUEGBzW00w99T5D/+H2YhsX8GVMWkjsYTFOoZ/htSMQfoG48501KEzB1ZWW8O/u2+IJlbiUPYKfiBzFudw1eIVtRAnc9ORp/woV9CzKkmcH7xHTYQC0AisvTEAKB+KxCBzEgL+vsoQuG8jHCLwtDdjLOyhc4NRGJtMZrceEjaViXHP0Ewf0Zr+FbwhLqwj43jvH4Kw9EsLtp3v5/nYdIVgCLoOuWwJFBGX3wSvoQgFViXeMyV2rAtQ7Ce0QQg0i4iEsBxFiJS76Td+3A6Je1g6jsf+C8dtEC0fm4jsAqisWmMLCR/gL1wkoiAgLd0GpZ5wu6RfcZU7B6+VDw1vYLcNsDC9wthUSUGsdGs7a7cDdY0TAF+sLKLwKj8OjUEBTB3i4mrQpsAw53Zp3/MuQ0/tGbw0/4aoiiTVBU4V2F4jeKb3gdrf5Aiqti4Cj5w7y2PAKR9noD+yBxQWOmsOoUzRfhN0vSiHOI97ivHdWuFTBHHL53uDtAMRAln9eYXenRhWF3fNtWiEStEKtED9aoVaIHw6FoE05xMHhtakSW3S/ryCgu6gI7O7xoSpZjO4pYSWS+lyZqFyNfGnUWaAiQb7zwqFQiZMZriPSTIWkd8B1zI3sDUIdnPe9U/y7KeXsSoP8ShRAh7YU+0rkbyyEfCXa/K8uJrhXogfwcsbCPE9hXj+94/W/ofruvGINonywN88xTon+K5TAweClj2pJbWGgr9bn+LYb6LJDFsVlFx34XqxZ044jfUDcqYhqPI06jvQBCQpRPSBnBRVSP7CVPJ8K7Woy/ohd5tuE9C+0/KbtM7o8Ca8XuUtP+2WR9K4wGS73q7VujKHRaDQajUaj0Wjk8B8knI5V2weurgAAAABJRU5ErkJggg==";function vw(){const i=dn(),[e,n]=O.useState(!1),[r,o]=O.useState(Nb),c=O.useRef(null),u=ft.currentUser;O.useEffect(()=>{(async()=>{if(u)try{const y=Be(we,"candidates",u.uid),v=await tn(y);if(v.exists()){const b=v.data();o(b.avatarUrl||u.photoURL||Nb)}}catch(y){console.error("Error fetching avatar:",y)}})()},[u]),O.useEffect(()=>{const p=y=>{c.current&&!c.current.contains(y.target)&&n(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const m=async()=>{await ft.signOut(),i("/")};return g.jsxs("header",{className:"candidate-header",children:[g.jsxs("div",{className:"header-left",children:[g.jsx("p",{className:"logo-text",onClick:()=>i("/candidate/home"),children:"Logo Ở đây"}),g.jsx("button",{onClick:()=>i("/candidate/home"),children:"Home"}),g.jsx("button",{onClick:()=>i("/candidate/home/review"),children:"Company Review"})]}),g.jsxs("nav",{className:"header-right",children:[g.jsx("button",{className:"icon-btn",title:"Saved Jobs",onClick:()=>i("/candidate/home/saved-jobs"),children:g.jsx(qR,{size:20})}),g.jsxs("div",{className:"account-menu",ref:c,children:[g.jsxs("div",{className:"account-toggle",onClick:()=>n(!e),children:[g.jsx("img",{src:r,alt:"avatar",className:"header-avatar"}),g.jsx(HR,{className:`arrow-icon ${e?"open":""}`,size:18})]}),e&&g.jsxs("div",{className:"dropdown-menu",children:[g.jsxs("button",{className:"dropdown-item",onClick:()=>{i("/candidate/home/account"),n(!1)},children:[g.jsx(Zb,{})," Quản lý thông tin"]}),g.jsxs("button",{className:"dropdown-item",onClick:m,children:[g.jsx(Jb,{})," Đăng xuất"]})]})]})]})]})}const Ew=["Frontend","Backend","Mobile","AI / Data","DevOps","UI / UX","QA / Tester","Product Manager","Marketing","Sales","Human Resources","Customer Support","Finance / Accounting"];function zV({onSearch:i}){const[e,n]=O.useState(""),[r,o]=O.useState([]),[c,u]=O.useState(!1);O.useEffect(()=>{if(e.trim()===""){o([]);return}const y=Ew.filter(v=>v.toLowerCase().includes(e.toLowerCase()));o(y.slice(0,5))},[e]);const m=y=>{n(y),u(!1)},p=y=>{y.preventDefault(),e.trim()&&i&&i(e.trim()),u(!1)};return g.jsxs("div",{className:"search-bar",children:[g.jsxs("form",{onSubmit:p,children:[g.jsx(Kh,{size:20}),g.jsx("input",{type:"text",placeholder:"Job title or keywords",value:e,onChange:y=>{n(y.target.value),u(!0)}}),g.jsx("button",{type:"submit",children:"Find Job"})]}),c&&r.length>0&&g.jsx("ul",{className:"suggestion-list",children:r.map((y,v)=>g.jsxs("li",{onClick:()=>m(y),children:[g.jsx(Kh,{size:15}),y]},v))})]})}const BV="/recruitment/assets/can_home-8Xp7DnMZ.png",qV=({job:i,company:e,candidate:n,isApplying:r,onClose:o,onSubmit:c})=>{const[u,m]=O.useState(""),[p,y]=O.useState(!1),[v,b]=O.useState(!0),[A,x]=O.useState(null),[z,P]=O.useState(!1),[M,Q]=O.useState(n?.cvUrl||null),$=ft.currentUser,Z=_w();if(!r)return null;const se=R=>{const C=R.target.files[0];if(C&&C.size>2*1024*1024){alert("⚠️ File CV quá lớn (tối đa 2MB).");return}x(C)},re=async()=>{if(!A){alert("Vui lòng chọn file CV trước.");return}P(!0);try{const R=MV(Z,`cvs/${$.uid}/${Date.now()}_${A.name}`);await jV(R,A);const C=await kV(R);Q(C),alert("✅ Tải lên CV mới thành công!")}catch(R){console.error("Upload error:",R),alert("❌ Không thể tải lên CV. Vui lòng thử lại.")}finally{P(!1)}},ue=async R=>{if(R.preventDefault(),!$){alert("Vui lòng đăng nhập để nộp đơn.");return}if(!M){alert("Bạn cần tải lên CV hoặc chọn CV có sẵn.");return}y(!0),await c(u,M),y(!1)};return g.jsx("div",{className:"apply-modal-overlay",onClick:o,children:g.jsxs("form",{className:"apply-modal-content",onClick:R=>R.stopPropagation(),onSubmit:ue,children:[g.jsx("button",{type:"button",className:"close-btn",onClick:o,children:"×"}),g.jsxs("div",{className:"modal-header",children:[g.jsxs("h2",{children:["Apply for ",i.title]}),g.jsxs("p",{children:["at ",e?.name]})]}),g.jsxs("div",{className:"modal-body",children:[g.jsx("h3",{children:"Choose Your CV"}),g.jsxs("div",{className:"cv-choice",children:[g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:"cvOption",checked:v,onChange:()=>b(!0)}),"Use existing CV"]}),g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:"cvOption",checked:!v,onChange:()=>b(!1)}),"Upload new CV"]})]}),v&&n?.cvUrl?g.jsxs("div",{className:"cv-status-box cv-ready",children:[g.jsx(gp,{size:20}),g.jsxs("p",{children:["Current CV:"," ",g.jsx("a",{href:n.cvUrl,target:"_blank",rel:"noopener noreferrer",children:"View CV"})]})]}):v?g.jsxs("div",{className:"cv-status-box cv-missing",children:[g.jsx(XR,{size:20}),g.jsx("p",{children:"No existing CV found. Please upload a new one."})]}):null,!v&&g.jsxs("div",{className:"cv-upload-section",children:[g.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:se}),A&&g.jsxs("p",{children:["File: ",A.name]}),g.jsx("button",{type:"button",onClick:re,disabled:!A||z,className:"upload-btn",children:z?"Uploading...":"Upload CV"})]}),g.jsx("label",{htmlFor:"coverLetter",children:"Cover Letter (Optional)"}),g.jsx("textarea",{id:"coverLetter",rows:"5",value:u,onChange:R=>m(R.target.value),placeholder:"Write a short cover letter..."})]}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{type:"submit",className:"apply-btn",disabled:p||z,children:p?"Submitting...":"Submit Application"}),g.jsx("button",{type:"button",className:"cancel-btn",onClick:o,disabled:p,children:"Cancel"})]})]})})};function ny({job:i,company:e,onClose:n}){const[r,o]=O.useState(!1),[c,u]=O.useState([]),[m,p]=O.useState(i),[y,v]=O.useState(e),[b,A]=O.useState(!1),[x,z]=O.useState(null),[P,M]=O.useState(!1),Q=ft.currentUser;O.useEffect(()=>{(async()=>{if(!Q||!m)return;const ue=Be(we,"candidates",Q.uid),R=await tn(ue);z(R.exists()?R.data():{});const C=Be(we,"candidates",Q.uid,"savedJobs",m.id);o((await tn(C)).exists());const I=Be(we,"candidates",Q.uid,"applications",m.id);M((await tn(I)).exists())})()},[Q,m]);const $=()=>{if(!Q){alert("Please log in to apply.");return}if(P){alert("You already applied for this job.");return}A(!0)},Z=async(re,ue)=>{try{const R={jobId:m.id,jobTitle:m.title,companyId:y.id,companyName:y.name,candidateId:Q.uid,candidateName:x.fullName||Q.email,candidateEmail:Q.email,cvUrl:ue,coverLetter:re,status:"Pending",appliedAt:Pn()},C=Be(ni(we,"applications"));await ws(C,R);const I=Be(we,"candidates",Q.uid,"applications",m.id);await ws(I,{applicationId:C.id,appliedAt:Pn(),status:"Pending"}),M(!0),A(!1),alert("✅ Application submitted successfully!")}catch(R){console.error(R),alert("❌ Failed to submit application.")}},se=async()=>{if(!Q)return alert("Please log in to save this job.");const re=Be(we,"candidates",Q.uid,"savedJobs",m.id);r?(await ew(re),o(!1)):(await ws(re,{jobId:m.id,savedAt:Pn()}),o(!0))};return g.jsxs("div",{className:"job-modal-overlay",onClick:n,children:[g.jsxs("div",{className:"job-modal-content",onClick:re=>re.stopPropagation(),children:[g.jsx("button",{className:"close-btn",onClick:n,children:"×"}),g.jsxs("div",{className:"modal-header",children:[g.jsx("img",{src:y?.logoUrl||"/default-logo.png",alt:"logo"}),g.jsxs("div",{children:[g.jsx("h2",{children:m.title}),g.jsx("p",{children:y?.name}),g.jsx("p",{children:m.location})]})]}),g.jsxs("div",{className:"modal-body",children:[g.jsx("h3",{children:"Job Description"}),g.jsx("p",{children:m.description||"No description available."}),g.jsx("h3",{children:"Salary"}),g.jsx("p",{children:m.salaryFrom&&m.salaryTo?`${m.salaryFrom} - ${m.salaryTo} VND`:"Negotiable"}),g.jsx("h3",{children:"Benefits"}),g.jsx("p",{children:m.benefits||"No benefits listed."})]}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{className:`apply-btn ${P?"applied":""}`,onClick:$,disabled:P,children:P?g.jsxs(g.Fragment,{children:[g.jsx(gp,{})," Applied"]}):"Apply Now"}),g.jsx("button",{className:`save-btn ${r?"saved":""}`,onClick:se,children:r?g.jsxs(g.Fragment,{children:[g.jsx(gp,{})," Saved"]}):g.jsxs(g.Fragment,{children:[g.jsx(KR,{})," Save"]})})]})]}),g.jsx(qV,{job:m,company:y,candidate:x,isApplying:b,onClose:()=>A(!1),onSubmit:Z})]})}function Tw({jobs:i}){const[e,n]=O.useState({}),[r,o]=O.useState({}),[c,u]=O.useState(null);O.useEffect(()=>{const p=async()=>{const y={};for(const v of i)if(v.companyId&&!y[v.companyId])try{const b=Be(we,"companies",v.companyId),A=await tn(b);A.exists()&&(y[v.companyId]=A.data())}catch(b){console.error("❌ Error fetching company:",b)}n(y)};i.length>0&&p()},[i]);const m=p=>{o(y=>({...y,[p]:!y[p]}))};return g.jsxs("div",{className:"joblist-container",children:[i.map(p=>{const y=e[p.companyId]||{},v=p.createdAt?.toDate?p.createdAt.toDate().toLocaleDateString():"Unknown date",b=r[p.id];return g.jsxs("div",{className:"joblist-card",onClick:()=>u({job:p,company:y}),children:[g.jsx("div",{className:"joblist-header",children:g.jsx("img",{src:y.logoUrl||"/default-logo.png",alt:y.name||"Company Logo",className:"joblist-logo"})}),g.jsxs("div",{className:"joblist-body",children:[g.jsx("h3",{className:"joblist-title",children:p.title}),g.jsxs("div",{className:"joblist-info",children:[g.jsx("p",{className:"joblist-company",children:y.name||"Unknown Company"}),g.jsxs("p",{className:"joblist-meta",children:[g.jsx("span",{children:p.location||"No location"})," •"," ",g.jsx("span",{children:v})]}),g.jsx("p",{className:"joblist-salary",children:p.salaryFrom&&p.salaryTo?`${p.salaryFrom} - ${p.salaryTo} VND`:"Negotiable"}),g.jsx("p",{className:"joblist-category",children:p.category})]}),p.description&&g.jsx("div",{className:`joblist-description ${b?"expanded":""}`,children:p.description}),p.description&&p.description.length>100&&g.jsx("button",{className:"joblist-more-btn",onClick:A=>{A.stopPropagation(),m(p.id)},children:b?"Less":"More"})]})]},p.id)}),c&&g.jsx(ny,{job:c.job,company:c.company,onClose:()=>u(null)})]})}function FV({allJobs:i,filters:e,setFilters:n,onApply:r}){const o=[...new Set(i.map(p=>p.category))].filter(Boolean),c=[...new Set(i.map(p=>p.type))].filter(Boolean),u=[...new Set(i.map(p=>p.location))].filter(Boolean),m=(p,y)=>{n(v=>{const b=v[p];return b.includes(y)?{...v,[p]:b.filter(A=>A!==y)}:{...v,[p]:[...b,y]}})};return g.jsxs("aside",{className:"job-filter",children:[g.jsx("h3",{children:"Filter Jobs"}),g.jsxs("div",{className:"filter-group",children:[g.jsx("h4",{children:"Category"}),o.map((p,y)=>g.jsxs("label",{className:"filter-checkbox",children:[g.jsx("input",{type:"checkbox",checked:e.category.includes(p),onChange:()=>m("category",p)}),p]},y))]}),g.jsxs("div",{className:"filter-group",children:[g.jsx("h4",{children:"Job Type"}),c.map((p,y)=>g.jsxs("label",{className:"filter-checkbox",children:[g.jsx("input",{type:"checkbox",checked:e.type.includes(p),onChange:()=>m("type",p)}),p]},y))]}),g.jsxs("div",{className:"filter-group",children:[g.jsx("h4",{children:"Location"}),u.map((p,y)=>g.jsxs("label",{className:"filter-checkbox",children:[g.jsx("input",{type:"checkbox",checked:e.location.includes(p),onChange:()=>m("location",p)}),p]},y))]}),g.jsx("button",{onClick:r,children:"Apply Filters"})]})}function HV(){const[i,e]=O.useState([]),[n,r]=O.useState([]),[o,c]=O.useState(!1),[u,m]=O.useState({category:"",type:"",location:""});O.useEffect(()=>{(async()=>{const b=ka(ni(we,"jobs")),x=(await es(b)).docs.map(z=>({id:z.id,...z.data()}));e(x),r(x)})()},[]);const p=v=>{if(!v.trim()){c(!1),e(n);return}c(!0);const b=n.filter(A=>A.category?.toLowerCase().includes(v.toLowerCase())||A.title?.toLowerCase().includes(v.toLowerCase()));e(b)},y=()=>{const v=n.filter(b=>{const A=u.category.length===0||u.category.includes(b.category),x=u.type.length===0||u.type.includes(b.type),z=u.location.length===0||u.location.includes(b.location);return A&&x&&z});e(v)};return g.jsxs("div",{className:"can-home-page",children:[g.jsx(zV,{onSearch:p}),!o&&i.length===0?g.jsxs("div",{className:"banner",children:[g.jsx("img",{src:BV,alt:"banner"}),g.jsxs("div",{className:"text",children:[g.jsx("h1",{children:"Welcome!"}),g.jsx("p",{children:"Find your dream job!"})]})]}):g.jsxs("div",{className:"jobs-container",children:[g.jsx(FV,{allJobs:n,filters:u,setFilters:m,onApply:y}),g.jsx("div",{className:"joblist-wrapper",children:i.length===0?g.jsx("p",{children:"No jobs match your filter."}):g.jsx(Tw,{jobs:i})})]})]})}function GV(){const[i,e]=O.useState(null),[n,r]=O.useState([]),[o,c]=O.useState({}),[u,m]=O.useState(!0),[p,y]=O.useState(null),[v,b]=O.useState(null);O.useEffect(()=>{const $=eD(ft,Z=>{e(Z),Z!==void 0&&m(!1),y(Z?null:"Vui lòng đăng nhập để xem công việc đã lưu của bạn.")});return()=>$()},[]),O.useEffect(()=>{i?(async()=>{if(!i){r([]),m(!1);return}m(!0),y(null);try{const Z=ni(we,"candidates",i.uid,"savedJobs"),se=await es(Z),re=[];if(se.forEach(I=>{re.push(I.id)}),re.length===0){r([]),m(!1);return}const ue=re.map(async I=>{const L=Be(we,"jobs",I),j=await tn(L);return j.exists()?{id:j.id,...j.data()}:null}),C=(await Promise.all(ue)).filter(I=>I!==null);r(C)}catch(Z){console.error("Lỗi khi tải công việc đã lưu:",Z),y("Không thể tải danh sách công việc đã lưu. Vui lòng thử lại.")}finally{m(!1)}})():i===null&&!u&&r([])},[i]),O.useEffect(()=>{const $=async()=>{if(n.length===0)return;const Z={},se=[...new Set(n.map(re=>re.companyId))].filter(re=>re);await Promise.all(se.map(async re=>{try{const ue=Be(we,"companies",re),R=await tn(ue);R.exists()&&(Z[re]=R.data())}catch(ue){console.error("❌ Error fetching company:",ue)}})),c(Z)};n.length>0&&$()},[n]);const A=$=>{const Z=o[$.companyId]||{};b({job:$,company:Z})},x=()=>{b(null)},z=()=>g.jsxs("div",{className:"status-container",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("p",{className:"status-message",children:"Đang tải công việc đã lưu... ⏳"})]}),P=$=>g.jsx("div",{className:"status-container",children:g.jsxs("p",{className:"error-message",children:["❌ ",$]})}),M=()=>g.jsxs("div",{className:"status-container empty-state",children:[g.jsx("span",{className:"empty-icon"}),g.jsx("p",{className:"status-message",children:"Bạn chưa lưu công việc nào."}),g.jsx("p",{className:"suggestion-message",children:"Hãy khám phá và lưu những công việc bạn yêu thích! ✨"})]});if(u)return g.jsxs("div",{className:"saved-job-page",children:[g.jsx("h1",{children:"Công việc đã lưu của tôi"}),z()]});if(p)return g.jsxs("div",{className:"saved-job-page",children:[g.jsx("h1",{children:"Công việc đã lưu của tôi"}),P(p)]});if(!i)return g.jsxs("div",{className:"saved-job-page",children:[g.jsx("h1",{children:"Saved Jobs"}),P("Vui lòng đăng nhập để xem công việc đã lưu của bạn. 🔒")]});if(n.length===0)return g.jsxs("div",{className:"saved-job-page",children:[g.jsx("h1",{children:"Saved jobs"}),M()]});const Q=n.map($=>({...$,company:o[$.companyId]||{}}));return g.jsxs("div",{className:"saved-job-page",children:[g.jsx("h1",{children:"Saved Jobs"}),g.jsx("div",{className:"job-list-container",children:g.jsx(Tw,{jobs:Q,onJobClick:A,companyData:o,setSelectedJob:b})}),v&&g.jsx(ny,{job:v.job,company:v.company,onClose:x})]})}function KV(){return g.jsxs("div",{className:"candidate-page",children:[g.jsx(vw,{}),g.jsx(HV,{})]})}function YV(){const[i,e]=O.useState(""),[n,r]=O.useState(""),o=dn(),c=async u=>{u.preventDefault();try{const p=(await mg(ft,i,n)).user,y=Be(we,"users",p.uid),v=await tn(y);if(!v.exists()){alert("⚠️ Account not found in user records."),await gT(ft);return}if(v.data().role!=="candidate"){alert("❌ This account is registered as a Company. Please use the Company login."),await gT(ft);return}o("/candidate/home")}catch(m){alert("🚫 "+m.message)}};return g.jsx("div",{className:"candidate-login-page",children:g.jsxs("div",{className:"candidate-login-card",children:[g.jsx("h2",{children:"Candidate Login"}),g.jsxs("form",{onSubmit:c,className:"candidate-login-form",children:[g.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:u=>e(u.target.value),required:!0}),g.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:u=>r(u.target.value),required:!0}),g.jsx("button",{type:"submit",children:"Login"})]}),g.jsxs("div",{className:"candidate-login-footer",children:[g.jsxs("p",{children:["Don’t have an account?"," ",g.jsx("span",{onClick:()=>o("/candidate/register"),className:"link",children:"Register"})]}),g.jsx("p",{onClick:()=>o("/"),className:"back-link",children:"← Back to Home"})]})]})})}function QV(){const[i,e]=O.useState(""),[n,r]=O.useState(""),[o,c]=O.useState(!1),u=dn(),m=async p=>{p.preventDefault(),c(!0);try{const y=ka(ni(we,"users"),Ds("email","==",i)),v=await es(y);if(!v.empty&&v.docs[0].data().role==="company"){alert("This email is already used for a Company account. Please use another email."),c(!1);return}const A=(await uS(ft,i,n)).user;await ws(Be(we,"users",A.uid),{uid:A.uid,email:A.email,role:"candidate",createdAt:Pn()}),await ws(Be(we,"candidates",A.uid),{email:A.email,setupCompleted:!1,createdAt:Pn()}),alert("Candidate account created successfully!"),u("/candidate/setup")}catch(y){console.error("Registration failed:",y),alert(y.message)}finally{c(!1)}};return g.jsx("div",{className:"candidate-login-page",children:g.jsxs("div",{className:"candidate-login-card",children:[g.jsx("h2",{children:"Candidate Registration "}),g.jsxs("form",{onSubmit:m,className:"candidate-login-form",children:[g.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:p=>e(p.target.value),required:!0}),g.jsx("input",{type:"password",placeholder:"Password (min 6 chars)",value:n,onChange:p=>r(p.target.value),required:!0}),g.jsx("button",{type:"submit",disabled:o,children:o?"Creating...":"Register"})]}),g.jsxs("div",{className:"candidate-login-footer",children:[g.jsxs("p",{children:["Already have an account?"," ",g.jsx("span",{onClick:()=>u("/candidate/login"),className:"link",children:"Login"})]}),g.jsx("p",{onClick:()=>u("/"),className:"back-link",children:"← Back to Home"})]})]})})}const xh=6;function $V({formData:i,onChange:e,onFinish:n}){const[r,o]=O.useState(1),c=()=>{o(v=>v+1)},u=()=>o(v=>v-1),m=()=>c(),p=["Thông tin cơ bản","Liên hệ","Học vấn","Kinh nghiệm làm việc","Kỹ năng","Mục tiêu nghề nghiệp"],y=()=>{switch(r){case 1:return g.jsxs("div",{className:"step-content-grid",children:[" ",g.jsx("input",{placeholder:"Họ và tên",value:i.fullName,onChange:v=>e("fullName",v.target.value)}),g.jsx("input",{placeholder:"Năm sinh",type:"number",value:i.birthYear,onChange:v=>e("birthYear",v.target.value)}),g.jsxs("select",{value:i.gender,onChange:v=>e("gender",v.target.value),children:[g.jsx("option",{value:"",children:"Giới tính"}),g.jsx("option",{children:"Nam"}),g.jsx("option",{children:"Nữ"}),g.jsx("option",{children:"Khác"})]})]});case 2:return g.jsxs("div",{className:"step-content-grid",children:[g.jsx("input",{placeholder:"Số điện thoại",type:"tel",value:i.phone,onChange:v=>e("phone",v.target.value)}),g.jsx("input",{placeholder:"Địa chỉ (thành phố, quốc gia)",value:i.address,onChange:v=>e("address",v.target.value)})]});case 3:return g.jsxs("div",{className:"step-content-grid",children:[g.jsx("input",{placeholder:"Trình độ học vấn (VD: Đại học, Cao đẳng)",value:i.education,onChange:v=>e("education",v.target.value)}),g.jsx("input",{placeholder:"Chuyên ngành",value:i.major,onChange:v=>e("major",v.target.value)}),g.jsx("input",{placeholder:"Năm tốt nghiệp",type:"number",value:i.graduationYear,onChange:v=>e("graduationYear",v.target.value)})]});case 4:return g.jsxs("div",{className:"step-content-grid",children:[g.jsx("input",{placeholder:"Số năm kinh nghiệm",type:"number",value:i.experienceYears,onChange:v=>e("experienceYears",v.target.value)}),g.jsx("input",{placeholder:"Vị trí gần đây nhất",value:i.lastPosition,onChange:v=>e("lastPosition",v.target.value)}),g.jsx("input",{placeholder:"Công ty gần đây nhất",value:i.lastCompany,onChange:v=>e("lastCompany",v.target.value)})]});case 5:return g.jsx("div",{className:"step-content-grid",children:g.jsx("textarea",{placeholder:"Nhập kỹ năng, cách nhau bởi dấu phẩy hoặc xuống dòng",value:i.skills.join(", "),onChange:v=>e("skills",v.target.value.split(/,?\s*[\n,]\s*/).filter(b=>b.trim()!=="").map(b=>b.trim())),rows:"5"})});case 6:return g.jsxs("div",{className:"step-content-grid",children:[g.jsx("textarea",{placeholder:"Mục tiêu nghề nghiệp",value:i.careerGoal,onChange:v=>e("careerGoal",v.target.value),rows:"3"}),g.jsx("input",{placeholder:"Mức lương mong muốn (VNĐ)",type:"number",value:i.expectedSalary,onChange:v=>e("expectedSalary",v.target.value)}),g.jsxs("select",{value:i.workType,onChange:v=>e("workType",v.target.value),children:[g.jsx("option",{value:"",children:"Hình thức làm việc"}),g.jsx("option",{children:"Full-time"}),g.jsx("option",{children:"Part-time"}),g.jsx("option",{children:"Remote"})]})]});default:return g.jsx("p",{className:"finish-message",children:'🎉 Đã hoàn tất! Nhấn "Finish" để lưu hồ sơ của bạn.'})}};return g.jsxs("div",{className:"stepper-form",children:[g.jsxs("div",{className:"progress-bar-container",children:[g.jsx("div",{className:"progress-bar-track",children:g.jsx("div",{className:"progress-bar-fill",style:{width:`${r/xh*100}%`}})}),g.jsxs("p",{className:"step-indicator",children:["Step ",r," / ",xh]})]}),g.jsxs("h3",{className:"step-title",children:[g.jsxs("span",{className:"step-number",children:["Step ",r,":"]})," ",p[r-1]]}),y(),g.jsxs("div",{className:"stepper-buttons",children:[r>1&&g.jsxs("button",{className:"btn-back",onClick:u,children:[g.jsx(zR,{})," Back"]}),g.jsxs("div",{className:"right-controls",children:[r<xh&&g.jsxs("div",{className:"btn-group",children:[g.jsx("button",{className:"btn-skip",onClick:m,children:"Skip"}),g.jsxs("button",{className:"btn-next",onClick:c,children:["Next ",g.jsx(BR,{})]})]}),r===xh&&g.jsxs("button",{className:"btn-finish",onClick:n,children:[g.jsx(Zp,{})," Finish Profile"]})]})]})]})}function XV(){const[i,e]=O.useState({fullName:"",birthYear:"",gender:"",phone:"",address:"",education:[],major:"",graduationYear:"",experienceYears:"",lastPosition:"",lastCompany:"",skills:[],careerGoal:"",expectedSalary:"",workType:""}),n=dn(),r=(c,u)=>{e(m=>({...m,[c]:u}))},o=async()=>{const c=ft.currentUser;if(!c){alert("User not logged in!");return}try{const u=Be(we,"candidates",c.uid);await ws(u,{...i,setupCompleted:!0,createdAt:Pn(),updatedAt:Pn()},{merge:!0}),alert("Profile saved successfully!"),n("/candidate/home")}catch(u){console.error("Error saving profile:",u),alert("Error saving profile, please try again.")}};return g.jsxs("div",{className:"candidate-setup-container",children:[g.jsx("h2",{className:"candidate-setup-title",children:"Complete your profile"}),g.jsx($V,{formData:i,onChange:r,onFinish:o})]})}function JV(){const[i,e]=O.useState(null),n=dn();return O.useEffect(()=>{(async()=>{const o=ft.currentUser;if(!o){n("/getStarted");return}const c=Be(we,"companies",o.uid),u=await tn(c);u.exists()&&e(u.data())})()},[n]),i?g.jsxs("div",{className:"company-container",children:[g.jsxs("aside",{className:"sidebar",children:[g.jsx("h2",{children:"Company Dashboard"}),g.jsxs("nav",{children:[g.jsxs(Oh,{to:"/company/home/create",className:({isActive:r})=>r?"active":"",children:[g.jsx(Wb,{})," Create New"]}),g.jsxs(Oh,{to:"/company/home/jobs",className:({isActive:r})=>r?"active":"",children:[g.jsx(FR,{})," Jobs"]}),g.jsxs(Oh,{to:"/company/home/profile",className:({isActive:r})=>r?"active":"",children:[g.jsx(Zb,{})," Profile"]}),g.jsxs("button",{onClick:async()=>{await ft.signOut(),n("/")},className:"logout-btn",children:[g.jsx(Jb,{})," Logout"]})]})]}),g.jsx("main",{className:"main-content",children:g.jsx(Fb,{context:{company:i,setCompany:e}})})]}):g.jsx("p",{className:"p-10 text-gray-500",children:"Loading..."})}function WV(){const[i,e]=O.useState(""),[n,r]=O.useState(""),o=dn(),c=async u=>{u.preventDefault();try{const p=(await mg(ft,i,n)).user,y=Be(we,"users",p.uid),v=await tn(y);if(!v.exists()){alert("Account not found in user records."),await signOut(ft);return}if(v.data().role!=="company"){alert("This account is registered as a Candidate. Please use the Candidate login."),await signOut(ft);return}o("/company/home")}catch(m){console.error("Login failed:",m),alert("Login failed: "+m.message)}};return g.jsxs("div",{className:"auth-page",children:[g.jsx("h2",{children:"Company Login"}),g.jsxs("form",{onSubmit:c,children:[g.jsx("input",{type:"email",placeholder:"Company Email",value:i,onChange:u=>e(u.target.value),required:!0}),g.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:u=>r(u.target.value),required:!0}),g.jsx("button",{type:"submit",children:"Login"}),g.jsxs("p",{children:["Don't have an account?"," ",g.jsx("span",{onClick:()=>o("/company/register"),children:"Register"})]})]})]})}function ZV(){const[i,e]=O.useState(""),[n,r]=O.useState(""),[o,c]=O.useState(!1),u=dn(),m=async p=>{p.preventDefault(),c(!0);try{const y=ka(ni(we,"users"),Ds("email","==",i)),v=await es(y);if(!v.empty&&v.docs[0].data().role==="candidate"){alert("This email is already used for a Candidate account. Please use another email."),c(!1);return}const A=(await uS(ft,i,n)).user;await ws(Be(we,"users",A.uid),{uid:A.uid,email:A.email,role:"company",createdAt:Pn()}),await ws(Be(we,"companies",A.uid),{email:A.email,setupCompleted:!1,createdAt:Pn()}),alert("Company account created successfully!"),u("/company/setup")}catch(y){console.error("Registration failed:",y),alert(y.message)}finally{c(!1)}};return g.jsxs("div",{className:"auth-page",children:[g.jsx("h2",{children:"Company Registration"}),g.jsxs("form",{onSubmit:m,children:[g.jsx("input",{type:"email",placeholder:"Company Email",value:i,onChange:p=>e(p.target.value),required:!0}),g.jsx("input",{type:"password",placeholder:"Password (min 6 chars)",value:n,onChange:p=>r(p.target.value),required:!0}),g.jsx("button",{type:"submit",disabled:o,children:o?"Creating...":"Register"}),g.jsxs("p",{children:["Already have an account?"," ",g.jsx("span",{onClick:()=>u("/company/login"),children:"Login"})]})]})]})}function e4(){const[i,e]=O.useState(1),[n,r]=O.useState({companyName:"",industry:"",companySize:"",address:"",phone:"",website:"",email:"",description:"",foundedYear:"",recruiterName:"",recruiterPosition:""}),o=dn(),c=(v,b)=>r(A=>({...A,[v]:b})),u=()=>e(v=>Math.min(v+1,4)),m=()=>e(v=>Math.max(v-1,1)),p=async()=>{try{const v=ft.currentUser;if(!v)return alert("User not logged in!");const b=Be(we,"companies",v.uid);await ws(b,{...n,setupCompleted:!0,createdAt:new Date}),alert("Company profile saved successfully!"),o("/company/home")}catch(v){console.error("Error saving company:",v),alert("Error saving profile, please try again.")}},y=()=>{switch(i){case 1:return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Step 1: Company Basics 🏢"}),g.jsx("input",{placeholder:"Company Name",value:n.companyName,onChange:v=>c("companyName",v.target.value)}),g.jsx("input",{placeholder:"Industry",value:n.industry,onChange:v=>c("industry",v.target.value)}),g.jsx("input",{placeholder:"Company Size (e.g. 50-200 employees)",value:n.companySize,onChange:v=>c("companySize",v.target.value)}),g.jsx("input",{placeholder:"Founded Year",value:n.foundedYear,onChange:v=>c("foundedYear",v.target.value)})]});case 2:return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Step 2: Contact Information ☎️"}),g.jsx("input",{placeholder:"Address",value:n.address,onChange:v=>c("address",v.target.value)}),g.jsx("input",{placeholder:"Phone Number",value:n.phone,onChange:v=>c("phone",v.target.value)}),g.jsx("input",{placeholder:"Email",value:n.email,onChange:v=>c("email",v.target.value)}),g.jsx("input",{placeholder:"Website",value:n.website,onChange:v=>c("website",v.target.value)})]});case 3:return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Step 3: Description & Recruiter 👤"}),g.jsx("textarea",{placeholder:"Company Description",rows:4,value:n.description,onChange:v=>c("description",v.target.value)}),g.jsx("input",{placeholder:"Recruiter Name",value:n.recruiterName,onChange:v=>c("recruiterName",v.target.value)}),g.jsx("input",{placeholder:"Recruiter Position",value:n.recruiterPosition,onChange:v=>c("recruiterPosition",v.target.value)})]});case 4:return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Step 4: Review & Confirm ✅"}),g.jsx("div",{className:"review-box",children:Object.entries(n).map(([v,b])=>g.jsxs("p",{children:[g.jsxs("strong",{children:[v.replace(/([A-Z])/g," $1"),":"]})," ",b||g.jsx("em",{children:"Not provided"})]},v))}),g.jsx("button",{className:"btn-primary",onClick:p,children:"Save Company Profile"})]});default:return null}};return g.jsxs("div",{className:"form-wrapper",style:{maxWidth:"550px"},children:[g.jsx("div",{className:"progress-bar",children:g.jsx("div",{className:"progress-fill",style:{width:`${i/4*100}%`}})}),y(),i<4&&g.jsxs("div",{className:"btn-row",children:[i>1&&g.jsx("button",{className:"btn-secondary",onClick:m,children:"⬅ Back"}),g.jsx("button",{className:"btn-primary",onClick:u,children:"Next ➡"})]}),g.jsxs("p",{className:"step-text",children:["Step ",i," / 4"]})]})}function t4(){const[i,e]=O.useState(""),[n,r]=O.useState(""),[o,c]=O.useState(!1),u=dn(),m=async p=>{p.preventDefault(),c(!0);try{const v=(await mg(ft,i,n)).user,b=Be(we,"users",v.uid),A=await tn(b);if(!A.exists()){alert("⚠️ User data not found in Firestore!");return}const x=A.data().role;let z=!1;if(x==="candidate"){const P=Be(we,"candidates",v.uid),M=await tn(P);M.exists()&&(z=M.data().setupCompleted||!1),u(z?"/candidate/home":"/candidate/setup")}else if(x==="company"){const P=Be(we,"companies",v.uid),M=await tn(P);M.exists()&&(z=M.data().setupCompleted||!1),u(z?"/company/home":"/company/setup")}else alert("❌ Unknown user type!")}catch(y){console.error("Login error:",y),alert("❌ "+y.message)}finally{c(!1)}};return g.jsxs(g.Fragment,{children:[g.jsx(Wp,{}),g.jsx("div",{className:"getstarted-page",children:g.jsxs("div",{className:"getstarted-card",children:[g.jsx("h2",{children:"Welcome back"}),g.jsx("p",{children:"Log in to continue to ITWorks"}),g.jsxs("form",{onSubmit:m,className:"getstarted-form",children:[g.jsx("input",{type:"email",placeholder:"Email",value:i,required:!0,onChange:p=>e(p.target.value)}),g.jsx("input",{type:"password",placeholder:"Password",value:n,required:!0,onChange:p=>r(p.target.value)}),g.jsx("button",{type:"submit",disabled:o,children:o?"Logging in...":"Get Started →"})]}),g.jsxs("div",{className:"signup-text",children:["Don’t have an account?"," ",g.jsx("span",{onClick:()=>u("/homepage"),className:"signup-link",children:"Sign Up"})]})]})})]})}function n4(){const i=dn();return g.jsxs("div",{className:"landing-container",children:[g.jsx(Wp,{}),g.jsxs("div",{className:"landing-content",children:[g.jsxs("div",{className:"text-section",children:[g.jsx("h1",{children:"Learn Smarter, Not Harder."}),g.jsx("p",{children:"Chào mừng bạn đến với MyWeb — nền tảng học tập thông minh giúp bạn quản lý thời gian, duy trì streak, và đạt được mục tiêu mỗi ngày."}),g.jsx("button",{onClick:()=>i("/homepage"),className:"btn-primary",children:"Get Started"})]}),g.jsx("div",{className:"image-section",children:g.jsx("img",{src:"https://res.cloudinary.com/upwork-cloud-acquisition-prod/image/upload/arges/baseline-hero/hero-desktop.webp",alt:""})})]})]})}function i4(){const{jobId:i}=zb(),e=dn(),[n,r]=O.useState(null),[o,c]=O.useState([]),[u,m]=O.useState(!0),[p,y]=O.useState(null);O.useEffect(()=>{(async()=>{try{const A=Be(we,"jobs",i),x=await tn(A);x.exists()?r({id:x.id,...x.data()}):(alert("Không tìm thấy công việc này."),e("/company/home/jobs"))}catch(A){console.error("Error fetching job:",A)}})()},[i,e]),O.useEffect(()=>{(async()=>{try{const A=ft.currentUser;if(!A)return;const x=A.uid,z=ka(ni(we,"applications"),Ds("companyId","==",x),Ds("jobId","==",i)),M=(await es(z)).docs.map(Q=>({id:Q.id,...Q.data()}));c(M)}catch(A){console.error("Error fetching candidates:",A)}finally{m(!1)}})()},[i]);const v=async(b,A)=>{try{const x=Be(we,"applications",b);await Hc(x,{status:A}),c(z=>z.map(P=>P.id===b?{...P,status:A}:P))}catch(x){console.error("Error updating status:",x)}};return u?g.jsx("p",{className:"jobdetail-loading",children:"Đang tải dữ liệu..."}):n?g.jsxs("div",{className:"jobdetail-container",children:[g.jsx("button",{className:"btn-back",onClick:()=>e(-1),children:"← Quay lại"}),g.jsxs("section",{className:"jobdetail-section",children:[g.jsx("h2",{children:n.title}),g.jsxs("p",{children:[g.jsx("strong",{children:"Mức lương:"})," ",n.salaryRange||"Thương lượng"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Địa điểm:"})," ",n.location||"—"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Kinh nghiệm:"})," ",n.experience||"Không yêu cầu"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Mô tả:"})," ",n.description]})]}),g.jsxs("section",{className:"jobdetail-section",children:[g.jsxs("h3",{children:["Danh sách ứng viên (",o.length,")"]}),o.length===0?g.jsx("p",{className:"no-candidates",children:"Chưa có ai ứng tuyển công việc này."}):g.jsxs("table",{className:"candidate-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Tên"}),g.jsx("th",{children:"Email"}),g.jsx("th",{children:"Ngày nộp"}),g.jsx("th",{children:"Trạng thái"}),g.jsx("th",{children:"CV"}),g.jsx("th",{children:"Chi tiết"}),g.jsx("th",{children:"Hành động"})]})}),g.jsx("tbody",{children:o.map(b=>g.jsxs("tr",{children:[g.jsx("td",{children:b.candidateName}),g.jsx("td",{children:b.candidateEmail}),g.jsx("td",{children:b.appliedAt&&b.appliedAt.toDate?b.appliedAt.toDate().toLocaleString("vi-VN"):"—"}),g.jsx("td",{children:g.jsx("span",{className:`status-badge ${b.status.toLowerCase()}`,children:b.status})}),g.jsx("td",{children:b.cvUrl?g.jsx("a",{href:b.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"cv-link",children:"Xem CV"}):"—"}),g.jsx("td",{children:g.jsx("button",{className:"btn-view",onClick:()=>y(b),children:"Xem"})}),g.jsx("td",{children:g.jsxs("select",{value:b.status,onChange:A=>v(b.id,A.target.value),children:[g.jsx("option",{value:"Pending",children:"Pending"}),g.jsx("option",{value:"Reviewed",children:"Reviewed"}),g.jsx("option",{value:"Accepted",children:"Accepted"}),g.jsx("option",{value:"Rejected",children:"Rejected"})]})})]},b.id))})]})]}),p&&g.jsx(s4,{candidate:p,onClose:()=>y(null)})]}):g.jsx("p",{className:"jobdetail-notfound",children:"Không tìm thấy công việc."})}function s4({candidate:i,onClose:e}){return g.jsx("div",{className:"modal-backdrop",children:g.jsxs("div",{className:"modal-content",children:[g.jsx("button",{className:"modal-close-btn",onClick:e,children:"×"}),g.jsx("h3",{children:"Chi tiết ứng viên"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Họ tên:"})," ",i.candidateName]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Email:"})," ",i.candidateEmail]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Ngày ứng tuyển:"})," ",i.appliedAt&&i.appliedAt.toDate?i.appliedAt.toDate().toLocaleString("vi-VN"):"—"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Trạng thái:"})," ",i.status]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Thư giới thiệu:"})," ",i.coverLetter||"—"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"CV:"})," ",i.cvUrl?g.jsx("a",{href:i.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"cv-link",children:"Mở CV"}):"Không có"]})]})})}const r4=async(i,e)=>{if(i.length===0)return{};const n=10,r={};for(let o=0;o<i.length;o+=n){const c=i.slice(o,o+n),u=ka(ni(we,"applications"),Ds("companyId","==",e),Ds("jobId","in",c));(await es(u)).docs.forEach(p=>{const y=p.data().jobId;r[y]=(r[y]||0)+1})}return r};function a4(){const[i,e]=O.useState([]),[n,r]=O.useState(!0),[o,c]=O.useState("all"),[u,m]=O.useState(null),p=dn(),y=O.useCallback(async()=>{const P=ft.currentUser;if(!P){r(!1);return}const M=P.uid;try{const Q=ka(ni(we,"jobs"),Ds("companyId","==",M));let Z=(await es(Q)).docs.map(ue=>({id:ue.id,...ue.data(),applicationsCount:0}));const se=Z.map(ue=>ue.id),re=await r4(se,M);Z=Z.map(ue=>({...ue,applicationsCount:re[ue.id]||0})),e(Z)}catch(Q){console.error("Error fetching jobs or applications:",Q)}finally{r(!1)}},[]);O.useEffect(()=>{y()},[y]);const v=async(P,M)=>{if(P.stopPropagation(),!!window.confirm("⚠️ Bạn có chắc chắn muốn xóa job này? Hành động này không thể hoàn tác."))try{await ew(Be(we,"jobs",M)),e($=>$.filter(Z=>Z.id!==M))}catch($){alert("Lỗi khi xóa job: "+$.message)}},b=async(P,M)=>{P.stopPropagation();try{const Q=Be(we,"jobs",M.id);await Hc(Q,{isActive:!M.isActive}),e($=>$.map(Z=>Z.id===M.id?{...Z,isActive:!Z.isActive}:Z))}catch(Q){alert("Lỗi khi cập nhật trạng thái: "+Q.message)}},A=P=>{p(`/company/home/jobs/${P}`)},x=(P,M)=>{P.stopPropagation(),m(M)},z=o==="all"?i:i.filter(P=>P.isActive===(o==="active"));return n?g.jsx("p",{className:"manage-loading",children:"Đang tải danh sách công việc..."}):g.jsxs("div",{className:"manage-container",children:[g.jsxs("h2",{className:"manage-title",children:["Quản lý Tin Tuyển Dụng Đã Đăng (",i.length,")"]}),g.jsxs("div",{className:"manage-toolbar",children:[g.jsxs("select",{className:"manage-filter",value:o,onChange:P=>c(P.target.value),children:[g.jsx("option",{value:"all",children:"Tất cả"}),g.jsx("option",{value:"active",children:"Đang hoạt động"}),g.jsx("option",{value:"inactive",children:"Đã đóng"})]}),g.jsx("button",{className:"btn-new-job",onClick:()=>p("/company/home/create"),children:"+ Đăng Tin Mới"})]}),z.length===0?g.jsx("p",{className:"manage-empty",children:"Không tìm thấy công việc nào."}):g.jsx("div",{className:"manage-grid",children:z.map(P=>g.jsxs("div",{className:"job-card",children:[g.jsxs("div",{className:"job-header",children:[g.jsx("h3",{className:"job-title",children:P.title}),g.jsx("span",{className:`job-status ${P.isActive?"active":"inactive"}`,children:P.isActive?"Active":"Closed"})]}),g.jsx("p",{className:"job-desc",children:P.description?.length>120?P.description.slice(0,120)+"...":P.description||"No description"}),g.jsx("div",{className:"job-tags",children:P.catalog?.slice(0,3).map((M,Q)=>g.jsx("span",{className:"job-tag",children:M},Q))}),g.jsxs("div",{className:"job-info",children:[g.jsxs("p",{children:["💰 ",g.jsx("strong",{children:"Mức lương:"})," ",P.salaryRange||"Thương lượng"]}),g.jsxs("p",{children:["📍 ",g.jsx("strong",{children:"Địa điểm:"})," ",P.location||"—"]}),g.jsxs("p",{children:["🧠 ",g.jsx("strong",{children:"Kinh nghiệm:"})," ",P.experience||"Chưa xác định"]})]}),g.jsxs("div",{className:"job-actions",children:[g.jsxs("button",{className:"btn-view-candidates",onClick:()=>A(P.id),title:"Xem danh sách ứng viên đã nộp đơn",children:[g.jsx(JR,{size:18})," Xem Ứng Viên (",P.applicationsCount,")"]}),g.jsxs("div",{className:"job-secondary-actions",children:[g.jsx("button",{className:"btn-edit",onClick:M=>x(M,P),title:"Chỉnh sửa chi tiết",children:g.jsx(GR,{})}),g.jsx("button",{className:"btn-toggle",onClick:M=>b(M,P),title:P.isActive?"Đóng Job":"Mở lại Job",children:P.isActive?g.jsx(QR,{}):g.jsx(YR,{})}),g.jsx("button",{className:"btn-delete",onClick:M=>v(M,P.id),title:"Xóa Job",children:g.jsx($R,{})})]})]})]},P.id))}),u&&g.jsx(o4,{job:u,onClose:()=>m(null),onSave:P=>e(M=>M.map(Q=>Q.id===P.id?P:Q))})]})}function o4({job:i,onClose:e,onSave:n}){const[r,o]=O.useState({title:i.title||"",description:i.description||"",salaryRange:i.salaryRange||"",location:i.location||"",experience:i.experience||""}),[c,u]=O.useState(!1),m=y=>o({...r,[y.target.name]:y.target.value}),p=async y=>{y.preventDefault(),u(!0);try{const v=Be(we,"jobs",i.id);await Hc(v,r),n({...i,...r}),e()}catch(v){alert("❌ Lỗi khi cập nhật job: "+v.message)}finally{u(!1)}};return g.jsx("div",{className:"modal-backdrop",children:g.jsxs("div",{className:"modal-content",children:[g.jsx("h3",{children:"Chỉnh Sửa Công Việc"}),g.jsx("button",{className:"modal-close-btn",onClick:e,children:"×"}),g.jsxs("form",{onSubmit:p,children:[g.jsx("label",{children:"Tiêu đề"}),g.jsx("input",{type:"text",name:"title",value:r.title,onChange:m,placeholder:"Tiêu đề công việc",required:!0}),g.jsx("label",{children:"Mô tả"}),g.jsx("textarea",{name:"description",rows:"4",value:r.description,onChange:m,placeholder:"Mô tả chi tiết"}),g.jsx("label",{children:"Mức lương"}),g.jsx("input",{type:"text",name:"salaryRange",value:r.salaryRange,onChange:m,placeholder:"Mức lương"}),g.jsx("label",{children:"Địa điểm"}),g.jsx("input",{type:"text",name:"location",value:r.location,onChange:m,placeholder:"Địa điểm làm việc"}),g.jsx("label",{children:"Kinh nghiệm"}),g.jsx("input",{type:"text",name:"experience",value:r.experience,onChange:m,placeholder:"Yêu cầu kinh nghiệm"}),g.jsxs("div",{className:"modal-actions",children:[g.jsx("button",{type:"button",onClick:e,disabled:c,children:"Hủy"}),g.jsx("button",{type:"submit",disabled:c,children:c?"Đang lưu...":"Lưu Thay Đổi"})]})]})]})})}function l4(){return g.jsxs("div",{className:"candidate-page",children:[g.jsx(vw,{}),g.jsxs("div",{className:"candidate-content",children:[g.jsx(Fb,{})," "]})]})}function c4(){const[i,e]=O.useState(null),[n,r]=O.useState(!0),[o,c]=O.useState(!1),[u,m]=O.useState(null),[p,y]=O.useState(null),[v,b]=O.useState(null),[A,x]=O.useState(""),[z,P]=O.useState(""),M=ft.currentUser;O.useEffect(()=>{(async()=>{if(M)try{const re=Be(we,"candidates",M.uid),ue=await tn(re),R=ue.exists()?ue.data():{email:M.email,fullName:"",about:"",skills:[],education:"",title:"",avatarUrl:"",cvUrl:""};e(R),x(R.fullName||""),P(R.title||"")}catch(re){console.error("Error fetching:",re)}finally{r(!1)}})()},[M]);const Q=async(se,re="auto")=>{const ue=new FormData;ue.append("file",se),ue.append("upload_preset","cruitment");const C=await(await fetch(`https://api.cloudinary.com/v1_1/dxgaqawwy/${re}/upload`,{method:"POST",body:ue})).json();if(!C.secure_url)throw new Error("Upload failed");return C.secure_url},$=async se=>{if(!(!M||!i)){c(!0);try{let re={...i};se==="header-name"&&(re.fullName=A,re.title=z,u&&(re.avatarUrl=await Q(u,"image"),m(null))),p&&(re.cvUrl=await Q(p,"auto"),y(null)),await Hc(Be(we,"candidates",M.uid),{...re,updatedAt:Pn()}),e(re),b(null),alert("✅ Profile updated!")}catch(re){console.error("Update failed:",re),alert("❌ Failed to save changes.")}finally{c(!1)}}},Z=se=>{x(i.fullName||""),P(i.title||""),m(null),b(null)};return n?g.jsx("p",{children:"Loading..."}):i?g.jsxs("div",{className:"candidate-profile",children:[g.jsx("div",{className:"profile-header",children:g.jsx("div",{className:"header-top",children:g.jsxs("div",{className:"avatar-name-section",children:[g.jsxs("div",{className:"avatar-wrapper",children:[g.jsx("img",{src:u?URL.createObjectURL(u):i.avatarUrl||"/default-avatar.png",alt:"avatar",className:"profile-avatar"}),g.jsxs("label",{className:"edit-avatar-btn",title:"Change Avatar",children:[g.jsx(ma,{size:12}),g.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:se=>m(se.target.files[0])})]})]}),g.jsx("div",{className:"header-info",children:v==="header-name"?g.jsxs("div",{className:"edit-name-title-mode",children:[g.jsx("input",{type:"text",value:A,onChange:se=>x(se.target.value),placeholder:"Full Name"}),g.jsx("input",{type:"text",value:z,onChange:se=>P(se.target.value),placeholder:"Professional Title"}),g.jsxs("div",{className:"edit-actions",children:[g.jsx("button",{onClick:()=>$("header-name"),disabled:o,className:"save-btn",children:o?"Saving...":g.jsx(Zp,{})}),g.jsx("button",{onClick:()=>Z(),className:"cancel-btn",children:g.jsx(e0,{})})]})]}):g.jsxs("div",{className:"view-name-title-mode",children:[g.jsxs("div",{className:"name-and-edit",children:[g.jsx("h2",{children:i.fullName||"Your Name"}),g.jsx("button",{className:"edit-icon-small",onClick:()=>b("header-name"),title:"Edit Name and Title",children:g.jsx(ma,{size:16})})]}),g.jsx("p",{children:i.title||"Your professional title"})]})})]})})}),g.jsxs("div",{className:"profile-body",children:[g.jsxs("div",{className:"profile-left",children:[g.jsxs("div",{className:"section-block education-section",children:[g.jsxs("div",{className:"section-title",children:[g.jsx("h3",{children:"Education"}),g.jsx("button",{className:"edit-icon",onClick:()=>b("education"),children:g.jsx(ma,{})})]}),v==="education"?g.jsxs("div",{className:"edit-mode",children:[g.jsx("input",{type:"text",value:i.education||"",onChange:se=>e({...i,education:se.target.value})}),g.jsx("button",{onClick:()=>$("education"),disabled:o,className:"save-btn-small",children:o?"Saving...":"Save"})]}):g.jsx("p",{children:i.education||"Add your education background"})]}),g.jsxs("div",{className:"section-block cv-upload-section",children:[g.jsxs("div",{className:"section-title",children:[g.jsx("h3",{children:"CV / Resume"}),g.jsxs("label",{className:"add-icon",title:"Upload CV",children:[g.jsx(Wb,{}),g.jsx("input",{type:"file",accept:".pdf,.doc,.docx",hidden:!0,onChange:se=>y(se.target.files[0])})]})]}),i.cvUrl?g.jsx("a",{href:i.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"cv-link",children:"View Current CV"}):g.jsx("p",{children:"No CV uploaded"})]})]}),g.jsxs("div",{className:"profile-right",children:[g.jsxs("div",{className:"section-block about-section",children:[g.jsxs("div",{className:"section-title",children:[g.jsx("h3",{children:"About"}),g.jsx("button",{className:"edit-icon",onClick:()=>b("about"),children:g.jsx(ma,{})})]}),v==="about"?g.jsxs("div",{className:"edit-mode",children:[g.jsx("textarea",{rows:"6",value:i.about||"",onChange:se=>e({...i,about:se.target.value})}),g.jsx("button",{onClick:()=>$("about"),disabled:o,className:"save-btn-small",children:o?"Saving...":"Save"})]}):g.jsx("p",{children:i.about||"Write something about yourself."})]}),g.jsxs("div",{className:"section-block skills-section",children:[g.jsxs("div",{className:"section-title",children:[g.jsx("h3",{children:"Skills"}),g.jsx("button",{className:"edit-icon",onClick:()=>b("skills"),children:g.jsx(ma,{})})]}),v==="skills"?g.jsxs("div",{className:"edit-mode",children:[g.jsx("input",{type:"text",placeholder:"e.g. HTML, CSS, JavaScript",value:Array.isArray(i.skills)?i.skills.join(", "):i.skills||"",onChange:se=>e({...i,skills:se.target.value.split(",").map(re=>re.trim()).filter(re=>re)})}),g.jsx("button",{onClick:()=>$("skills"),disabled:o,className:"save-btn-small",children:o?"Saving...":"Save"})]}):g.jsxs("div",{className:"skills-list",children:[(Array.isArray(i.skills)?i.skills:[]).map((se,re)=>g.jsx("span",{className:"skill-tag",children:se},re)),(!i.skills||i.skills.length===0)&&g.jsx("p",{children:"No skills added."})]})]})]})]})]}):g.jsx("p",{children:"No candidate data found."})}function u4({onSelectCompany:i}){const[e,n]=O.useState(""),[r,o]=O.useState([]),[c,u]=O.useState([]),[m,p]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const A=ni(we,"companies"),z=(await es(A)).docs.map(P=>({id:P.id,...P.data()}));o(z)}catch(A){console.error("Error fetching companies:",A)}})()},[]),O.useEffect(()=>{if(!e.trim()){u([]);return}const b=r.filter(A=>(A.companyName||A.name||"").toLowerCase().includes(e.toLowerCase()));u(b.slice(0,5))},[e,r]);const y=b=>{n(b.companyName||b.name),p(!1),i&&i(b)},v=b=>{if(b.preventDefault(),e.trim()){const A=r.find(x=>(x.companyName||x.name||"").toLowerCase()===e.toLowerCase());A&&i&&i(A)}p(!1)};return g.jsxs("div",{className:"search-bar",children:[g.jsxs("form",{onSubmit:v,children:[g.jsx(Kh,{size:20}),g.jsx("input",{type:"text",placeholder:"Company name",value:e,onChange:b=>{n(b.target.value),p(!0)}}),g.jsx("button",{type:"submit",children:"Find"})]}),m&&c.length>0&&g.jsx("ul",{className:"suggestion-list",children:c.map(b=>g.jsxs("li",{onClick:()=>y(b),children:[g.jsx(Kh,{size:15})," ",b.companyName||b.name]},b.id))})]})}function h4(){const[i,e]=O.useState([]),[n,r]=O.useState([]),o=dn();O.useEffect(()=>{(async()=>{try{const m=ni(we,"companies"),y=(await es(m)).docs.map(v=>({id:v.id,...v.data()}));e(y),r(y)}catch(m){console.error("Error fetching companies:",m)}})()},[]);const c=u=>{o(`/candidate/home/review/${u.id}`)};return g.jsxs("div",{className:"company-review-page",children:[g.jsx("header",{className:"company-review-header",children:g.jsx(u4,{onSelectCompany:c})}),g.jsx("div",{className:"company-list",children:n.map(u=>g.jsxs("div",{className:"company-card",onClick:()=>o(`/candidate/home/review/${u.id}`),children:[g.jsx("img",{src:u.logoUrl||"/default-logo.png",alt:u.companyName||u.name,className:"company-logo"}),g.jsxs("div",{className:"company-info",children:[g.jsx("h3",{children:u.companyName||u.name}),g.jsx("p",{children:u.industry||"No industry info"}),g.jsx("p",{children:u.address||"No address info"}),g.jsx("p",{children:u.companySize||u.size||"Unknown size"})]})]},u.id))})]})}function f4(){const{companyId:i}=zb(),[e,n]=O.useState(null),[r,o]=O.useState([]),[c,u]=O.useState(null);return O.useEffect(()=>{(async()=>{const p=Be(we,"companies",i),y=await tn(p);y.exists()&&n({id:y.id,...y.data()})})()},[i]),O.useEffect(()=>{(async()=>{const p=ka(ni(we,"jobs"),Ds("companyId","==",i),Ds("status","==","published")),v=(await es(p)).docs.map(b=>({id:b.id,...b.data()}));o(v)})()},[i]),e?g.jsxs("div",{className:"company-public-container",children:[g.jsx("div",{className:"company-header-hero",children:g.jsxs("div",{className:"company-profile-card",children:[g.jsx("img",{src:e.logoUrl||"/default-logo.png",alt:"Company Logo",className:"company-avatar"}),g.jsxs("div",{className:"company-info-block",children:[g.jsx("h1",{className:"company-name",children:e.name}),g.jsx("p",{className:"company-industry",children:e.industry||"No industry info"}),g.jsxs("div",{className:"company-quick-meta",children:[g.jsxs("p",{children:["📍 ",e.location||"Location not provided"]}),e.size&&g.jsxs("p",{children:["👥 ",e.size]}),e.founded&&g.jsxs("p",{children:["📅 ",e.founded]})]})]})]})}),g.jsxs("div",{className:"company-body-content",children:[g.jsxs("div",{className:"company-sidebar",children:[g.jsxs("section",{className:"company-key-details",children:[g.jsx("h2",{children:"Key Information"}),g.jsxs("div",{className:"details-grid",children:[e.location&&g.jsxs("p",{children:[g.jsx("strong",{children:"Location:"})," ",e.location]}),e.size&&g.jsxs("p",{children:[g.jsx("strong",{children:"Size:"})," ",e.size]}),e.industry&&g.jsxs("p",{children:[g.jsx("strong",{children:"Industry:"})," ",e.industry]}),e.founded&&g.jsxs("p",{children:[g.jsx("strong",{children:"Founded:"})," ",e.founded]}),e.website&&g.jsxs("p",{children:[g.jsx("strong",{children:"Website:"}),g.jsx("a",{href:e.website,target:"_blank",rel:"noreferrer",children:e.website})]}),e.email&&g.jsxs("p",{children:[g.jsx("strong",{children:"Email:"})," ",e.email]}),e.type&&g.jsxs("p",{children:[g.jsx("strong",{children:"Type:"})," ",e.type]})]})]}),g.jsxs("section",{className:"company-about",children:[g.jsxs("h2",{children:["About ",e.name]}),g.jsx("p",{children:e.description||"This company has not added a description yet."})]})]}),g.jsxs("section",{className:"company-jobs-section",children:[g.jsxs("h2",{children:["Open Positions (",r.length,")"]}),r.length===0?g.jsx("p",{className:"no-jobs-text",children:"This company has no active job postings."}):g.jsx("div",{className:"company-jobs-list",children:r.map(m=>g.jsxs("div",{className:"company-job-card",onClick:()=>u(m),children:[g.jsx("h3",{children:m.title}),g.jsxs("p",{className:"job-meta",children:[g.jsxs("span",{className:"job-location",children:["📍 ",m.location||"Remote"]}),g.jsxs("span",{className:"job-salary",children:["💰 ",m.salaryFrom&&m.salaryTo?`${m.salaryFrom} - ${m.salaryTo} VND`:"Negotiable"]})]}),g.jsx("span",{className:"job-category",children:m.category})]},m.id))})]})]}),c&&g.jsx(ny,{job:c,company:e,onClose:()=>u(null)})]}):g.jsx("div",{className:"company-loading",children:"Loading company profile..."})}function d4(){const[i,e]=O.useState(null),[n,r]=O.useState(!0),[o,c]=O.useState(!1),[u,m]=O.useState(!1),[p,y]=O.useState(null),v=ft.currentUser;O.useEffect(()=>{(async()=>{if(v)try{const z=Be(we,"companies",v.uid),P=await tn(z),M=P.exists()?P.data():{name:"",industry:"",companyType:"",size:"",website:"",description:"",logoUrl:""};e(M)}catch(z){console.error("Error fetching company:",z)}finally{r(!1)}})()},[v]);const b=async x=>{const z=new FormData;z.append("file",x),z.append("upload_preset","cruitment");const M=await(await fetch("https://api.cloudinary.com/v1_1/dxgaqawwy/image/upload",{method:"POST",body:z})).json();if(!M.secure_url)throw new Error("Upload failed");return M.secure_url},A=async()=>{if(!(!v||!i)){m(!0);try{const x=Be(we,"companies",v.uid);let z={...i};if(p){const P=await b(p);z.logoUrl=P,y(null)}await Hc(x,{...z,updatedAt:Pn()}),e(z),c(!1),alert("✅ Company info updated!")}catch(x){console.error("Update failed:",x),alert("❌ Failed to update info")}finally{m(!1)}}};return n?g.jsx("p",{children:"Loading..."}):i?g.jsxs("div",{className:"company-profile",children:[g.jsxs("div",{className:"company-header",children:[g.jsxs("div",{className:"logo-wrapper",children:[g.jsx("img",{src:p?URL.createObjectURL(p):i.logoUrl||"https://via.placeholder.com/120",alt:"Company Logo",className:"company-logo"}),o&&g.jsxs("label",{className:"edit-logo-btn",children:[g.jsx(ma,{size:14}),g.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:x=>y(x.target.files[0])})]})]}),g.jsxs("div",{className:"company-info",children:[g.jsx("h1",{children:i.name||"Unnamed Company"}),g.jsx("p",{children:i.address||"No address provided"})]}),!o&&g.jsxs("button",{className:"edit-btn",onClick:()=>c(!0),children:[g.jsx(ma,{})," Edit"]})]}),g.jsxs("section",{className:"info-section",children:[g.jsx("h2",{children:"Basic Information"}),o?g.jsxs("div",{className:"edit-form",children:[g.jsxs("div",{className:"form-row",children:[g.jsx("label",{children:"Company Name"}),g.jsx("input",{type:"text",value:i.name||"",onChange:x=>e({...i,name:x.target.value})})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("label",{children:"Industry"}),g.jsx("input",{type:"text",value:i.industry||"",onChange:x=>e({...i,industry:x.target.value})})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("label",{children:"Company Type"}),g.jsx("input",{type:"text",value:i.companyType||"",onChange:x=>e({...i,companyType:x.target.value})})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("label",{children:"Size"}),g.jsx("input",{type:"text",value:i.size||"",onChange:x=>e({...i,size:x.target.value})})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("label",{children:"Website"}),g.jsx("input",{type:"text",value:i.website||"",onChange:x=>e({...i,website:x.target.value})})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{onClick:A,disabled:u,className:"save-btn",children:u?"Saving...":g.jsx(Zp,{})}),g.jsx("button",{onClick:()=>{c(!1),y(null)},className:"cancel-btn",children:g.jsx(e0,{})})]})]}):g.jsxs("div",{className:"info-display",children:[g.jsxs("div",{className:"info-row",children:[g.jsx("span",{children:"Industry"}),g.jsx("span",{children:i.industry||"—"})]}),g.jsxs("div",{className:"info-row",children:[g.jsx("span",{children:"Company Type"}),g.jsx("span",{children:i.companyType||"—"})]}),g.jsxs("div",{className:"info-row",children:[g.jsx("span",{children:"Size"}),g.jsx("span",{children:i.size||"—"})]}),g.jsxs("div",{className:"info-row",children:[g.jsx("span",{children:"Website"}),g.jsx("span",{children:i.website||"—"})]})]})]}),g.jsxs("section",{className:"info-section",children:[g.jsx("h2",{children:"About"}),o?g.jsx("textarea",{rows:"4",value:i.description||"",onChange:x=>e({...i,description:x.target.value})}):g.jsx("p",{children:i.description||"No description provided."})]})]}):g.jsx("p",{children:"No company data found."})}const m4=["TP. Hồ Chí Minh","Hà Nội","Đà Nẵng","Bình Dương","Cần Thơ","Hải Phòng","Bà Rịa - Vũng Tàu","Đồng Nai","Long An","An Giang","Bắc Giang","Bắc Ninh","Bình Định","Bình Phước","Cà Mau","Kiên Giang","Lâm Đồng","Nghệ An","Thanh Hóa","Thừa Thiên Huế","Vĩnh Phúc","Vũng Tàu","Khác"],p4=["Full-time","Part-time","Internship","Freelance","Remote"],g4=["On-site","Remote","Hybrid"],y4=["Not required","Bachelor","Master","PhD"];function _4(){const[i,e]=O.useState({title:"",type:"Full-time",workMode:"On-site",location:"",salaryFrom:"",salaryTo:"",category:"",skills:"",experience:"",education:"",description:"",responsibilities:"",benefits:"",vacancies:"",deadline:"",contactEmail:""}),[n,r]=O.useState(!1),o=u=>{e({...i,[u.target.name]:u.target.value})},c=async u=>{const m=ft.currentUser;if(!m){alert("❌ Please log in first.");return}if(!i.title||!i.category||!i.description){alert("⚠️ Please fill in all required fields: title, category, description.");return}try{r(!0);const p={...i,companyId:m.uid,isActive:u==="published",status:u,createdAt:Pn(),updatedAt:Pn()};await AM(ni(we,"jobs"),p),alert(u==="published"?"✅ Job published successfully!":"💾 Saved as draft!"),e({title:"",type:"Full-time",workMode:"On-site",location:"",salaryFrom:"",salaryTo:"",category:"",skills:"",experience:"",education:"",description:"",responsibilities:"",benefits:"",vacancies:"",deadline:"",contactEmail:"",isActive:!0})}catch(p){console.error("❌ Error creating job:",p),alert("Error creating job post. Please try again.")}finally{r(!1)}};return g.jsx("div",{className:"company-dashboard",children:g.jsxs("main",{className:"main-content",children:[g.jsx("h2",{children:"Create New Job"}),g.jsxs("form",{className:"job-form",onSubmit:u=>u.preventDefault(),children:[g.jsxs("section",{className:"form-section",children:[g.jsx("h3",{children:"Basic Information"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Job Title *"}),g.jsx("input",{type:"text",name:"title",value:i.title,onChange:o,required:!0})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Job Type"}),g.jsx("select",{name:"type",value:i.type,onChange:o,children:p4.map((u,m)=>g.jsx("option",{value:u,children:u},m))})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Work Mode"}),g.jsx("select",{name:"workMode",value:i.workMode,onChange:o,children:g4.map((u,m)=>g.jsx("option",{value:u,children:u},m))})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Location"}),g.jsxs("select",{name:"location",value:i.location,onChange:o,required:!0,children:[g.jsx("option",{value:"",children:"Select location"}),m4.map((u,m)=>g.jsx("option",{value:u,children:u},m))]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Salary From (VND)"}),g.jsx("input",{type:"number",name:"salaryFrom",value:i.salaryFrom,onChange:o})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Salary To (VND)"}),g.jsx("input",{type:"number",name:"salaryTo",value:i.salaryTo,onChange:o})]})]})]}),g.jsxs("section",{className:"form-section",children:[g.jsx("h3",{children:"Category & Skills"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Category *"}),g.jsxs("select",{name:"category",value:i.category,onChange:o,children:[g.jsx("option",{value:"",children:"Select category"}),Ew.map((u,m)=>g.jsx("option",{value:u,children:u},m))]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Skills (comma separated)"}),g.jsx("input",{type:"text",name:"skills",placeholder:"React, NodeJS, AWS...",value:i.skills,onChange:o})]})]}),g.jsxs("section",{className:"form-section",children:[g.jsx("h3",{children:"Requirements"}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Experience (years)"}),g.jsx("input",{type:"number",name:"experience",value:i.experience,onChange:o,placeholder:"e.g. 2"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Education Level"}),g.jsx("select",{name:"education",value:i.education,onChange:o,children:y4.map((u,m)=>g.jsx("option",{value:u,children:u},m))})]})]})]}),g.jsxs("section",{className:"form-section",children:[g.jsx("h3",{children:"Job Details *"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Description"}),g.jsx("textarea",{name:"description",rows:"3",value:i.description,onChange:o})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Responsibilities"}),g.jsx("textarea",{name:"responsibilities",rows:"3",value:i.responsibilities,onChange:o})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Benefits"}),g.jsx("textarea",{name:"benefits",rows:"3",value:i.benefits,onChange:o})]})]}),g.jsxs("section",{className:"form-section",children:[g.jsx("h3",{children:"Additional Info"}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Vacancies"}),g.jsx("input",{type:"number",name:"vacancies",value:i.vacancies,onChange:o})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Deadline"}),g.jsx("input",{type:"date",name:"deadline",value:i.deadline,onChange:o})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Contact Email"}),g.jsx("input",{type:"email",name:"contactEmail",value:i.contactEmail,onChange:o})]})]}),g.jsxs("div",{className:"button-group",children:[g.jsx("button",{type:"button",className:"btn-primary",onClick:()=>c("published"),disabled:n,children:n?"Publishing...":"Publish Job"}),g.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>c("draft"),disabled:n,children:n?"Saving...":"Save as Draft"})]})]})]})})}function v4(){return g.jsx(SR,{children:g.jsxs(eR,{children:[g.jsx(bt,{path:"/",element:g.jsx(n4,{})}),g.jsx(bt,{path:"/homepage",element:g.jsx(OR,{})}),g.jsxs(bt,{path:"/candidate/home",element:g.jsx(l4,{}),children:[g.jsx(bt,{index:!0,element:g.jsx(KV,{})}),g.jsx(bt,{path:"saved-jobs",element:g.jsx(GV,{})}),g.jsx(bt,{path:"account",element:g.jsx(c4,{})}),g.jsx(bt,{path:"review",element:g.jsx(h4,{})}),g.jsx(bt,{path:"review/:companyId",element:g.jsx(f4,{})})]}),g.jsx(bt,{path:"/candidate/login",element:g.jsx(YV,{})}),g.jsx(bt,{path:"/candidate/register",element:g.jsx(QV,{})}),g.jsx(bt,{path:"/candidate/setup",element:g.jsx(XV,{})}),g.jsxs(bt,{path:"/company/home",element:g.jsx(JV,{}),children:[g.jsx(bt,{path:"create",element:g.jsx(_4,{})}),g.jsx(bt,{path:"jobs",element:g.jsx(a4,{})}),g.jsx(bt,{path:"profile",element:g.jsx(d4,{})}),g.jsx(bt,{path:"jobs/:jobId",element:g.jsx(i4,{})})]}),g.jsx(bt,{path:"/company/login",element:g.jsx(WV,{})}),g.jsx(bt,{path:"/company/register",element:g.jsx(ZV,{})}),g.jsx(bt,{path:"/company/setup",element:g.jsx(e4,{})}),g.jsx(bt,{path:"/get-started",element:g.jsx(t4,{})})]})})}lC.createRoot(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx(v4,{})}));
